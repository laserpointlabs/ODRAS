2025-09-03 11:22:48,518 - __main__ - ERROR - Worker error: Retry.__init__() got an unexpected keyword argument 'method_whitelist'
2025-09-03 11:23:14,282 - __main__ - ERROR - Worker error: Retry.__init__() got an unexpected keyword argument 'method_whitelist'
2025-09-03 11:23:31,828 - __main__ - ERROR - Worker error: Retry.__init__() got an unexpected keyword argument 'method_whitelist'
2025-09-03 11:24:01,342 - services.external_task_worker - INFO - Starting external task worker: odras-worker-1756913041
2025-09-03 11:24:01,414 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 11:24:01,415 - services.external_task_worker - INFO - Executing task 278a6f34-88d9-11f0-916b-0242ac140006 for topic validate-document
2025-09-03 11:24:01,415 - services.external_task_worker - ERROR - Error executing task 278a6f34-88d9-11f0-916b-0242ac140006: Task execution failed: document_content variable is required
2025-09-03 11:24:01,415 - services.external_task_worker - ERROR - Traceback (most recent call last):
  File "/home/jdehart/working/ODRAS/scripts/../backend/services/external_task_worker.py", line 180, in execute_task
    result = handler(task_variables)
  File "/home/jdehart/working/ODRAS/scripts/../backend/services/external_task_worker.py", line 280, in handle_validate_document
    raise Exception("document_content variable is required")
Exception: document_content variable is required

2025-09-03 11:24:16,412 - __main__ - INFO - Received signal 2, shutting down worker...
2025-09-03 11:25:02,267 - services.external_task_worker - INFO - Starting external task worker: odras-worker-1756913102
2025-09-03 11:25:02,277 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 11:25:02,277 - services.external_task_worker - INFO - Executing task 22011650-88da-11f0-916b-0242ac140006 for topic validate-document
2025-09-03 11:25:02,277 - services.external_task_worker - ERROR - Error executing task 22011650-88da-11f0-916b-0242ac140006: Task execution failed: document_content variable is required
2025-09-03 11:25:02,278 - services.external_task_worker - ERROR - Traceback (most recent call last):
  File "/home/jdehart/working/ODRAS/scripts/../backend/services/external_task_worker.py", line 180, in execute_task
    result = handler(task_variables)
  File "/home/jdehart/working/ODRAS/scripts/../backend/services/external_task_worker.py", line 280, in handle_validate_document
    raise Exception("document_content variable is required")
Exception: document_content variable is required

2025-09-03 11:25:34,790 - __main__ - INFO - Received signal 2, shutting down worker...
2025-09-03 11:25:51,062 - services.external_task_worker - INFO - Starting external task worker: odras-worker-1756913151
2025-09-03 11:25:57,208 - __main__ - INFO - Received signal 15, shutting down worker...
2025-09-03 11:26:55,877 - services.external_task_worker - INFO - Starting external task worker: odras-worker-1756913215
2025-09-03 11:26:55,892 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 11:26:55,893 - services.external_task_worker - INFO - Executing task 68b49af0-88da-11f0-916b-0242ac140006 for topic validate-document
2025-09-03 11:26:55,893 - services.external_task_worker - INFO - Task variables: {'document_filename': 'test_document.txt', 'document_mime_type': 'text/plain', 'document_content': '/tmp/odras-test/test_document.txt'}
2025-09-03 11:26:55,933 - services.external_task_worker - INFO - Successfully completed task 68b49af0-88da-11f0-916b-0242ac140006
2025-09-03 11:26:55,944 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 11:26:55,944 - services.external_task_worker - INFO - Executing task 6cde4787-88da-11f0-916b-0242ac140006 for topic parse-document
2025-09-03 11:26:55,945 - services.external_task_worker - INFO - Task variables: {'document_filename': 'test_document.txt', 'document_mime_type': 'text/plain', 'document_content': '/tmp/odras-test/test_document.txt'}
2025-09-03 11:26:55,959 - services.external_task_worker - INFO - Successfully completed task 6cde4787-88da-11f0-916b-0242ac140006
2025-09-03 11:26:55,970 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 11:26:55,970 - services.external_task_worker - INFO - Executing task 6ce30283-88da-11f0-916b-0242ac140006 for topic chunk-document
2025-09-03 11:26:55,970 - services.external_task_worker - INFO - Task variables: {'parsed_content': 'This is a test document for the RAG pipeline workflow.\n\nThe system shall process documents efficiently and extract meaningful content.\nThe RAG pipeline must handle various document formats including text, PDF, and Word documents.\n\nRequirements:\n- The system shall validate all uploaded documents\n- The system must chunk documents into appropriate sizes  \n- The system shall generate vector embeddings for all chunks\n- The system must store embeddings in the vector database\n- The system shall update search indices for discoverability\n\nThis test document contains enough content to test the chunking and embedding generation processes.\nIt includes multiple paragraphs and requirements statements that should be properly processed.\n\nThe system shall ensure data integrity throughout the pipeline.\nPerformance requirements specify that documents must be processed within 60 seconds.\nThe system must support concurrent processing of multiple documents.\n', 'document_filename': 'test_document.txt', 'document_mime_type': 'text/plain', 'document_content': '/tmp/odras-test/test_document.txt'}
2025-09-03 11:26:55,973 - services.chunking_service - INFO - Chunking service initialized
2025-09-03 11:26:55,987 - services.external_task_worker - INFO - Successfully completed task 6ce30283-88da-11f0-916b-0242ac140006
2025-09-03 11:26:56,000 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 11:26:56,000 - services.external_task_worker - INFO - Executing task 6ce72149-88da-11f0-916b-0242ac140006 for topic generate-embeddings
2025-09-03 11:26:56,000 - services.external_task_worker - INFO - Task variables: {'parsed_content': 'This is a test document for the RAG pipeline workflow.\n\nThe system shall process documents efficiently and extract meaningful content.\nThe RAG pipeline must handle various document formats including text, PDF, and Word documents.\n\nRequirements:\n- The system shall validate all uploaded documents\n- The system must chunk documents into appropriate sizes  \n- The system shall generate vector embeddings for all chunks\n- The system must store embeddings in the vector database\n- The system shall update search indices for discoverability\n\nThis test document contains enough content to test the chunking and embedding generation processes.\nIt includes multiple paragraphs and requirements statements that should be properly processed.\n\nThe system shall ensure data integrity throughout the pipeline.\nPerformance requirements specify that documents must be processed within 60 seconds.\nThe system must support concurrent processing of multiple documents.\n', 'chunks_created': '[]', 'document_filename': 'test_document.txt', 'document_mime_type': 'text/plain', 'document_content': '/tmp/odras-test/test_document.txt'}
2025-09-03 11:26:56,016 - services.external_task_worker - INFO - Successfully completed task 6ce72149-88da-11f0-916b-0242ac140006
2025-09-03 11:26:56,029 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 11:26:56,029 - services.external_task_worker - INFO - Executing task 6ceb4008-88da-11f0-916b-0242ac140006 for topic store-vector-rag
2025-09-03 11:26:56,029 - services.external_task_worker - INFO - Task variables: {'embeddings_generated': '[]', 'parsed_content': 'This is a test document for the RAG pipeline workflow.\n\nThe system shall process documents efficiently and extract meaningful content.\nThe RAG pipeline must handle various document formats including text, PDF, and Word documents.\n\nRequirements:\n- The system shall validate all uploaded documents\n- The system must chunk documents into appropriate sizes  \n- The system shall generate vector embeddings for all chunks\n- The system must store embeddings in the vector database\n- The system shall update search indices for discoverability\n\nThis test document contains enough content to test the chunking and embedding generation processes.\nIt includes multiple paragraphs and requirements statements that should be properly processed.\n\nThe system shall ensure data integrity throughout the pipeline.\nPerformance requirements specify that documents must be processed within 60 seconds.\nThe system must support concurrent processing of multiple documents.\n', 'chunks_created': '[]', 'document_filename': 'test_document.txt', 'document_mime_type': 'text/plain', 'document_content': '/tmp/odras-test/test_document.txt'}
2025-09-03 11:26:56,053 - services.external_task_worker - INFO - Successfully completed task 6ceb4008-88da-11f0-916b-0242ac140006
2025-09-03 11:26:56,066 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 11:26:56,066 - services.external_task_worker - INFO - Executing task 6cf0e563-88da-11f0-916b-0242ac140006 for topic store-metadata
2025-09-03 11:26:56,067 - services.external_task_worker - INFO - Task variables: {'embeddings_generated': '[]', 'parsed_content': 'This is a test document for the RAG pipeline workflow.\n\nThe system shall process documents efficiently and extract meaningful content.\nThe RAG pipeline must handle various document formats including text, PDF, and Word documents.\n\nRequirements:\n- The system shall validate all uploaded documents\n- The system must chunk documents into appropriate sizes  \n- The system shall generate vector embeddings for all chunks\n- The system must store embeddings in the vector database\n- The system shall update search indices for discoverability\n\nThis test document contains enough content to test the chunking and embedding generation processes.\nIt includes multiple paragraphs and requirements statements that should be properly processed.\n\nThe system shall ensure data integrity throughout the pipeline.\nPerformance requirements specify that documents must be processed within 60 seconds.\nThe system must support concurrent processing of multiple documents.\n', 'chunks_created': '[]', 'document_filename': 'test_document.txt', 'document_mime_type': 'text/plain', 'document_content': '/tmp/odras-test/test_document.txt'}
2025-09-03 11:26:56,087 - services.external_task_worker - INFO - Successfully completed task 6cf0e563-88da-11f0-916b-0242ac140006
2025-09-03 11:26:56,098 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 11:26:56,098 - services.external_task_worker - INFO - Executing task 6cf5c76d-88da-11f0-916b-0242ac140006 for topic update-search-index
2025-09-03 11:26:56,099 - services.external_task_worker - INFO - Task variables: {'embeddings_generated': '[]', 'parsed_content': 'This is a test document for the RAG pipeline workflow.\n\nThe system shall process documents efficiently and extract meaningful content.\nThe RAG pipeline must handle various document formats including text, PDF, and Word documents.\n\nRequirements:\n- The system shall validate all uploaded documents\n- The system must chunk documents into appropriate sizes  \n- The system shall generate vector embeddings for all chunks\n- The system must store embeddings in the vector database\n- The system shall update search indices for discoverability\n\nThis test document contains enough content to test the chunking and embedding generation processes.\nIt includes multiple paragraphs and requirements statements that should be properly processed.\n\nThe system shall ensure data integrity throughout the pipeline.\nPerformance requirements specify that documents must be processed within 60 seconds.\nThe system must support concurrent processing of multiple documents.\n', 'chunks_created': '[]', 'document_filename': 'test_document.txt', 'document_mime_type': 'text/plain', 'document_content': '/tmp/odras-test/test_document.txt'}
2025-09-03 11:26:56,149 - services.external_task_worker - INFO - Successfully completed task 6cf5c76d-88da-11f0-916b-0242ac140006
2025-09-03 11:27:22,019 - __main__ - INFO - Received signal 15, shutting down worker...
2025-09-03 11:45:58,525 - services.external_task_worker - INFO - Starting external task worker: odras-worker-1756914358
2025-09-03 11:45:58,537 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 11:45:58,537 - services.external_task_worker - INFO - Executing task f15223ae-88dc-11f0-916b-0242ac140006 for topic process-user-query
2025-09-03 11:45:58,537 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the system requirements for document validation?', 'query_metadata': '{"user_id": "test_user", "session_id": "test_session_1"}'}
2025-09-03 11:45:58,550 - services.external_task_worker - INFO - Successfully completed task f15223ae-88dc-11f0-916b-0242ac140006
2025-09-03 11:45:58,564 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 11:45:58,564 - services.external_task_worker - INFO - Executing task 15ec8fe9-88dd-11f0-916b-0242ac140006 for topic retrieve-context
2025-09-03 11:45:58,564 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the system requirements for document validation?', 'query_metadata': '{"user_id": "test_user", "session_id": "test_session_1"}', 'processed_query': '{"original_query": "What are the system requirements for document validation?", "cleaned_query": "What are the system requirements for document validation?", "key_terms": ["what", "system", "requirements", "document", "validation"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["system", "requirements", "validation"], "word_count": 8, "char_count": 57, "query_metadata": {"user_id": "test_user", "session_id": "test_session_1"}, "processing_timestamp": 1756914358.5379062}', 'search_parameters': '{"primary_terms": ["what", "system", "requirements", "document", "validation"], "secondary_terms": [], "search_boost_terms": ["system", "requirements", "validation"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 11:45:58,566 - services.embedding_service - INFO - Embedding service initialized
2025-09-03 11:45:58,566 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-03 11:45:58,667 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-03 11:45:58,675 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-03 11:45:58,677 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-03 11:45:58,692 - services.external_task_worker - INFO - Successfully completed task 15ec8fe9-88dd-11f0-916b-0242ac140006
2025-09-03 11:45:58,707 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 11:45:58,707 - services.external_task_worker - INFO - Executing task 1601ecc2-88dd-11f0-916b-0242ac140006 for topic rerank-context
2025-09-03 11:45:58,707 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the system requirements for document validation?', 'query_metadata': '{"user_id": "test_user", "session_id": "test_session_1"}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "What are the system requirements for document validation?", "cleaned_query": "What are the system requirements for document validation?", "key_terms": ["what", "system", "requirements", "document", "validation"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["system", "requirements", "validation"], "word_count": 8, "char_count": 57, "query_metadata": {"user_id": "test_user", "session_id": "test_session_1"}, "processing_timestamp": 1756914358.5379062}', 'search_parameters': '{"primary_terms": ["what", "system", "requirements", "document", "validation"], "secondary_terms": [], "search_boost_terms": ["system", "requirements", "validation"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 11:45:58,722 - services.external_task_worker - INFO - Successfully completed task 1601ecc2-88dd-11f0-916b-0242ac140006
2025-09-03 11:45:58,736 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 11:45:58,736 - services.external_task_worker - INFO - Executing task 1606a7c9-88dd-11f0-916b-0242ac140006 for topic fallback-search
2025-09-03 11:45:58,736 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the system requirements for document validation?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "test_user", "session_id": "test_session_1"}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "What are the system requirements for document validation?", "cleaned_query": "What are the system requirements for document validation?", "key_terms": ["what", "system", "requirements", "document", "validation"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["system", "requirements", "validation"], "word_count": 8, "char_count": 57, "query_metadata": {"user_id": "test_user", "session_id": "test_session_1"}, "processing_timestamp": 1756914358.5379062}', 'search_parameters': '{"primary_terms": ["what", "system", "requirements", "document", "validation"], "secondary_terms": [], "search_boost_terms": ["system", "requirements", "validation"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 11:45:58,751 - services.external_task_worker - INFO - Successfully completed task 1606a7c9-88dd-11f0-916b-0242ac140006
2025-09-03 11:45:58,764 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 11:45:58,764 - services.external_task_worker - INFO - Executing task 160b13ae-88dd-11f0-916b-0242ac140006 for topic construct-prompt
2025-09-03 11:45:58,764 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the system requirements for document validation?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "test_user", "session_id": "test_session_1"}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What are the system requirements for document validation?", "cleaned_query": "What are the system requirements for document validation?", "key_terms": ["what", "system", "requirements", "document", "validation"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["system", "requirements", "validation"], "word_count": 8, "char_count": 57, "query_metadata": {"user_id": "test_user", "session_id": "test_session_1"}, "processing_timestamp": 1756914358.5379062}', 'search_parameters': '{"primary_terms": ["what", "system", "requirements", "document", "validation"], "secondary_terms": [], "search_boost_terms": ["system", "requirements", "validation"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 11:45:58,780 - services.external_task_worker - INFO - Successfully completed task 160b13ae-88dd-11f0-916b-0242ac140006
2025-09-03 11:45:58,791 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 11:45:58,791 - services.external_task_worker - INFO - Executing task 160f8091-88dd-11f0-916b-0242ac140006 for topic llm-generation
2025-09-03 11:45:58,792 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: What are the system requirements for document validation?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What are the system requirements for document validation?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "test_user", "session_id": "test_session_1"}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What are the system requirements for document validation?", "cleaned_query": "What are the system requirements for document validation?", "key_terms": ["what", "system", "requirements", "document", "validation"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["system", "requirements", "validation"], "word_count": 8, "char_count": 57, "query_metadata": {"user_id": "test_user", "session_id": "test_session_1"}, "processing_timestamp": 1756914358.5379062}', 'search_parameters': '{"primary_terms": ["what", "system", "requirements", "document", "validation"], "secondary_terms": [], "search_boost_terms": ["system", "requirements", "validation"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 11:45:58,806 - services.external_task_worker - INFO - Successfully completed task 160f8091-88dd-11f0-916b-0242ac140006
2025-09-03 11:45:58,823 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 11:45:58,823 - services.external_task_worker - INFO - Executing task 16135132-88dd-11f0-916b-0242ac140006 for topic process-response
2025-09-03 11:45:58,823 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: What are the system requirements for document validation?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What are the system requirements for document validation?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "test_user", "session_id": "test_session_1"}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What are the system requirements for document validation?", "cleaned_query": "What are the system requirements for document validation?", "key_terms": ["what", "system", "requirements", "document", "validation"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["system", "requirements", "validation"], "word_count": 8, "char_count": 57, "query_metadata": {"user_id": "test_user", "session_id": "test_session_1"}, "processing_timestamp": 1756914358.5379062}', 'llm_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'search_parameters': '{"primary_terms": ["what", "system", "requirements", "document", "validation"], "secondary_terms": [], "search_boost_terms": ["system", "requirements", "validation"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 11:45:58,838 - services.external_task_worker - INFO - Successfully completed task 16135132-88dd-11f0-916b-0242ac140006
2025-09-03 11:45:58,851 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 11:45:58,852 - services.external_task_worker - INFO - Executing task 16185a58-88dd-11f0-916b-0242ac140006 for topic log-interaction
2025-09-03 11:45:58,852 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: What are the system requirements for document validation?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What are the system requirements for document validation?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "test_user", "session_id": "test_session_1"}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'processed_query': '{"original_query": "What are the system requirements for document validation?", "cleaned_query": "What are the system requirements for document validation?", "key_terms": ["what", "system", "requirements", "document", "validation"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["system", "requirements", "validation"], "word_count": 8, "char_count": 57, "query_metadata": {"user_id": "test_user", "session_id": "test_session_1"}, "processing_timestamp": 1756914358.5379062}', 'llm_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'search_parameters': '{"primary_terms": ["what", "system", "requirements", "document", "validation"], "secondary_terms": [], "search_boost_terms": ["system", "requirements", "validation"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 11:45:58,880 - services.external_task_worker - INFO - Successfully completed task 16185a58-88dd-11f0-916b-0242ac140006
2025-09-03 11:46:13,820 - __main__ - INFO - Received signal 2, shutting down worker...
2025-09-03 11:51:21,985 - services.external_task_worker - INFO - Starting external task worker: odras-worker-1756914681
2025-09-03 11:51:21,996 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 11:51:21,996 - services.external_task_worker - INFO - Executing task cd4bc47e-88dd-11f0-916b-0242ac140006 for topic process-user-query
2025-09-03 11:51:21,996 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the main components of the ODRAS system?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.6, "timestamp": 1756914666.166478, "session_id": "test_session_api", "interface": "api_test"}'}
2025-09-03 11:51:22,012 - services.external_task_worker - INFO - Successfully completed task cd4bc47e-88dd-11f0-916b-0242ac140006
2025-09-03 11:51:22,021 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 11:51:22,022 - services.external_task_worker - INFO - Executing task d6b8a3e9-88dd-11f0-916b-0242ac140006 for topic retrieve-context
2025-09-03 11:51:22,022 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the main components of the ODRAS system?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.6, "timestamp": 1756914666.166478, "session_id": "test_session_api", "interface": "api_test"}', 'processed_query': '{"original_query": "What are the main components of the ODRAS system?", "cleaned_query": "What are the main components of the ODRAS system?", "key_terms": ["what", "main", "components", "odras", "system"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["system"], "word_count": 9, "char_count": 49, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.6, "timestamp": 1756914666.166478, "session_id": "test_session_api", "interface": "api_test"}, "processing_timestamp": 1756914681.997327}', 'search_parameters': '{"primary_terms": ["what", "main", "components", "odras", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 11:51:22,024 - services.embedding_service - INFO - Embedding service initialized
2025-09-03 11:51:22,025 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-03 11:51:22,101 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-03 11:51:22,107 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-03 11:51:22,108 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-03 11:51:22,121 - services.external_task_worker - INFO - Successfully completed task d6b8a3e9-88dd-11f0-916b-0242ac140006
2025-09-03 11:51:22,133 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 11:51:22,133 - services.external_task_worker - INFO - Executing task d6c993f2-88dd-11f0-916b-0242ac140006 for topic rerank-context
2025-09-03 11:51:22,133 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the main components of the ODRAS system?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.6, "timestamp": 1756914666.166478, "session_id": "test_session_api", "interface": "api_test"}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "What are the main components of the ODRAS system?", "cleaned_query": "What are the main components of the ODRAS system?", "key_terms": ["what", "main", "components", "odras", "system"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["system"], "word_count": 9, "char_count": 49, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.6, "timestamp": 1756914666.166478, "session_id": "test_session_api", "interface": "api_test"}, "processing_timestamp": 1756914681.997327}', 'search_parameters': '{"primary_terms": ["what", "main", "components", "odras", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 11:51:22,149 - services.external_task_worker - INFO - Successfully completed task d6c993f2-88dd-11f0-916b-0242ac140006
2025-09-03 11:51:22,162 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 11:51:22,162 - services.external_task_worker - INFO - Executing task d6cd1679-88dd-11f0-916b-0242ac140006 for topic fallback-search
2025-09-03 11:51:22,163 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the main components of the ODRAS system?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.6, "timestamp": 1756914666.166478, "session_id": "test_session_api", "interface": "api_test"}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "What are the main components of the ODRAS system?", "cleaned_query": "What are the main components of the ODRAS system?", "key_terms": ["what", "main", "components", "odras", "system"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["system"], "word_count": 9, "char_count": 49, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.6, "timestamp": 1756914666.166478, "session_id": "test_session_api", "interface": "api_test"}, "processing_timestamp": 1756914681.997327}', 'search_parameters': '{"primary_terms": ["what", "main", "components", "odras", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 11:51:22,177 - services.external_task_worker - INFO - Successfully completed task d6cd1679-88dd-11f0-916b-0242ac140006
2025-09-03 11:51:22,188 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 11:51:22,189 - services.external_task_worker - INFO - Executing task d6d1aa6e-88dd-11f0-916b-0242ac140006 for topic construct-prompt
2025-09-03 11:51:22,189 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the main components of the ODRAS system?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.6, "timestamp": 1756914666.166478, "session_id": "test_session_api", "interface": "api_test"}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What are the main components of the ODRAS system?", "cleaned_query": "What are the main components of the ODRAS system?", "key_terms": ["what", "main", "components", "odras", "system"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["system"], "word_count": 9, "char_count": 49, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.6, "timestamp": 1756914666.166478, "session_id": "test_session_api", "interface": "api_test"}, "processing_timestamp": 1756914681.997327}', 'search_parameters': '{"primary_terms": ["what", "main", "components", "odras", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 11:51:22,202 - services.external_task_worker - INFO - Successfully completed task d6d1aa6e-88dd-11f0-916b-0242ac140006
2025-09-03 11:51:22,213 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 11:51:22,214 - services.external_task_worker - INFO - Executing task d6d5c931-88dd-11f0-916b-0242ac140006 for topic llm-generation
2025-09-03 11:51:22,214 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: What are the main components of the ODRAS system?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What are the main components of the ODRAS system?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.6, "timestamp": 1756914666.166478, "session_id": "test_session_api", "interface": "api_test"}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What are the main components of the ODRAS system?", "cleaned_query": "What are the main components of the ODRAS system?", "key_terms": ["what", "main", "components", "odras", "system"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["system"], "word_count": 9, "char_count": 49, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.6, "timestamp": 1756914666.166478, "session_id": "test_session_api", "interface": "api_test"}, "processing_timestamp": 1756914681.997327}', 'search_parameters': '{"primary_terms": ["what", "main", "components", "odras", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 11:51:22,225 - services.external_task_worker - INFO - Successfully completed task d6d5c931-88dd-11f0-916b-0242ac140006
2025-09-03 11:51:22,238 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 11:51:22,238 - services.external_task_worker - INFO - Executing task d6d94bb2-88dd-11f0-916b-0242ac140006 for topic process-response
2025-09-03 11:51:22,238 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: What are the main components of the ODRAS system?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What are the main components of the ODRAS system?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.6, "timestamp": 1756914666.166478, "session_id": "test_session_api", "interface": "api_test"}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What are the main components of the ODRAS system?", "cleaned_query": "What are the main components of the ODRAS system?", "key_terms": ["what", "main", "components", "odras", "system"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["system"], "word_count": 9, "char_count": 49, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.6, "timestamp": 1756914666.166478, "session_id": "test_session_api", "interface": "api_test"}, "processing_timestamp": 1756914681.997327}', 'llm_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'search_parameters': '{"primary_terms": ["what", "main", "components", "odras", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 11:51:22,252 - services.external_task_worker - INFO - Successfully completed task d6d94bb2-88dd-11f0-916b-0242ac140006
2025-09-03 11:51:22,265 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 11:51:22,266 - services.external_task_worker - INFO - Executing task d6dd4268-88dd-11f0-916b-0242ac140006 for topic log-interaction
2025-09-03 11:51:22,266 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: What are the main components of the ODRAS system?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What are the main components of the ODRAS system?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.6, "timestamp": 1756914666.166478, "session_id": "test_session_api", "interface": "api_test"}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'processed_query': '{"original_query": "What are the main components of the ODRAS system?", "cleaned_query": "What are the main components of the ODRAS system?", "key_terms": ["what", "main", "components", "odras", "system"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["system"], "word_count": 9, "char_count": 49, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.6, "timestamp": 1756914666.166478, "session_id": "test_session_api", "interface": "api_test"}, "processing_timestamp": 1756914681.997327}', 'llm_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'search_parameters': '{"primary_terms": ["what", "main", "components", "odras", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 11:51:22,299 - services.external_task_worker - INFO - Successfully completed task d6dd4268-88dd-11f0-916b-0242ac140006
2025-09-03 11:51:33,094 - __main__ - INFO - Received signal 15, shutting down worker...
2025-09-03 12:01:15,181 - services.external_task_worker - INFO - Starting external task worker: odras-worker-1756915275
2025-09-03 12:01:15,194 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:01:15,194 - services.external_task_worker - INFO - Executing task 2e9d4a58-88df-11f0-916b-0242ac140006 for topic process-user-query
2025-09-03 12:01:15,194 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the main components of the ODRAS system?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.6, "timestamp": 1756915258.9343987, "session_id": "test_session_api", "interface": "swagger_test"}'}
2025-09-03 12:01:15,207 - services.external_task_worker - INFO - Successfully completed task 2e9d4a58-88df-11f0-916b-0242ac140006
2025-09-03 12:01:15,217 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:01:15,217 - services.external_task_worker - INFO - Executing task 384b2a63-88df-11f0-916b-0242ac140006 for topic retrieve-context
2025-09-03 12:01:15,217 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the main components of the ODRAS system?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.6, "timestamp": 1756915258.9343987, "session_id": "test_session_api", "interface": "swagger_test"}', 'processed_query': '{"original_query": "What are the main components of the ODRAS system?", "cleaned_query": "What are the main components of the ODRAS system?", "key_terms": ["what", "main", "components", "odras", "system"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["system"], "word_count": 9, "char_count": 49, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.6, "timestamp": 1756915258.9343987, "session_id": "test_session_api", "interface": "swagger_test"}, "processing_timestamp": 1756915275.1952994}', 'search_parameters': '{"primary_terms": ["what", "main", "components", "odras", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:01:15,220 - services.embedding_service - INFO - Embedding service initialized
2025-09-03 12:01:15,220 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-03 12:01:15,305 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-03 12:01:15,310 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-03 12:01:15,312 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-03 12:01:15,324 - services.external_task_worker - INFO - Successfully completed task 384b2a63-88df-11f0-916b-0242ac140006
2025-09-03 12:01:15,336 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:01:15,336 - services.external_task_worker - INFO - Executing task 385d04cc-88df-11f0-916b-0242ac140006 for topic rerank-context
2025-09-03 12:01:15,336 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the main components of the ODRAS system?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.6, "timestamp": 1756915258.9343987, "session_id": "test_session_api", "interface": "swagger_test"}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "What are the main components of the ODRAS system?", "cleaned_query": "What are the main components of the ODRAS system?", "key_terms": ["what", "main", "components", "odras", "system"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["system"], "word_count": 9, "char_count": 49, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.6, "timestamp": 1756915258.9343987, "session_id": "test_session_api", "interface": "swagger_test"}, "processing_timestamp": 1756915275.1952994}', 'search_parameters': '{"primary_terms": ["what", "main", "components", "odras", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:01:15,351 - services.external_task_worker - INFO - Successfully completed task 385d04cc-88df-11f0-916b-0242ac140006
2025-09-03 12:01:15,361 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:01:15,361 - services.external_task_worker - INFO - Executing task 3860fc83-88df-11f0-916b-0242ac140006 for topic fallback-search
2025-09-03 12:01:15,361 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the main components of the ODRAS system?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.6, "timestamp": 1756915258.9343987, "session_id": "test_session_api", "interface": "swagger_test"}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "What are the main components of the ODRAS system?", "cleaned_query": "What are the main components of the ODRAS system?", "key_terms": ["what", "main", "components", "odras", "system"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["system"], "word_count": 9, "char_count": 49, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.6, "timestamp": 1756915258.9343987, "session_id": "test_session_api", "interface": "swagger_test"}, "processing_timestamp": 1756915275.1952994}', 'search_parameters': '{"primary_terms": ["what", "main", "components", "odras", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:01:15,373 - services.external_task_worker - INFO - Successfully completed task 3860fc83-88df-11f0-916b-0242ac140006
2025-09-03 12:01:15,383 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:01:15,383 - services.external_task_worker - INFO - Executing task 3864a618-88df-11f0-916b-0242ac140006 for topic construct-prompt
2025-09-03 12:01:15,383 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the main components of the ODRAS system?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.6, "timestamp": 1756915258.9343987, "session_id": "test_session_api", "interface": "swagger_test"}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What are the main components of the ODRAS system?", "cleaned_query": "What are the main components of the ODRAS system?", "key_terms": ["what", "main", "components", "odras", "system"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["system"], "word_count": 9, "char_count": 49, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.6, "timestamp": 1756915258.9343987, "session_id": "test_session_api", "interface": "swagger_test"}, "processing_timestamp": 1756915275.1952994}', 'search_parameters': '{"primary_terms": ["what", "main", "components", "odras", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:01:15,396 - services.external_task_worker - INFO - Successfully completed task 3864a618-88df-11f0-916b-0242ac140006
2025-09-03 12:01:15,406 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:01:15,407 - services.external_task_worker - INFO - Executing task 3868018b-88df-11f0-916b-0242ac140006 for topic llm-generation
2025-09-03 12:01:15,407 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: What are the main components of the ODRAS system?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What are the main components of the ODRAS system?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.6, "timestamp": 1756915258.9343987, "session_id": "test_session_api", "interface": "swagger_test"}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What are the main components of the ODRAS system?", "cleaned_query": "What are the main components of the ODRAS system?", "key_terms": ["what", "main", "components", "odras", "system"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["system"], "word_count": 9, "char_count": 49, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.6, "timestamp": 1756915258.9343987, "session_id": "test_session_api", "interface": "swagger_test"}, "processing_timestamp": 1756915275.1952994}', 'search_parameters': '{"primary_terms": ["what", "main", "components", "odras", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:01:15,420 - services.external_task_worker - INFO - Successfully completed task 3868018b-88df-11f0-916b-0242ac140006
2025-09-03 12:01:15,433 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:01:15,433 - services.external_task_worker - INFO - Executing task 386bab1c-88df-11f0-916b-0242ac140006 for topic process-response
2025-09-03 12:01:15,433 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: What are the main components of the ODRAS system?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What are the main components of the ODRAS system?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.6, "timestamp": 1756915258.9343987, "session_id": "test_session_api", "interface": "swagger_test"}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What are the main components of the ODRAS system?", "cleaned_query": "What are the main components of the ODRAS system?", "key_terms": ["what", "main", "components", "odras", "system"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["system"], "word_count": 9, "char_count": 49, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.6, "timestamp": 1756915258.9343987, "session_id": "test_session_api", "interface": "swagger_test"}, "processing_timestamp": 1756915275.1952994}', 'llm_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'search_parameters': '{"primary_terms": ["what", "main", "components", "odras", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:01:15,448 - services.external_task_worker - INFO - Successfully completed task 386bab1c-88df-11f0-916b-0242ac140006
2025-09-03 12:01:15,457 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:01:15,458 - services.external_task_worker - INFO - Executing task 386fa2d2-88df-11f0-916b-0242ac140006 for topic log-interaction
2025-09-03 12:01:15,458 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: What are the main components of the ODRAS system?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What are the main components of the ODRAS system?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.6, "timestamp": 1756915258.9343987, "session_id": "test_session_api", "interface": "swagger_test"}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'processed_query': '{"original_query": "What are the main components of the ODRAS system?", "cleaned_query": "What are the main components of the ODRAS system?", "key_terms": ["what", "main", "components", "odras", "system"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["system"], "word_count": 9, "char_count": 49, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.6, "timestamp": 1756915258.9343987, "session_id": "test_session_api", "interface": "swagger_test"}, "processing_timestamp": 1756915275.1952994}', 'llm_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'search_parameters': '{"primary_terms": ["what", "main", "components", "odras", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:01:15,476 - services.external_task_worker - INFO - Successfully completed task 386fa2d2-88df-11f0-916b-0242ac140006
2025-09-03 12:01:31,027 - __main__ - INFO - Received signal 15, shutting down worker...
2025-09-03 12:04:24,583 - services.external_task_worker - INFO - Starting external task worker: odras-worker-1756915464
2025-09-03 12:04:24,593 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:04:24,594 - services.external_task_worker - INFO - Executing task a5030bec-88df-11f0-916b-0242ac140006 for topic process-user-query
2025-09-03 12:04:24,594 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.6, "timestamp": 1756915457.5706916, "session_id": "accuracy_test", "interface": "swagger_test"}'}
2025-09-03 12:04:24,605 - services.external_task_worker - INFO - Successfully completed task a5030bec-88df-11f0-916b-0242ac140006
2025-09-03 12:04:24,617 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:04:24,617 - services.external_task_worker - INFO - Executing task a92f0277-88df-11f0-916b-0242ac140006 for topic retrieve-context
2025-09-03 12:04:24,617 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.6, "timestamp": 1756915457.5706916, "session_id": "accuracy_test", "interface": "swagger_test"}', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.6, "timestamp": 1756915457.5706916, "session_id": "accuracy_test", "interface": "swagger_test"}, "processing_timestamp": 1756915464.594754}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:04:24,620 - services.embedding_service - INFO - Embedding service initialized
2025-09-03 12:04:24,620 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-03 12:04:24,702 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-03 12:04:24,707 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-03 12:04:24,709 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-03 12:04:24,720 - services.external_task_worker - INFO - Successfully completed task a92f0277-88df-11f0-916b-0242ac140006
2025-09-03 12:04:24,729 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:04:24,730 - services.external_task_worker - INFO - Executing task a940b4d0-88df-11f0-916b-0242ac140006 for topic rerank-context
2025-09-03 12:04:24,730 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.6, "timestamp": 1756915457.5706916, "session_id": "accuracy_test", "interface": "swagger_test"}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.6, "timestamp": 1756915457.5706916, "session_id": "accuracy_test", "interface": "swagger_test"}, "processing_timestamp": 1756915464.594754}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:04:24,741 - services.external_task_worker - INFO - Successfully completed task a940b4d0-88df-11f0-916b-0242ac140006
2025-09-03 12:04:24,753 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:04:24,753 - services.external_task_worker - INFO - Executing task a943e937-88df-11f0-916b-0242ac140006 for topic fallback-search
2025-09-03 12:04:24,753 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.6, "timestamp": 1756915457.5706916, "session_id": "accuracy_test", "interface": "swagger_test"}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.6, "timestamp": 1756915457.5706916, "session_id": "accuracy_test", "interface": "swagger_test"}, "processing_timestamp": 1756915464.594754}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:04:24,768 - services.external_task_worker - INFO - Successfully completed task a943e937-88df-11f0-916b-0242ac140006
2025-09-03 12:04:24,779 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:04:24,779 - services.external_task_worker - INFO - Executing task a947b9dc-88df-11f0-916b-0242ac140006 for topic construct-prompt
2025-09-03 12:04:24,779 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.6, "timestamp": 1756915457.5706916, "session_id": "accuracy_test", "interface": "swagger_test"}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.6, "timestamp": 1756915457.5706916, "session_id": "accuracy_test", "interface": "swagger_test"}, "processing_timestamp": 1756915464.594754}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:04:24,791 - services.external_task_worker - INFO - Successfully completed task a947b9dc-88df-11f0-916b-0242ac140006
2025-09-03 12:04:24,802 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:04:24,802 - services.external_task_worker - INFO - Executing task a94b636f-88df-11f0-916b-0242ac140006 for topic llm-generation
2025-09-03 12:04:24,802 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.6, "timestamp": 1756915457.5706916, "session_id": "accuracy_test", "interface": "swagger_test"}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.6, "timestamp": 1756915457.5706916, "session_id": "accuracy_test", "interface": "swagger_test"}, "processing_timestamp": 1756915464.594754}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:04:24,812 - services.external_task_worker - INFO - Successfully completed task a94b636f-88df-11f0-916b-0242ac140006
2025-09-03 12:04:24,822 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:04:24,822 - services.external_task_worker - INFO - Executing task a94ebee0-88df-11f0-916b-0242ac140006 for topic process-response
2025-09-03 12:04:24,822 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.6, "timestamp": 1756915457.5706916, "session_id": "accuracy_test", "interface": "swagger_test"}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.6, "timestamp": 1756915457.5706916, "session_id": "accuracy_test", "interface": "swagger_test"}, "processing_timestamp": 1756915464.594754}', 'llm_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:04:24,834 - services.external_task_worker - INFO - Successfully completed task a94ebee0-88df-11f0-916b-0242ac140006
2025-09-03 12:04:24,844 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:04:24,844 - services.external_task_worker - INFO - Executing task a9521a56-88df-11f0-916b-0242ac140006 for topic log-interaction
2025-09-03 12:04:24,844 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.6, "timestamp": 1756915457.5706916, "session_id": "accuracy_test", "interface": "swagger_test"}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.6, "timestamp": 1756915457.5706916, "session_id": "accuracy_test", "interface": "swagger_test"}, "processing_timestamp": 1756915464.594754}', 'llm_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:04:24,861 - services.external_task_worker - INFO - Successfully completed task a9521a56-88df-11f0-916b-0242ac140006
2025-09-03 12:05:28,445 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:05:28,445 - services.external_task_worker - INFO - Executing task ced2c7ec-88df-11f0-916b-0242ac140006 for topic process-user-query
2025-09-03 12:05:28,445 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.6, "timestamp": 1756915527.7238703, "session_id": "accuracy_test", "interface": "api_test"}'}
2025-09-03 12:05:28,458 - services.external_task_worker - INFO - Successfully completed task ced2c7ec-88df-11f0-916b-0242ac140006
2025-09-03 12:05:28,470 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:05:28,470 - services.external_task_worker - INFO - Executing task cf3e3407-88df-11f0-916b-0242ac140006 for topic retrieve-context
2025-09-03 12:05:28,471 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.6, "timestamp": 1756915527.7238703, "session_id": "accuracy_test", "interface": "api_test"}', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.6, "timestamp": 1756915527.7238703, "session_id": "accuracy_test", "interface": "api_test"}, "processing_timestamp": 1756915528.4460487}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:05:28,475 - services.embedding_service - INFO - Embedding service initialized
2025-09-03 12:05:28,475 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-03 12:05:28,568 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-03 12:05:28,575 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-03 12:05:28,576 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-03 12:05:28,589 - services.external_task_worker - INFO - Successfully completed task cf3e3407-88df-11f0-916b-0242ac140006
2025-09-03 12:05:28,600 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:05:28,601 - services.external_task_worker - INFO - Executing task cf525860-88df-11f0-916b-0242ac140006 for topic rerank-context
2025-09-03 12:05:28,601 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.6, "timestamp": 1756915527.7238703, "session_id": "accuracy_test", "interface": "api_test"}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.6, "timestamp": 1756915527.7238703, "session_id": "accuracy_test", "interface": "api_test"}, "processing_timestamp": 1756915528.4460487}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:05:28,620 - services.external_task_worker - INFO - Successfully completed task cf525860-88df-11f0-916b-0242ac140006
2025-09-03 12:05:28,630 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:05:28,631 - services.external_task_worker - INFO - Executing task cf565017-88df-11f0-916b-0242ac140006 for topic fallback-search
2025-09-03 12:05:28,631 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.6, "timestamp": 1756915527.7238703, "session_id": "accuracy_test", "interface": "api_test"}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.6, "timestamp": 1756915527.7238703, "session_id": "accuracy_test", "interface": "api_test"}, "processing_timestamp": 1756915528.4460487}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:05:28,643 - services.external_task_worker - INFO - Successfully completed task cf565017-88df-11f0-916b-0242ac140006
2025-09-03 12:05:28,654 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:05:28,654 - services.external_task_worker - INFO - Executing task cf5a95ec-88df-11f0-916b-0242ac140006 for topic construct-prompt
2025-09-03 12:05:28,654 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.6, "timestamp": 1756915527.7238703, "session_id": "accuracy_test", "interface": "api_test"}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.6, "timestamp": 1756915527.7238703, "session_id": "accuracy_test", "interface": "api_test"}, "processing_timestamp": 1756915528.4460487}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:05:28,667 - services.external_task_worker - INFO - Successfully completed task cf5a95ec-88df-11f0-916b-0242ac140006
2025-09-03 12:05:28,676 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:05:28,676 - services.external_task_worker - INFO - Executing task cf5dc94f-88df-11f0-916b-0242ac140006 for topic llm-generation
2025-09-03 12:05:28,676 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.6, "timestamp": 1756915527.7238703, "session_id": "accuracy_test", "interface": "api_test"}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.6, "timestamp": 1756915527.7238703, "session_id": "accuracy_test", "interface": "api_test"}, "processing_timestamp": 1756915528.4460487}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:05:28,688 - services.external_task_worker - INFO - Successfully completed task cf5dc94f-88df-11f0-916b-0242ac140006
2025-09-03 12:05:28,699 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:05:28,699 - services.external_task_worker - INFO - Executing task cf6172e0-88df-11f0-916b-0242ac140006 for topic process-response
2025-09-03 12:05:28,699 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.6, "timestamp": 1756915527.7238703, "session_id": "accuracy_test", "interface": "api_test"}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.6, "timestamp": 1756915527.7238703, "session_id": "accuracy_test", "interface": "api_test"}, "processing_timestamp": 1756915528.4460487}', 'llm_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:05:28,712 - services.external_task_worker - INFO - Successfully completed task cf6172e0-88df-11f0-916b-0242ac140006
2025-09-03 12:05:28,723 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:05:28,723 - services.external_task_worker - INFO - Executing task cf64a746-88df-11f0-916b-0242ac140006 for topic log-interaction
2025-09-03 12:05:28,723 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.6, "timestamp": 1756915527.7238703, "session_id": "accuracy_test", "interface": "api_test"}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.6, "timestamp": 1756915527.7238703, "session_id": "accuracy_test", "interface": "api_test"}, "processing_timestamp": 1756915528.4460487}', 'llm_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:05:28,742 - services.external_task_worker - INFO - Successfully completed task cf64a746-88df-11f0-916b-0242ac140006
2025-09-03 12:06:23,251 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:06:23,252 - services.external_task_worker - INFO - Executing task efa6b5e0-88df-11f0-916b-0242ac140006 for topic process-user-query
2025-09-03 12:06:23,252 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1756915582.7994206}'}
2025-09-03 12:06:23,273 - services.external_task_worker - INFO - Successfully completed task efa6b5e0-88df-11f0-916b-0242ac140006
2025-09-03 12:06:23,283 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:06:23,283 - services.external_task_worker - INFO - Executing task efe98b5b-88df-11f0-916b-0242ac140006 for topic retrieve-context
2025-09-03 12:06:23,283 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1756915582.7994206}', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1756915582.7994206}, "processing_timestamp": 1756915583.2527933}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:06:23,286 - services.embedding_service - INFO - Embedding service initialized
2025-09-03 12:06:23,286 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-03 12:06:23,350 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-03 12:06:23,358 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-03 12:06:23,359 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-03 12:06:23,370 - services.external_task_worker - INFO - Successfully completed task efe98b5b-88df-11f0-916b-0242ac140006
2025-09-03 12:06:23,380 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:06:23,381 - services.external_task_worker - INFO - Executing task eff942e4-88df-11f0-916b-0242ac140006 for topic rerank-context
2025-09-03 12:06:23,381 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1756915582.7994206}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1756915582.7994206}, "processing_timestamp": 1756915583.2527933}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:06:23,392 - services.external_task_worker - INFO - Successfully completed task eff942e4-88df-11f0-916b-0242ac140006
2025-09-03 12:06:23,402 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:06:23,402 - services.external_task_worker - INFO - Executing task effc774b-88df-11f0-916b-0242ac140006 for topic fallback-search
2025-09-03 12:06:23,402 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1756915582.7994206}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1756915582.7994206}, "processing_timestamp": 1756915583.2527933}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:06:23,413 - services.external_task_worker - INFO - Successfully completed task effc774b-88df-11f0-916b-0242ac140006
2025-09-03 12:06:23,423 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:06:23,423 - services.external_task_worker - INFO - Executing task efffabb0-88df-11f0-916b-0242ac140006 for topic construct-prompt
2025-09-03 12:06:23,423 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1756915582.7994206}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1756915582.7994206}, "processing_timestamp": 1756915583.2527933}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:06:23,434 - services.external_task_worker - INFO - Successfully completed task efffabb0-88df-11f0-916b-0242ac140006
2025-09-03 12:06:23,444 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:06:23,444 - services.external_task_worker - INFO - Executing task f002e013-88df-11f0-916b-0242ac140006 for topic llm-generation
2025-09-03 12:06:23,445 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1756915582.7994206}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1756915582.7994206}, "processing_timestamp": 1756915583.2527933}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:06:23,454 - services.external_task_worker - INFO - Successfully completed task f002e013-88df-11f0-916b-0242ac140006
2025-09-03 12:06:23,463 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:06:23,464 - services.external_task_worker - INFO - Executing task f0063b84-88df-11f0-916b-0242ac140006 for topic process-response
2025-09-03 12:06:23,464 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1756915582.7994206}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1756915582.7994206}, "processing_timestamp": 1756915583.2527933}', 'llm_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:06:23,473 - services.external_task_worker - INFO - Successfully completed task f0063b84-88df-11f0-916b-0242ac140006
2025-09-03 12:06:23,482 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:06:23,483 - services.external_task_worker - INFO - Executing task f00921ca-88df-11f0-916b-0242ac140006 for topic log-interaction
2025-09-03 12:06:23,483 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1756915582.7994206}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1756915582.7994206}, "processing_timestamp": 1756915583.2527933}', 'llm_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:06:23,501 - services.external_task_worker - INFO - Successfully completed task f00921ca-88df-11f0-916b-0242ac140006
2025-09-03 12:11:29,092 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:11:29,092 - services.external_task_worker - INFO - Executing task a61d1224-88e0-11f0-916b-0242ac140006 for topic process-user-query
2025-09-03 12:11:29,093 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1756915888.921439}'}
2025-09-03 12:11:29,103 - services.external_task_worker - INFO - Successfully completed task a61d1224-88e0-11f0-916b-0242ac140006
2025-09-03 12:11:29,110 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:11:29,110 - services.external_task_worker - INFO - Executing task a63469cf-88e0-11f0-916b-0242ac140006 for topic retrieve-context
2025-09-03 12:11:29,110 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1756915888.921439}', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1756915888.921439}, "processing_timestamp": 1756915889.0935133}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:11:29,113 - services.embedding_service - INFO - Embedding service initialized
2025-09-03 12:11:29,113 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-03 12:11:29,169 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-03 12:11:29,174 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-03 12:11:29,175 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-03 12:11:29,186 - services.external_task_worker - INFO - Successfully completed task a63469cf-88e0-11f0-916b-0242ac140006
2025-09-03 12:11:29,196 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:11:29,196 - services.external_task_worker - INFO - Executing task a640ed08-88e0-11f0-916b-0242ac140006 for topic rerank-context
2025-09-03 12:11:29,196 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1756915888.921439}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1756915888.921439}, "processing_timestamp": 1756915889.0935133}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:11:29,207 - services.external_task_worker - INFO - Successfully completed task a640ed08-88e0-11f0-916b-0242ac140006
2025-09-03 12:11:29,218 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:11:29,218 - services.external_task_worker - INFO - Executing task a644216f-88e0-11f0-916b-0242ac140006 for topic fallback-search
2025-09-03 12:11:29,218 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1756915888.921439}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1756915888.921439}, "processing_timestamp": 1756915889.0935133}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:11:29,227 - services.external_task_worker - INFO - Successfully completed task a644216f-88e0-11f0-916b-0242ac140006
2025-09-03 12:11:29,237 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:11:29,237 - services.external_task_worker - INFO - Executing task a6477ce4-88e0-11f0-916b-0242ac140006 for topic construct-prompt
2025-09-03 12:11:29,237 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1756915888.921439}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1756915888.921439}, "processing_timestamp": 1756915889.0935133}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:11:29,250 - services.external_task_worker - INFO - Successfully completed task a6477ce4-88e0-11f0-916b-0242ac140006
2025-09-03 12:11:29,261 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:11:29,261 - services.external_task_worker - INFO - Executing task a64ab147-88e0-11f0-916b-0242ac140006 for topic llm-generation
2025-09-03 12:11:29,261 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1756915888.921439}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1756915888.921439}, "processing_timestamp": 1756915889.0935133}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:11:29,271 - services.external_task_worker - INFO - Successfully completed task a64ab147-88e0-11f0-916b-0242ac140006
2025-09-03 12:11:29,280 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:11:29,281 - services.external_task_worker - INFO - Executing task a64e33c8-88e0-11f0-916b-0242ac140006 for topic process-response
2025-09-03 12:11:29,281 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1756915888.921439}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1756915888.921439}, "processing_timestamp": 1756915889.0935133}', 'llm_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:11:29,291 - services.external_task_worker - INFO - Successfully completed task a64e33c8-88e0-11f0-916b-0242ac140006
2025-09-03 12:11:29,300 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:11:29,300 - services.external_task_worker - INFO - Executing task a6511a0e-88e0-11f0-916b-0242ac140006 for topic log-interaction
2025-09-03 12:11:29,300 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1756915888.921439}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1756915888.921439}, "processing_timestamp": 1756915889.0935133}', 'llm_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:11:29,315 - services.external_task_worker - INFO - Successfully completed task a6511a0e-88e0-11f0-916b-0242ac140006
2025-09-03 12:11:47,488 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:11:47,488 - services.external_task_worker - INFO - Executing task b11c7808-88e0-11f0-916b-0242ac140006 for topic process-user-query
2025-09-03 12:11:47,488 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 3, "similarity_threshold": 0.4, "timestamp": 1756915907.374871}'}
2025-09-03 12:11:47,498 - services.external_task_worker - INFO - Successfully completed task b11c7808-88e0-11f0-916b-0242ac140006
2025-09-03 12:11:47,504 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:11:47,504 - services.external_task_worker - INFO - Executing task b12b1e23-88e0-11f0-916b-0242ac140006 for topic retrieve-context
2025-09-03 12:11:47,504 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 3, "similarity_threshold": 0.4, "timestamp": 1756915907.374871}', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 3, "similarity_threshold": 0.4, "timestamp": 1756915907.374871}, "processing_timestamp": 1756915907.4884052}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:11:47,507 - services.embedding_service - INFO - Embedding service initialized
2025-09-03 12:11:47,507 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-03 12:11:47,560 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-03 12:11:47,567 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-03 12:11:47,568 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-03 12:11:47,578 - services.external_task_worker - INFO - Successfully completed task b12b1e23-88e0-11f0-916b-0242ac140006
2025-09-03 12:11:47,587 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:11:47,587 - services.external_task_worker - INFO - Executing task b1377a4c-88e0-11f0-916b-0242ac140006 for topic rerank-context
2025-09-03 12:11:47,587 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 3, "similarity_threshold": 0.4, "timestamp": 1756915907.374871}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 3, "similarity_threshold": 0.4, "timestamp": 1756915907.374871}, "processing_timestamp": 1756915907.4884052}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:11:47,599 - services.external_task_worker - INFO - Successfully completed task b1377a4c-88e0-11f0-916b-0242ac140006
2025-09-03 12:11:47,607 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:11:47,608 - services.external_task_worker - INFO - Executing task b13a6093-88e0-11f0-916b-0242ac140006 for topic fallback-search
2025-09-03 12:11:47,608 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 3, "similarity_threshold": 0.4, "timestamp": 1756915907.374871}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 3, "similarity_threshold": 0.4, "timestamp": 1756915907.374871}, "processing_timestamp": 1756915907.4884052}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:11:47,619 - services.external_task_worker - INFO - Successfully completed task b13a6093-88e0-11f0-916b-0242ac140006
2025-09-03 12:11:47,627 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:11:47,628 - services.external_task_worker - INFO - Executing task b13d93f8-88e0-11f0-916b-0242ac140006 for topic construct-prompt
2025-09-03 12:11:47,628 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 3, "similarity_threshold": 0.4, "timestamp": 1756915907.374871}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 3, "similarity_threshold": 0.4, "timestamp": 1756915907.374871}, "processing_timestamp": 1756915907.4884052}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:11:47,637 - services.external_task_worker - INFO - Successfully completed task b13d93f8-88e0-11f0-916b-0242ac140006
2025-09-03 12:11:47,646 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:11:47,646 - services.external_task_worker - INFO - Executing task b140a14b-88e0-11f0-916b-0242ac140006 for topic llm-generation
2025-09-03 12:11:47,646 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 3, "similarity_threshold": 0.4, "timestamp": 1756915907.374871}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 3, "similarity_threshold": 0.4, "timestamp": 1756915907.374871}, "processing_timestamp": 1756915907.4884052}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:11:47,655 - services.external_task_worker - INFO - Successfully completed task b140a14b-88e0-11f0-916b-0242ac140006
2025-09-03 12:11:47,664 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:11:47,664 - services.external_task_worker - INFO - Executing task b143396c-88e0-11f0-916b-0242ac140006 for topic process-response
2025-09-03 12:11:47,664 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 3, "similarity_threshold": 0.4, "timestamp": 1756915907.374871}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 3, "similarity_threshold": 0.4, "timestamp": 1756915907.374871}, "processing_timestamp": 1756915907.4884052}', 'llm_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:11:47,672 - services.external_task_worker - INFO - Successfully completed task b143396c-88e0-11f0-916b-0242ac140006
2025-09-03 12:11:47,682 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:11:47,682 - services.external_task_worker - INFO - Executing task b145f8a2-88e0-11f0-916b-0242ac140006 for topic log-interaction
2025-09-03 12:11:47,682 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 3, "similarity_threshold": 0.4, "timestamp": 1756915907.374871}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 3, "similarity_threshold": 0.4, "timestamp": 1756915907.374871}, "processing_timestamp": 1756915907.4884052}', 'llm_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:11:47,696 - services.external_task_worker - INFO - Successfully completed task b145f8a2-88e0-11f0-916b-0242ac140006
2025-09-03 12:12:16,913 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:12:16,913 - services.external_task_worker - INFO - Executing task c2287b3c-88e0-11f0-916b-0242ac140006 for topic process-user-query
2025-09-03 12:12:16,914 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1756915935.9736836}'}
2025-09-03 12:12:16,921 - services.external_task_worker - INFO - Successfully completed task c2287b3c-88e0-11f0-916b-0242ac140006
2025-09-03 12:12:16,929 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:12:16,929 - services.external_task_worker - INFO - Executing task c2b503e7-88e0-11f0-916b-0242ac140006 for topic retrieve-context
2025-09-03 12:12:16,929 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1756915935.9736836}', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1756915935.9736836}, "processing_timestamp": 1756915936.914275}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:12:16,933 - services.embedding_service - INFO - Embedding service initialized
2025-09-03 12:12:16,934 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-03 12:12:16,983 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-03 12:12:16,987 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-03 12:12:16,987 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-03 12:12:16,997 - services.external_task_worker - INFO - Successfully completed task c2b503e7-88e0-11f0-916b-0242ac140006
2025-09-03 12:12:17,006 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:12:17,006 - services.external_task_worker - INFO - Executing task c2c075b0-88e0-11f0-916b-0242ac140006 for topic rerank-context
2025-09-03 12:12:17,006 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1756915935.9736836}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1756915935.9736836}, "processing_timestamp": 1756915936.914275}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:12:17,015 - services.external_task_worker - INFO - Successfully completed task c2c075b0-88e0-11f0-916b-0242ac140006
2025-09-03 12:12:17,024 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:12:17,024 - services.external_task_worker - INFO - Executing task c2c334e7-88e0-11f0-916b-0242ac140006 for topic fallback-search
2025-09-03 12:12:17,024 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1756915935.9736836}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1756915935.9736836}, "processing_timestamp": 1756915936.914275}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:12:17,034 - services.external_task_worker - INFO - Successfully completed task c2c334e7-88e0-11f0-916b-0242ac140006
2025-09-03 12:12:17,042 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:12:17,042 - services.external_task_worker - INFO - Executing task c2c61b2c-88e0-11f0-916b-0242ac140006 for topic construct-prompt
2025-09-03 12:12:17,042 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1756915935.9736836}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1756915935.9736836}, "processing_timestamp": 1756915936.914275}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:12:17,051 - services.external_task_worker - INFO - Successfully completed task c2c61b2c-88e0-11f0-916b-0242ac140006
2025-09-03 12:12:17,058 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:12:17,058 - services.external_task_worker - INFO - Executing task c2c8b34f-88e0-11f0-916b-0242ac140006 for topic llm-generation
2025-09-03 12:12:17,058 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1756915935.9736836}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1756915935.9736836}, "processing_timestamp": 1756915936.914275}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:12:17,067 - services.external_task_worker - INFO - Successfully completed task c2c8b34f-88e0-11f0-916b-0242ac140006
2025-09-03 12:12:17,075 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:12:17,075 - services.external_task_worker - INFO - Executing task c2cb2460-88e0-11f0-916b-0242ac140006 for topic process-response
2025-09-03 12:12:17,075 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1756915935.9736836}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1756915935.9736836}, "processing_timestamp": 1756915936.914275}', 'llm_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:12:17,085 - services.external_task_worker - INFO - Successfully completed task c2cb2460-88e0-11f0-916b-0242ac140006
2025-09-03 12:12:17,093 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:12:17,093 - services.external_task_worker - INFO - Executing task c2cdbc86-88e0-11f0-916b-0242ac140006 for topic log-interaction
2025-09-03 12:12:17,093 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1756915935.9736836}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1756915935.9736836}, "processing_timestamp": 1756915936.914275}', 'llm_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:12:17,107 - services.external_task_worker - INFO - Successfully completed task c2cdbc86-88e0-11f0-916b-0242ac140006
2025-09-03 12:13:24,475 - urllib3.connectionpool - WARNING - Retrying (Retry(total=2, connect=None, read=None, redirect=None, status=None)) after connection broken by 'ConnectTimeoutError(<urllib3.connection.HTTPConnection object at 0x7f3f1a69bc50>, 'Connection to localhost timed out. (connect timeout=30)')': /engine-rest/external-task/fetchAndLock
2025-09-03 12:23:53,781 - services.external_task_worker - INFO - Starting external task worker: odras-worker-1756916633
2025-09-03 12:23:53,792 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:23:53,793 - services.external_task_worker - INFO - Executing task 4ef94229-88e2-11f0-916b-0242ac140006 for topic process-user-query
2025-09-03 12:23:53,793 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756916601.7154953}'}
2025-09-03 12:23:53,802 - services.external_task_worker - INFO - Successfully completed task 4ef94229-88e2-11f0-916b-0242ac140006
2025-09-03 12:23:53,814 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:23:53,814 - services.external_task_worker - INFO - Executing task 621476b4-88e2-11f0-916b-0242ac140006 for topic retrieve-context
2025-09-03 12:23:53,814 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756916601.7154953}', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756916601.7154953}, "processing_timestamp": 1756916633.7937107}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:23:53,827 - services.external_task_worker - INFO - Successfully completed task 621476b4-88e2-11f0-916b-0242ac140006
2025-09-03 12:23:53,838 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:23:53,838 - services.external_task_worker - INFO - Executing task 6217f938-88e2-11f0-916b-0242ac140006 for topic rerank-context
2025-09-03 12:23:53,839 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756916601.7154953}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756916601.7154953}, "processing_timestamp": 1756916633.7937107}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:23:53,850 - services.external_task_worker - INFO - Successfully completed task 6217f938-88e2-11f0-916b-0242ac140006
2025-09-03 12:23:53,861 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:23:53,861 - services.external_task_worker - INFO - Executing task 621bc9df-88e2-11f0-916b-0242ac140006 for topic fallback-search
2025-09-03 12:23:53,861 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756916601.7154953}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756916601.7154953}, "processing_timestamp": 1756916633.7937107}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:23:53,872 - services.external_task_worker - INFO - Successfully completed task 621bc9df-88e2-11f0-916b-0242ac140006
2025-09-03 12:23:53,881 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:23:53,882 - services.external_task_worker - INFO - Executing task 621efe44-88e2-11f0-916b-0242ac140006 for topic construct-prompt
2025-09-03 12:23:53,882 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756916601.7154953}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756916601.7154953}, "processing_timestamp": 1756916633.7937107}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:23:53,894 - services.external_task_worker - INFO - Successfully completed task 621efe44-88e2-11f0-916b-0242ac140006
2025-09-03 12:23:53,902 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:23:53,903 - services.external_task_worker - INFO - Executing task 622259b7-88e2-11f0-916b-0242ac140006 for topic llm-generation
2025-09-03 12:23:53,903 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756916601.7154953}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756916601.7154953}, "processing_timestamp": 1756916633.7937107}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:23:53,914 - services.external_task_worker - INFO - Successfully completed task 622259b7-88e2-11f0-916b-0242ac140006
2025-09-03 12:23:53,925 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:23:53,925 - services.external_task_worker - INFO - Executing task 62258e18-88e2-11f0-916b-0242ac140006 for topic process-response
2025-09-03 12:23:53,925 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756916601.7154953}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756916601.7154953}, "processing_timestamp": 1756916633.7937107}', 'llm_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:23:53,936 - services.external_task_worker - INFO - Successfully completed task 62258e18-88e2-11f0-916b-0242ac140006
2025-09-03 12:23:53,949 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:23:53,949 - services.external_task_worker - INFO - Executing task 6228c27e-88e2-11f0-916b-0242ac140006 for topic log-interaction
2025-09-03 12:23:53,950 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756916601.7154953}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756916601.7154953}, "processing_timestamp": 1756916633.7937107}', 'llm_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:23:53,969 - services.external_task_worker - INFO - Successfully completed task 6228c27e-88e2-11f0-916b-0242ac140006
2025-09-03 12:24:50,456 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:24:50,457 - services.external_task_worker - INFO - Executing task 83af37f8-88e2-11f0-916b-0242ac140006 for topic process-user-query
2025-09-03 12:24:50,457 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 3, "similarity_threshold": 0.2, "timestamp": 1756916690.1382434}'}
2025-09-03 12:24:50,466 - services.external_task_worker - INFO - Successfully completed task 83af37f8-88e2-11f0-916b-0242ac140006
2025-09-03 12:24:50,473 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:24:50,473 - services.external_task_worker - INFO - Executing task 83dab4e3-88e2-11f0-916b-0242ac140006 for topic retrieve-context
2025-09-03 12:24:50,473 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 3, "similarity_threshold": 0.2, "timestamp": 1756916690.1382434}', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 3, "similarity_threshold": 0.2, "timestamp": 1756916690.1382434}, "processing_timestamp": 1756916690.4574249}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:24:50,481 - services.external_task_worker - INFO - Successfully completed task 83dab4e3-88e2-11f0-916b-0242ac140006
2025-09-03 12:24:50,487 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:24:50,487 - services.external_task_worker - INFO - Executing task 83dd24f7-88e2-11f0-916b-0242ac140006 for topic rerank-context
2025-09-03 12:24:50,488 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 3, "similarity_threshold": 0.2, "timestamp": 1756916690.1382434}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 3, "similarity_threshold": 0.2, "timestamp": 1756916690.1382434}, "processing_timestamp": 1756916690.4574249}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:24:50,500 - services.external_task_worker - INFO - Successfully completed task 83dd24f7-88e2-11f0-916b-0242ac140006
2025-09-03 12:24:50,508 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:24:50,509 - services.external_task_worker - INFO - Executing task 83dfe42e-88e2-11f0-916b-0242ac140006 for topic fallback-search
2025-09-03 12:24:50,509 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 3, "similarity_threshold": 0.2, "timestamp": 1756916690.1382434}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 3, "similarity_threshold": 0.2, "timestamp": 1756916690.1382434}, "processing_timestamp": 1756916690.4574249}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:24:50,519 - services.external_task_worker - INFO - Successfully completed task 83dfe42e-88e2-11f0-916b-0242ac140006
2025-09-03 12:24:50,527 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:24:50,528 - services.external_task_worker - INFO - Executing task 83e2ca73-88e2-11f0-916b-0242ac140006 for topic construct-prompt
2025-09-03 12:24:50,528 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 3, "similarity_threshold": 0.2, "timestamp": 1756916690.1382434}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 3, "similarity_threshold": 0.2, "timestamp": 1756916690.1382434}, "processing_timestamp": 1756916690.4574249}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:24:50,539 - services.external_task_worker - INFO - Successfully completed task 83e2ca73-88e2-11f0-916b-0242ac140006
2025-09-03 12:24:50,548 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:24:50,548 - services.external_task_worker - INFO - Executing task 83e5d7c6-88e2-11f0-916b-0242ac140006 for topic llm-generation
2025-09-03 12:24:50,548 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: navigation system\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'navigation system', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 3, "similarity_threshold": 0.2, "timestamp": 1756916690.1382434}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 3, "similarity_threshold": 0.2, "timestamp": 1756916690.1382434}, "processing_timestamp": 1756916690.4574249}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:24:50,558 - services.external_task_worker - INFO - Successfully completed task 83e5d7c6-88e2-11f0-916b-0242ac140006
2025-09-03 12:24:50,567 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:24:50,567 - services.external_task_worker - INFO - Executing task 83e8be07-88e2-11f0-916b-0242ac140006 for topic process-response
2025-09-03 12:24:50,567 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: navigation system\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'navigation system', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 3, "similarity_threshold": 0.2, "timestamp": 1756916690.1382434}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 3, "similarity_threshold": 0.2, "timestamp": 1756916690.1382434}, "processing_timestamp": 1756916690.4574249}', 'llm_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:24:50,576 - services.external_task_worker - INFO - Successfully completed task 83e8be07-88e2-11f0-916b-0242ac140006
2025-09-03 12:24:50,583 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:24:50,583 - services.external_task_worker - INFO - Executing task 83eb7d3d-88e2-11f0-916b-0242ac140006 for topic log-interaction
2025-09-03 12:24:50,583 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: navigation system\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'navigation system', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 3, "similarity_threshold": 0.2, "timestamp": 1756916690.1382434}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 3, "similarity_threshold": 0.2, "timestamp": 1756916690.1382434}, "processing_timestamp": 1756916690.4574249}', 'llm_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:24:50,601 - services.external_task_worker - INFO - Successfully completed task 83eb7d3d-88e2-11f0-916b-0242ac140006
2025-09-03 12:25:07,519 - __main__ - INFO - Received signal 15, shutting down worker...
2025-09-03 12:25:14,737 - services.external_task_worker - INFO - Starting external task worker: odras-worker-1756916714
2025-09-03 12:25:42,978 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:25:42,978 - services.external_task_worker - INFO - Executing task a2ffe147-88e2-11f0-916b-0242ac140006 for topic process-user-query
2025-09-03 12:25:42,978 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756916742.688858}'}
2025-09-03 12:25:42,988 - services.external_task_worker - INFO - Successfully completed task a2ffe147-88e2-11f0-916b-0242ac140006
2025-09-03 12:25:42,997 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:25:42,998 - services.external_task_worker - INFO - Executing task a328ed32-88e2-11f0-916b-0242ac140006 for topic retrieve-context
2025-09-03 12:25:42,998 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756916742.688858}', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756916742.688858}, "processing_timestamp": 1756916742.9787588}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:25:43,009 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-03 12:25:43,081 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-03 12:25:43,087 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-03 12:25:43,089 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-03 12:25:43,107 - services.embedding_service - INFO - Embedding service initialized
2025-09-03 12:25:43,107 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-03 12:25:45,648 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cuda:0
2025-09-03 12:25:45,648 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-03 12:25:47,786 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-03 12:25:48,148 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-03 12:25:48,156 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-03 12:25:48,158 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.6
2025-09-03 12:25:48,158 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'What is the required position accuracy?...'
2025-09-03 12:25:48,175 - services.external_task_worker - INFO - Successfully completed task a328ed32-88e2-11f0-916b-0242ac140006
2025-09-03 12:25:48,184 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:25:48,184 - services.external_task_worker - INFO - Executing task a6408d86-88e2-11f0-916b-0242ac140006 for topic rerank-context
2025-09-03 12:25:48,185 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756916742.688858}', 'retrieved_chunks': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756916742.688858}, "processing_timestamp": 1756916742.9787588}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:25:48,195 - services.external_task_worker - INFO - Successfully completed task a6408d86-88e2-11f0-916b-0242ac140006
2025-09-03 12:25:48,203 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:25:48,203 - services.external_task_worker - INFO - Executing task a6434cbd-88e2-11f0-916b-0242ac140006 for topic fallback-search
2025-09-03 12:25:48,203 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756916742.688858}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756916742.688858}, "processing_timestamp": 1756916742.9787588}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:25:48,214 - services.external_task_worker - INFO - Successfully completed task a6434cbd-88e2-11f0-916b-0242ac140006
2025-09-03 12:25:48,221 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:25:48,222 - services.external_task_worker - INFO - Executing task a6463302-88e2-11f0-916b-0242ac140006 for topic construct-prompt
2025-09-03 12:25:48,222 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756916742.688858}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756916742.688858}, "processing_timestamp": 1756916742.9787588}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:25:48,234 - services.external_task_worker - INFO - Successfully completed task a6463302-88e2-11f0-916b-0242ac140006
2025-09-03 12:25:48,243 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:25:48,243 - services.external_task_worker - INFO - Executing task a6493f55-88e2-11f0-916b-0242ac140006 for topic llm-generation
2025-09-03 12:25:48,243 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756916742.688858}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756916742.688858}, "processing_timestamp": 1756916742.9787588}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:25:48,256 - services.external_task_worker - INFO - Successfully completed task a6493f55-88e2-11f0-916b-0242ac140006
2025-09-03 12:25:48,265 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:25:48,265 - services.external_task_worker - INFO - Executing task a64c73b6-88e2-11f0-916b-0242ac140006 for topic process-response
2025-09-03 12:25:48,265 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756916742.688858}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756916742.688858}, "processing_timestamp": 1756916742.9787588}', 'llm_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:25:48,278 - services.external_task_worker - INFO - Successfully completed task a64c73b6-88e2-11f0-916b-0242ac140006
2025-09-03 12:25:48,289 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:25:48,289 - services.external_task_worker - INFO - Executing task a64ff63c-88e2-11f0-916b-0242ac140006 for topic log-interaction
2025-09-03 12:25:48,289 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756916742.688858}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.\n\nSources:\n[1] Navigation System Requirements\n', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756916742.688858}, "processing_timestamp": 1756916742.9787588}', 'llm_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:25:48,310 - services.external_task_worker - INFO - Successfully completed task a64ff63c-88e2-11f0-916b-0242ac140006
2025-09-03 12:28:13,451 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:28:13,452 - services.external_task_worker - INFO - Executing task fc9a1c76-88e2-11f0-916b-0242ac140006 for topic process-user-query
2025-09-03 12:28:13,452 - services.external_task_worker - INFO - Task variables: {'user_query': 'string', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1756916893.0180008, "additionalProp1": {}}'}
2025-09-03 12:28:13,459 - services.external_task_worker - INFO - Successfully completed task fc9a1c76-88e2-11f0-916b-0242ac140006
2025-09-03 12:28:13,467 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:28:13,467 - services.external_task_worker - INFO - Executing task fcd92161-88e2-11f0-916b-0242ac140006 for topic retrieve-context
2025-09-03 12:28:13,467 - services.external_task_worker - INFO - Task variables: {'user_query': 'string', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1756916893.0180008, "additionalProp1": {}}', 'processed_query': '{"original_query": "string", "cleaned_query": "string", "key_terms": ["string"], "question_intent": [], "query_type": "informational", "domain_terms": [], "word_count": 1, "char_count": 6, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1756916893.0180008, "additionalProp1": {}}, "processing_timestamp": 1756916893.452256}', 'search_parameters': '{"primary_terms": ["string"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:28:13,470 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-03 12:28:13,526 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-03 12:28:13,531 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-03 12:28:13,532 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-03 12:28:13,551 - services.embedding_service - INFO - Embedding service initialized
2025-09-03 12:28:13,552 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-03 12:28:13,552 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cuda:0
2025-09-03 12:28:13,552 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-03 12:28:14,518 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-03 12:28:14,525 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-03 12:28:14,540 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-03 12:28:14,540 - services.qdrant_service - INFO - Found 0 results in collection 'knowledge_chunks' with threshold 0.6
2025-09-03 12:28:14,540 - services.qdrant_service - INFO - Found 0 similar chunks for query: 'string...'
2025-09-03 12:28:14,548 - services.external_task_worker - INFO - Successfully completed task fcd92161-88e2-11f0-916b-0242ac140006
2025-09-03 12:28:14,553 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:28:14,553 - services.external_task_worker - INFO - Executing task fd7f4c85-88e2-11f0-916b-0242ac140006 for topic rerank-context
2025-09-03 12:28:14,553 - services.external_task_worker - INFO - Task variables: {'user_query': 'string', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1756916893.0180008, "additionalProp1": {}}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "string", "cleaned_query": "string", "key_terms": ["string"], "question_intent": [], "query_type": "informational", "domain_terms": [], "word_count": 1, "char_count": 6, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1756916893.0180008, "additionalProp1": {}}, "processing_timestamp": 1756916893.452256}', 'search_parameters': '{"primary_terms": ["string"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:28:14,559 - services.external_task_worker - INFO - Successfully completed task fd7f4c85-88e2-11f0-916b-0242ac140006
2025-09-03 12:28:14,565 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:28:14,565 - services.external_task_worker - INFO - Executing task fd81215c-88e2-11f0-916b-0242ac140006 for topic fallback-search
2025-09-03 12:28:14,566 - services.external_task_worker - INFO - Task variables: {'user_query': 'string', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1756916893.0180008, "additionalProp1": {}}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "string", "cleaned_query": "string", "key_terms": ["string"], "question_intent": [], "query_type": "informational", "domain_terms": [], "word_count": 1, "char_count": 6, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1756916893.0180008, "additionalProp1": {}}, "processing_timestamp": 1756916893.452256}', 'search_parameters': '{"primary_terms": ["string"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:28:14,571 - services.external_task_worker - INFO - Successfully completed task fd81215c-88e2-11f0-916b-0242ac140006
2025-09-03 12:28:14,577 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:28:14,578 - services.external_task_worker - INFO - Executing task fd82f631-88e2-11f0-916b-0242ac140006 for topic construct-prompt
2025-09-03 12:28:14,578 - services.external_task_worker - INFO - Task variables: {'user_query': 'string', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1756916893.0180008, "additionalProp1": {}}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "string", "cleaned_query": "string", "key_terms": ["string"], "question_intent": [], "query_type": "informational", "domain_terms": [], "word_count": 1, "char_count": 6, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1756916893.0180008, "additionalProp1": {}}, "processing_timestamp": 1756916893.452256}', 'search_parameters': '{"primary_terms": ["string"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:28:14,584 - services.external_task_worker - INFO - Successfully completed task fd82f631-88e2-11f0-916b-0242ac140006
2025-09-03 12:28:14,588 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:28:14,589 - services.external_task_worker - INFO - Executing task fd84cb04-88e2-11f0-916b-0242ac140006 for topic llm-generation
2025-09-03 12:28:14,589 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: string\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'string', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1756916893.0180008, "additionalProp1": {}}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "string", "cleaned_query": "string", "key_terms": ["string"], "question_intent": [], "query_type": "informational", "domain_terms": [], "word_count": 1, "char_count": 6, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1756916893.0180008, "additionalProp1": {}}, "processing_timestamp": 1756916893.452256}', 'search_parameters': '{"primary_terms": ["string"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:28:14,595 - services.external_task_worker - INFO - Successfully completed task fd84cb04-88e2-11f0-916b-0242ac140006
2025-09-03 12:28:14,601 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:28:14,601 - services.external_task_worker - INFO - Executing task fd8678c5-88e2-11f0-916b-0242ac140006 for topic process-response
2025-09-03 12:28:14,602 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: string\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'string', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1756916893.0180008, "additionalProp1": {}}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "string", "cleaned_query": "string", "key_terms": ["string"], "question_intent": [], "query_type": "informational", "domain_terms": [], "word_count": 1, "char_count": 6, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1756916893.0180008, "additionalProp1": {}}, "processing_timestamp": 1756916893.452256}', 'llm_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'search_parameters': '{"primary_terms": ["string"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:28:14,609 - services.external_task_worker - INFO - Successfully completed task fd8678c5-88e2-11f0-916b-0242ac140006
2025-09-03 12:28:14,615 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:28:14,615 - services.external_task_worker - INFO - Executing task fd889bbb-88e2-11f0-916b-0242ac140006 for topic log-interaction
2025-09-03 12:28:14,615 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: string\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'string', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1756916893.0180008, "additionalProp1": {}}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'processed_query': '{"original_query": "string", "cleaned_query": "string", "key_terms": ["string"], "question_intent": [], "query_type": "informational", "domain_terms": [], "word_count": 1, "char_count": 6, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1756916893.0180008, "additionalProp1": {}}, "processing_timestamp": 1756916893.452256}', 'llm_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'search_parameters': '{"primary_terms": ["string"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:28:14,626 - services.external_task_worker - INFO - Successfully completed task fd889bbb-88e2-11f0-916b-0242ac140006
2025-09-03 12:29:05,056 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:29:05,056 - services.external_task_worker - INFO - Executing task 1b6ae865-88e3-11f0-916b-0242ac140006 for topic process-user-query
2025-09-03 12:29:05,056 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756916944.7210171}'}
2025-09-03 12:29:05,068 - services.external_task_worker - INFO - Successfully completed task 1b6ae865-88e3-11f0-916b-0242ac140006
2025-09-03 12:29:05,073 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:29:05,073 - services.external_task_worker - INFO - Executing task 1b9be390-88e3-11f0-916b-0242ac140006 for topic retrieve-context
2025-09-03 12:29:05,073 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756916944.7210171}', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756916944.7210171}, "processing_timestamp": 1756916945.0564342}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:29:05,076 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-03 12:29:05,118 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-03 12:29:05,121 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-03 12:29:05,121 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-03 12:29:05,132 - services.embedding_service - INFO - Embedding service initialized
2025-09-03 12:29:05,133 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-03 12:29:05,133 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cuda:0
2025-09-03 12:29:05,133 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-03 12:29:06,136 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-03 12:29:06,146 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-03 12:29:06,159 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-03 12:29:06,159 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.6
2025-09-03 12:29:06,160 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'What is the required position accuracy?...'
2025-09-03 12:29:06,172 - services.external_task_worker - INFO - Successfully completed task 1b9be390-88e3-11f0-916b-0242ac140006
2025-09-03 12:29:06,177 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:29:06,177 - services.external_task_worker - INFO - Executing task 1c44a5c4-88e3-11f0-916b-0242ac140006 for topic rerank-context
2025-09-03 12:29:06,178 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756916944.7210171}', 'retrieved_chunks': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756916944.7210171}, "processing_timestamp": 1756916945.0564342}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:29:06,185 - services.external_task_worker - INFO - Successfully completed task 1c44a5c4-88e3-11f0-916b-0242ac140006
2025-09-03 12:29:06,190 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:29:06,190 - services.external_task_worker - INFO - Executing task 1c46538b-88e3-11f0-916b-0242ac140006 for topic fallback-search
2025-09-03 12:29:06,190 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756916944.7210171}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756916944.7210171}, "processing_timestamp": 1756916945.0564342}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:29:06,196 - services.external_task_worker - INFO - Successfully completed task 1c46538b-88e3-11f0-916b-0242ac140006
2025-09-03 12:29:06,202 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:29:06,202 - services.external_task_worker - INFO - Executing task 1c484f70-88e3-11f0-916b-0242ac140006 for topic construct-prompt
2025-09-03 12:29:06,202 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756916944.7210171}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756916944.7210171}, "processing_timestamp": 1756916945.0564342}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:29:06,210 - services.external_task_worker - INFO - Successfully completed task 1c484f70-88e3-11f0-916b-0242ac140006
2025-09-03 12:29:06,216 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:29:06,216 - services.external_task_worker - INFO - Executing task 1c4a2443-88e3-11f0-916b-0242ac140006 for topic llm-generation
2025-09-03 12:29:06,216 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756916944.7210171}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756916944.7210171}, "processing_timestamp": 1756916945.0564342}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:29:06,224 - services.external_task_worker - INFO - Successfully completed task 1c4a2443-88e3-11f0-916b-0242ac140006
2025-09-03 12:29:06,232 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:29:06,232 - services.external_task_worker - INFO - Executing task 1c4c6e44-88e3-11f0-916b-0242ac140006 for topic process-response
2025-09-03 12:29:06,233 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756916944.7210171}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756916944.7210171}, "processing_timestamp": 1756916945.0564342}', 'llm_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:29:06,240 - services.external_task_worker - INFO - Successfully completed task 1c4c6e44-88e3-11f0-916b-0242ac140006
2025-09-03 12:29:06,248 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:29:06,248 - services.external_task_worker - INFO - Executing task 1c4edf5a-88e3-11f0-916b-0242ac140006 for topic log-interaction
2025-09-03 12:29:06,248 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756916944.7210171}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.\n\nSources:\n[1] Navigation System Requirements\n', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756916944.7210171}, "processing_timestamp": 1756916945.0564342}', 'llm_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:29:06,262 - services.external_task_worker - INFO - Successfully completed task 1c4edf5a-88e3-11f0-916b-0242ac140006
2025-09-03 12:42:39,688 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:42:39,689 - services.external_task_worker - INFO - Executing task 00946a10-88e5-11f0-916b-0242ac140006 for topic process-user-query
2025-09-03 12:42:39,689 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756917758.6849022}'}
2025-09-03 12:42:39,697 - services.external_task_worker - INFO - Successfully completed task 00946a10-88e5-11f0-916b-0242ac140006
2025-09-03 12:42:39,705 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:42:39,705 - services.external_task_worker - INFO - Executing task 012a8fab-88e5-11f0-916b-0242ac140006 for topic retrieve-context
2025-09-03 12:42:39,705 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756917758.6849022}', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756917758.6849022}, "processing_timestamp": 1756917759.6896346}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:42:39,709 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-03 12:42:39,771 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-03 12:42:39,777 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-03 12:42:39,777 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-03 12:42:39,793 - services.embedding_service - INFO - Embedding service initialized
2025-09-03 12:42:39,793 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-03 12:42:39,794 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cuda:0
2025-09-03 12:42:39,794 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-03 12:42:40,815 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-03 12:42:40,825 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-03 12:42:40,834 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-03 12:42:40,835 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.6
2025-09-03 12:42:40,835 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'What is the required position accuracy?...'
2025-09-03 12:42:40,851 - services.external_task_worker - INFO - Successfully completed task 012a8fab-88e5-11f0-916b-0242ac140006
2025-09-03 12:42:40,858 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:42:40,858 - services.external_task_worker - INFO - Executing task 01da7ecf-88e5-11f0-916b-0242ac140006 for topic rerank-context
2025-09-03 12:42:40,858 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756917758.6849022}', 'retrieved_chunks': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756917758.6849022}, "processing_timestamp": 1756917759.6896346}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:42:40,867 - services.external_task_worker - INFO - Successfully completed task 01da7ecf-88e5-11f0-916b-0242ac140006
2025-09-03 12:42:40,874 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:42:40,874 - services.external_task_worker - INFO - Executing task 01dd16f6-88e5-11f0-916b-0242ac140006 for topic fallback-search
2025-09-03 12:42:40,875 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756917758.6849022}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756917758.6849022}, "processing_timestamp": 1756917759.6896346}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:42:40,883 - services.external_task_worker - INFO - Successfully completed task 01dd16f6-88e5-11f0-916b-0242ac140006
2025-09-03 12:42:40,892 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:42:40,892 - services.external_task_worker - INFO - Executing task 01df870b-88e5-11f0-916b-0242ac140006 for topic construct-prompt
2025-09-03 12:42:40,892 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756917758.6849022}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756917758.6849022}, "processing_timestamp": 1756917759.6896346}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:42:40,903 - services.external_task_worker - INFO - Successfully completed task 01df870b-88e5-11f0-916b-0242ac140006
2025-09-03 12:42:40,911 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:42:40,911 - services.external_task_worker - INFO - Executing task 01e2463e-88e5-11f0-916b-0242ac140006 for topic llm-generation
2025-09-03 12:42:40,911 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756917758.6849022}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756917758.6849022}, "processing_timestamp": 1756917759.6896346}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:42:40,922 - services.external_task_worker - INFO - Successfully completed task 01e2463e-88e5-11f0-916b-0242ac140006
2025-09-03 12:42:40,932 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:42:40,933 - services.external_task_worker - INFO - Executing task 01e5538f-88e5-11f0-916b-0242ac140006 for topic process-response
2025-09-03 12:42:40,933 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756917758.6849022}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756917758.6849022}, "processing_timestamp": 1756917759.6896346}', 'llm_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:42:40,943 - services.external_task_worker - INFO - Successfully completed task 01e5538f-88e5-11f0-916b-0242ac140006
2025-09-03 12:42:40,952 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 12:42:40,952 - services.external_task_worker - INFO - Executing task 01e860e5-88e5-11f0-916b-0242ac140006 for topic log-interaction
2025-09-03 12:42:40,952 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756917758.6849022}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.\n\nSources:\n[1] Navigation System Requirements\n', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756917758.6849022}, "processing_timestamp": 1756917759.6896346}', 'llm_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 12:42:40,969 - services.external_task_worker - INFO - Successfully completed task 01e860e5-88e5-11f0-916b-0242ac140006
2025-09-03 12:44:58,825 - urllib3.connectionpool - WARNING - Retrying (Retry(total=2, connect=None, read=None, redirect=None, status=None)) after connection broken by 'ReadTimeoutError("HTTPConnectionPool(host='localhost', port=8080): Read timed out. (read timeout=30)")': /engine-rest/external-task/fetchAndLock
2025-09-03 12:45:28,851 - urllib3.connectionpool - WARNING - Retrying (Retry(total=1, connect=None, read=None, redirect=None, status=None)) after connection broken by 'ReadTimeoutError("HTTPConnectionPool(host='localhost', port=8080): Read timed out. (read timeout=30)")': /engine-rest/external-task/fetchAndLock
2025-09-03 12:45:58,882 - urllib3.connectionpool - WARNING - Retrying (Retry(total=0, connect=None, read=None, redirect=None, status=None)) after connection broken by 'ReadTimeoutError("HTTPConnectionPool(host='localhost', port=8080): Read timed out. (read timeout=30)")': /engine-rest/external-task/fetchAndLock
2025-09-03 12:45:58,883 - services.external_task_worker - ERROR - Error fetching tasks: HTTPConnectionPool(host='localhost', port=8080): Max retries exceeded with url: /engine-rest/external-task/fetchAndLock (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6638596d70>: Failed to establish a new connection: [Errno 99] Cannot assign requested address'))
2025-09-03 12:46:29,910 - urllib3.connectionpool - WARNING - Retrying (Retry(total=2, connect=None, read=None, redirect=None, status=None)) after connection broken by 'ReadTimeoutError("HTTPConnectionPool(host='localhost', port=8080): Read timed out. (read timeout=30)")': /engine-rest/external-task/fetchAndLock
2025-09-03 12:46:59,924 - urllib3.connectionpool - WARNING - Retrying (Retry(total=1, connect=None, read=None, redirect=None, status=None)) after connection broken by 'ReadTimeoutError("HTTPConnectionPool(host='localhost', port=8080): Read timed out. (read timeout=30)")': /engine-rest/external-task/fetchAndLock
2025-09-03 12:46:59,926 - urllib3.connectionpool - WARNING - Retrying (Retry(total=0, connect=None, read=None, redirect=None, status=None)) after connection broken by 'NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f66381ed8c0>: Failed to establish a new connection: [Errno 99] Cannot assign requested address')': /engine-rest/external-task/fetchAndLock
2025-09-03 12:46:59,926 - services.external_task_worker - ERROR - Error fetching tasks: HTTPConnectionPool(host='localhost', port=8080): Max retries exceeded with url: /engine-rest/external-task/fetchAndLock (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f66381ee8b0>: Failed to establish a new connection: [Errno 99] Cannot assign requested address'))
2025-09-03 12:47:30,940 - urllib3.connectionpool - WARNING - Retrying (Retry(total=2, connect=None, read=None, redirect=None, status=None)) after connection broken by 'ReadTimeoutError("HTTPConnectionPool(host='localhost', port=8080): Read timed out. (read timeout=30)")': /engine-rest/external-task/fetchAndLock
2025-09-03 12:47:30,940 - urllib3.connectionpool - WARNING - Retrying (Retry(total=1, connect=None, read=None, redirect=None, status=None)) after connection broken by 'NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f66381ee030>: Failed to establish a new connection: [Errno 99] Cannot assign requested address')': /engine-rest/external-task/fetchAndLock
2025-09-03 12:47:30,941 - urllib3.connectionpool - WARNING - Retrying (Retry(total=0, connect=None, read=None, redirect=None, status=None)) after connection broken by 'NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f66381edd00>: Failed to establish a new connection: [Errno 99] Cannot assign requested address')': /engine-rest/external-task/fetchAndLock
2025-09-03 12:47:30,941 - services.external_task_worker - ERROR - Error fetching tasks: HTTPConnectionPool(host='localhost', port=8080): Max retries exceeded with url: /engine-rest/external-task/fetchAndLock (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6637d90270>: Failed to establish a new connection: [Errno 99] Cannot assign requested address'))
2025-09-03 12:48:01,968 - urllib3.connectionpool - WARNING - Retrying (Retry(total=2, connect=None, read=None, redirect=None, status=None)) after connection broken by 'ReadTimeoutError("HTTPConnectionPool(host='localhost', port=8080): Read timed out. (read timeout=30)")': /engine-rest/external-task/fetchAndLock
2025-09-03 12:48:01,969 - urllib3.connectionpool - WARNING - Retrying (Retry(total=1, connect=None, read=None, redirect=None, status=None)) after connection broken by 'NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6637d908d0>: Failed to establish a new connection: [Errno 99] Cannot assign requested address')': /engine-rest/external-task/fetchAndLock
2025-09-03 12:48:01,970 - urllib3.connectionpool - WARNING - Retrying (Retry(total=0, connect=None, read=None, redirect=None, status=None)) after connection broken by 'NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6637d90c00>: Failed to establish a new connection: [Errno 99] Cannot assign requested address')': /engine-rest/external-task/fetchAndLock
2025-09-03 12:48:01,971 - services.external_task_worker - ERROR - Error fetching tasks: HTTPConnectionPool(host='localhost', port=8080): Max retries exceeded with url: /engine-rest/external-task/fetchAndLock (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6637d90f30>: Failed to establish a new connection: [Errno 99] Cannot assign requested address'))
2025-09-03 12:48:32,991 - urllib3.connectionpool - WARNING - Retrying (Retry(total=2, connect=None, read=None, redirect=None, status=None)) after connection broken by 'ReadTimeoutError("HTTPConnectionPool(host='localhost', port=8080): Read timed out. (read timeout=30)")': /engine-rest/external-task/fetchAndLock
2025-09-03 12:48:32,992 - urllib3.connectionpool - WARNING - Retrying (Retry(total=1, connect=None, read=None, redirect=None, status=None)) after connection broken by 'NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6637d91590>: Failed to establish a new connection: [Errno 99] Cannot assign requested address')': /engine-rest/external-task/fetchAndLock
2025-09-03 12:48:32,992 - urllib3.connectionpool - WARNING - Retrying (Retry(total=0, connect=None, read=None, redirect=None, status=None)) after connection broken by 'NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6637d918c0>: Failed to establish a new connection: [Errno 99] Cannot assign requested address')': /engine-rest/external-task/fetchAndLock
2025-09-03 12:48:32,993 - services.external_task_worker - ERROR - Error fetching tasks: HTTPConnectionPool(host='localhost', port=8080): Max retries exceeded with url: /engine-rest/external-task/fetchAndLock (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6637d91bf0>: Failed to establish a new connection: [Errno 99] Cannot assign requested address'))
2025-09-03 12:49:04,012 - urllib3.connectionpool - WARNING - Retrying (Retry(total=2, connect=None, read=None, redirect=None, status=None)) after connection broken by 'ReadTimeoutError("HTTPConnectionPool(host='localhost', port=8080): Read timed out. (read timeout=30)")': /engine-rest/external-task/fetchAndLock
2025-09-03 12:49:04,012 - urllib3.connectionpool - WARNING - Retrying (Retry(total=1, connect=None, read=None, redirect=None, status=None)) after connection broken by 'NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6637d92250>: Failed to establish a new connection: [Errno 99] Cannot assign requested address')': /engine-rest/external-task/fetchAndLock
2025-09-03 12:49:04,013 - urllib3.connectionpool - WARNING - Retrying (Retry(total=0, connect=None, read=None, redirect=None, status=None)) after connection broken by 'NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6637d92580>: Failed to establish a new connection: [Errno 99] Cannot assign requested address')': /engine-rest/external-task/fetchAndLock
2025-09-03 12:49:04,013 - services.external_task_worker - ERROR - Error fetching tasks: HTTPConnectionPool(host='localhost', port=8080): Max retries exceeded with url: /engine-rest/external-task/fetchAndLock (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6637d928b0>: Failed to establish a new connection: [Errno 99] Cannot assign requested address'))
2025-09-03 13:20:19,264 - services.external_task_worker - INFO - Starting external task worker: odras-worker-1756920019
2025-09-03 13:20:19,351 - services.external_task_worker - INFO - Received 2 tasks
2025-09-03 13:20:19,351 - services.external_task_worker - INFO - Executing task 226feaa2-88ea-11f0-bc34-0242ac160003 for topic process-user-query
2025-09-03 13:20:19,352 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756919962.7990487}'}
2025-09-03 13:20:19,406 - services.external_task_worker - INFO - Successfully completed task 226feaa2-88ea-11f0-bc34-0242ac160003
2025-09-03 13:20:19,406 - services.external_task_worker - INFO - Executing task 2b5daeec-88ea-11f0-bc34-0242ac160003 for topic process-user-query
2025-09-03 13:20:19,406 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756919977.9348042}'}
2025-09-03 13:20:19,432 - services.external_task_worker - INFO - Successfully completed task 2b5daeec-88ea-11f0-bc34-0242ac160003
2025-09-03 13:20:19,463 - services.external_task_worker - INFO - Received 2 tasks
2025-09-03 13:20:19,463 - services.external_task_worker - INFO - Executing task 440d1c77-88ea-11f0-bc34-0242ac160003 for topic retrieve-context
2025-09-03 13:20:19,464 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756919962.7990487}', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756919962.7990487}, "processing_timestamp": 1756920019.3528643}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:20:19,486 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-03 13:20:19,566 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-03 13:20:19,571 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-03 13:20:19,572 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-03 13:20:19,590 - services.embedding_service - INFO - Embedding service initialized
2025-09-03 13:20:19,590 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-03 13:20:19,916 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cuda:0
2025-09-03 13:20:19,917 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-03 13:20:21,122 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-03 13:20:21,534 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-03 13:20:21,572 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-03 13:20:21,574 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.6
2025-09-03 13:20:21,574 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'What is the required position accuracy?...'
2025-09-03 13:20:21,634 - services.external_task_worker - INFO - Successfully completed task 440d1c77-88ea-11f0-bc34-0242ac160003
2025-09-03 13:20:21,634 - services.external_task_worker - INFO - Executing task 44116252-88ea-11f0-bc34-0242ac160003 for topic retrieve-context
2025-09-03 13:20:21,634 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756919977.9348042}', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756919977.9348042}, "processing_timestamp": 1756920019.4067898}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:20:21,639 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-03 13:20:21,697 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-03 13:20:21,703 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-03 13:20:21,703 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-03 13:20:21,722 - services.embedding_service - INFO - Embedding service initialized
2025-09-03 13:20:21,722 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-03 13:20:21,723 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cuda:0
2025-09-03 13:20:21,723 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-03 13:20:22,714 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-03 13:20:22,721 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-03 13:20:22,728 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-03 13:20:22,729 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.6
2025-09-03 13:20:22,729 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'What is the required position accuracy?...'
2025-09-03 13:20:22,765 - services.external_task_worker - INFO - Successfully completed task 44116252-88ea-11f0-bc34-0242ac160003
2025-09-03 13:20:22,794 - services.external_task_worker - INFO - Received 2 tasks
2025-09-03 13:20:22,794 - services.external_task_worker - INFO - Executing task 45600276-88ea-11f0-bc34-0242ac160003 for topic rerank-context
2025-09-03 13:20:22,794 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756919962.7990487}', 'retrieved_chunks': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756919962.7990487}, "processing_timestamp": 1756920019.3528643}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:20:22,831 - services.external_task_worker - INFO - Successfully completed task 45600276-88ea-11f0-bc34-0242ac160003
2025-09-03 13:20:22,832 - services.external_task_worker - INFO - Executing task 460d809a-88ea-11f0-bc34-0242ac160003 for topic rerank-context
2025-09-03 13:20:22,832 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756919977.9348042}', 'retrieved_chunks': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756919977.9348042}, "processing_timestamp": 1756920019.4067898}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:20:22,866 - services.external_task_worker - INFO - Successfully completed task 460d809a-88ea-11f0-bc34-0242ac160003
2025-09-03 13:20:22,890 - services.external_task_worker - INFO - Received 2 tasks
2025-09-03 13:20:22,891 - services.external_task_worker - INFO - Executing task 46180801-88ea-11f0-bc34-0242ac160003 for topic fallback-search
2025-09-03 13:20:22,891 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756919962.7990487}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756919962.7990487}, "processing_timestamp": 1756920019.3528643}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:20:22,922 - services.external_task_worker - INFO - Successfully completed task 46180801-88ea-11f0-bc34-0242ac160003
2025-09-03 13:20:22,922 - services.external_task_worker - INFO - Executing task 461d1128-88ea-11f0-bc34-0242ac160003 for topic fallback-search
2025-09-03 13:20:22,922 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756919977.9348042}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756919977.9348042}, "processing_timestamp": 1756920019.4067898}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:20:22,950 - services.external_task_worker - INFO - Successfully completed task 461d1128-88ea-11f0-bc34-0242ac160003
2025-09-03 13:20:22,973 - services.external_task_worker - INFO - Received 2 tasks
2025-09-03 13:20:22,973 - services.external_task_worker - INFO - Executing task 4625278d-88ea-11f0-bc34-0242ac160003 for topic construct-prompt
2025-09-03 13:20:22,973 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756919962.7990487}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756919962.7990487}, "processing_timestamp": 1756920019.3528643}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:20:22,998 - services.external_task_worker - INFO - Successfully completed task 4625278d-88ea-11f0-bc34-0242ac160003
2025-09-03 13:20:22,999 - services.external_task_worker - INFO - Executing task 462a08a2-88ea-11f0-bc34-0242ac160003 for topic construct-prompt
2025-09-03 13:20:22,999 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756919977.9348042}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756919977.9348042}, "processing_timestamp": 1756920019.4067898}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:20:23,019 - services.external_task_worker - INFO - Successfully completed task 462a08a2-88ea-11f0-bc34-0242ac160003
2025-09-03 13:20:23,038 - services.external_task_worker - INFO - Received 2 tasks
2025-09-03 13:20:23,039 - services.external_task_worker - INFO - Executing task 4631f7f5-88ea-11f0-bc34-0242ac160003 for topic llm-generation
2025-09-03 13:20:23,039 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756919962.7990487}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756919962.7990487}, "processing_timestamp": 1756920019.3528643}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:20:23,058 - services.external_task_worker - INFO - Successfully completed task 4631f7f5-88ea-11f0-bc34-0242ac160003
2025-09-03 13:20:23,059 - services.external_task_worker - INFO - Executing task 46357a78-88ea-11f0-bc34-0242ac160003 for topic llm-generation
2025-09-03 13:20:23,059 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756919977.9348042}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756919977.9348042}, "processing_timestamp": 1756920019.4067898}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:20:23,079 - services.external_task_worker - INFO - Successfully completed task 46357a78-88ea-11f0-bc34-0242ac160003
2025-09-03 13:20:23,097 - services.external_task_worker - INFO - Received 2 tasks
2025-09-03 13:20:23,097 - services.external_task_worker - INFO - Executing task 463b6df9-88ea-11f0-bc34-0242ac160003 for topic process-response
2025-09-03 13:20:23,097 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756919962.7990487}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756919962.7990487}, "processing_timestamp": 1756920019.3528643}', 'llm_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:20:23,119 - services.external_task_worker - INFO - Successfully completed task 463b6df9-88ea-11f0-bc34-0242ac160003
2025-09-03 13:20:23,119 - services.external_task_worker - INFO - Executing task 463e7b4a-88ea-11f0-bc34-0242ac160003 for topic process-response
2025-09-03 13:20:23,120 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756919977.9348042}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756919977.9348042}, "processing_timestamp": 1756920019.4067898}', 'llm_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:20:23,142 - services.external_task_worker - INFO - Successfully completed task 463e7b4a-88ea-11f0-bc34-0242ac160003
2025-09-03 13:20:23,164 - services.external_task_worker - INFO - Received 2 tasks
2025-09-03 13:20:23,164 - services.external_task_worker - INFO - Executing task 464495e0-88ea-11f0-bc34-0242ac160003 for topic log-interaction
2025-09-03 13:20:23,164 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756919962.7990487}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.\n\nSources:\n[1] Navigation System Requirements\n', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756919962.7990487}, "processing_timestamp": 1756920019.3528643}', 'llm_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:20:23,209 - services.external_task_worker - INFO - Successfully completed task 464495e0-88ea-11f0-bc34-0242ac160003
2025-09-03 13:20:23,210 - services.external_task_worker - INFO - Executing task 4647f156-88ea-11f0-bc34-0242ac160003 for topic log-interaction
2025-09-03 13:20:23,210 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756919977.9348042}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.\n\nSources:\n[1] Navigation System Requirements\n', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756919977.9348042}, "processing_timestamp": 1756920019.4067898}', 'llm_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:20:23,252 - services.external_task_worker - INFO - Successfully completed task 4647f156-88ea-11f0-bc34-0242ac160003
2025-09-03 13:21:47,246 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:21:47,246 - services.external_task_worker - INFO - Executing task 77e5d130-88ea-11f0-bc34-0242ac160003 for topic process-user-query
2025-09-03 13:21:47,246 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1756920106.3516312}'}
2025-09-03 13:21:47,246 - services.external_task_worker - ERROR - Error executing task 77e5d130-88ea-11f0-bc34-0242ac160003: Task execution failed: [Errno 5] Input/output error
2025-09-03 13:21:47,247 - services.external_task_worker - ERROR - Traceback (most recent call last):
  File "/home/jdehart/working/ODRAS/scripts/task_process_user_query.py", line 117, in process_user_query
    print(f"Processed user query successfully")
    ~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
OSError: [Errno 5] Input/output error

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/jdehart/working/ODRAS/scripts/../backend/services/external_task_worker.py", line 213, in execute_task
    result = handler(task_variables)
  File "/home/jdehart/working/ODRAS/scripts/../backend/services/external_task_worker.py", line 497, in handle_process_user_query
    result = process_user_query(query, query_metadata)
  File "/home/jdehart/working/ODRAS/scripts/task_process_user_query.py", line 125, in process_user_query
    print(f"Query processing failed: {str(e)}")
    ~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
OSError: [Errno 5] Input/output error

2025-09-03 13:21:57,377 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:21:57,377 - services.external_task_worker - INFO - Executing task 7ddfa9de-88ea-11f0-bc34-0242ac160003 for topic process-user-query
2025-09-03 13:21:57,377 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920116.3733003}'}
2025-09-03 13:21:57,377 - services.external_task_worker - ERROR - Error executing task 7ddfa9de-88ea-11f0-bc34-0242ac160003: Task execution failed: [Errno 5] Input/output error
2025-09-03 13:21:57,378 - services.external_task_worker - ERROR - Traceback (most recent call last):
  File "/home/jdehart/working/ODRAS/scripts/task_process_user_query.py", line 117, in process_user_query
    print(f"Processed user query successfully")
    ~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
OSError: [Errno 5] Input/output error

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/jdehart/working/ODRAS/scripts/../backend/services/external_task_worker.py", line 213, in execute_task
    result = handler(task_variables)
  File "/home/jdehart/working/ODRAS/scripts/../backend/services/external_task_worker.py", line 497, in handle_process_user_query
    result = process_user_query(query, query_metadata)
  File "/home/jdehart/working/ODRAS/scripts/task_process_user_query.py", line 125, in process_user_query
    print(f"Query processing failed: {str(e)}")
    ~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
OSError: [Errno 5] Input/output error

2025-09-03 13:26:31,531 - __main__ - INFO - Received signal 15, shutting down worker...
2025-09-03 13:26:36,829 - services.external_task_worker - INFO - Starting external task worker: odras-worker-1756920396
2025-09-03 13:26:37,850 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:26:37,850 - services.external_task_worker - INFO - Executing task 258d142e-88eb-11f0-bc34-0242ac160003 for topic process-user-query
2025-09-03 13:26:37,850 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920397.6901603}'}
2025-09-03 13:26:37,865 - services.external_task_worker - INFO - Successfully completed task 258d142e-88eb-11f0-bc34-0242ac160003
2025-09-03 13:26:37,878 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:26:37,879 - services.external_task_worker - INFO - Executing task 25a2e639-88eb-11f0-bc34-0242ac160003 for topic retrieve-context
2025-09-03 13:26:37,879 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920397.6901603}', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920397.6901603}, "processing_timestamp": 1756920397.8512287}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:26:37,890 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-03 13:26:37,966 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-03 13:26:37,972 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-03 13:26:37,974 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-03 13:26:37,992 - services.embedding_service - INFO - Embedding service initialized
2025-09-03 13:26:37,992 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-03 13:26:39,862 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cuda:0
2025-09-03 13:26:39,863 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-03 13:26:42,063 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-03 13:26:42,547 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-03 13:26:42,558 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-03 13:26:42,559 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.6
2025-09-03 13:26:42,559 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'What is the required position accuracy?...'
2025-09-03 13:26:42,580 - services.external_task_worker - INFO - Successfully completed task 25a2e639-88eb-11f0-bc34-0242ac160003
2025-09-03 13:26:42,590 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:26:42,590 - services.external_task_worker - INFO - Executing task 287232ed-88eb-11f0-bc34-0242ac160003 for topic rerank-context
2025-09-03 13:26:42,590 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920397.6901603}', 'retrieved_chunks': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920397.6901603}, "processing_timestamp": 1756920397.8512287}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:26:42,603 - services.external_task_worker - INFO - Successfully completed task 287232ed-88eb-11f0-bc34-0242ac160003
2025-09-03 13:26:42,615 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:26:42,615 - services.external_task_worker - INFO - Executing task 2875b474-88eb-11f0-bc34-0242ac160003 for topic fallback-search
2025-09-03 13:26:42,615 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920397.6901603}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920397.6901603}, "processing_timestamp": 1756920397.8512287}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:26:42,629 - services.external_task_worker - INFO - Successfully completed task 2875b474-88eb-11f0-bc34-0242ac160003
2025-09-03 13:26:42,636 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:26:42,637 - services.external_task_worker - INFO - Executing task 28795e09-88eb-11f0-bc34-0242ac160003 for topic construct-prompt
2025-09-03 13:26:42,637 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920397.6901603}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920397.6901603}, "processing_timestamp": 1756920397.8512287}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:26:42,651 - services.external_task_worker - INFO - Successfully completed task 28795e09-88eb-11f0-bc34-0242ac160003
2025-09-03 13:26:42,664 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:26:42,664 - services.external_task_worker - INFO - Executing task 287ce08c-88eb-11f0-bc34-0242ac160003 for topic llm-generation
2025-09-03 13:26:42,664 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920397.6901603}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920397.6901603}, "processing_timestamp": 1756920397.8512287}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:26:42,680 - services.external_task_worker - INFO - Successfully completed task 287ce08c-88eb-11f0-bc34-0242ac160003
2025-09-03 13:26:42,691 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:26:42,691 - services.external_task_worker - INFO - Executing task 28814d6d-88eb-11f0-bc34-0242ac160003 for topic process-response
2025-09-03 13:26:42,691 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920397.6901603}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920397.6901603}, "processing_timestamp": 1756920397.8512287}', 'llm_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:26:42,707 - services.external_task_worker - INFO - Successfully completed task 28814d6d-88eb-11f0-bc34-0242ac160003
2025-09-03 13:26:42,718 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:26:42,718 - services.external_task_worker - INFO - Executing task 28851e13-88eb-11f0-bc34-0242ac160003 for topic log-interaction
2025-09-03 13:26:42,718 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920397.6901603}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.\n\nSources:\n[1] Navigation System Requirements\n', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920397.6901603}, "processing_timestamp": 1756920397.8512287}', 'llm_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:26:42,749 - services.external_task_worker - INFO - Successfully completed task 28851e13-88eb-11f0-bc34-0242ac160003
2025-09-03 13:26:51,787 - __main__ - INFO - Received signal 15, shutting down worker...
2025-09-03 13:26:59,272 - services.external_task_worker - INFO - Starting external task worker: odras-worker-1756920419
2025-09-03 13:27:00,217 - __main__ - INFO - Received signal 15, shutting down worker...
2025-09-03 13:27:47,577 - services.external_task_worker - INFO - Starting external task worker: odras-worker-1756920467
2025-09-03 13:27:47,587 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:27:47,587 - services.external_task_worker - INFO - Executing task 32ff75dd-88eb-11f0-bc34-0242ac160003 for topic process-user-query
2025-09-03 13:27:47,587 - services.external_task_worker - INFO - Task variables: {'user_query': 'test query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920420.2484093}'}
2025-09-03 13:27:47,599 - services.external_task_worker - INFO - Successfully completed task 32ff75dd-88eb-11f0-bc34-0242ac160003
2025-09-03 13:27:47,610 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:27:47,610 - services.external_task_worker - INFO - Executing task 4f337648-88eb-11f0-bc34-0242ac160003 for topic retrieve-context
2025-09-03 13:27:47,610 - services.external_task_worker - INFO - Task variables: {'user_query': 'test query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920420.2484093}', 'processed_query': '{"original_query": "test query", "cleaned_query": "test query", "key_terms": ["test", "query"], "question_intent": [], "query_type": "informational", "domain_terms": [], "word_count": 2, "char_count": 10, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920420.2484093}, "processing_timestamp": 1756920467.5883243}', 'search_parameters': '{"primary_terms": ["test", "query"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:27:47,621 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-03 13:27:47,692 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-03 13:27:47,697 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-03 13:27:47,698 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-03 13:27:47,716 - services.embedding_service - INFO - Embedding service initialized
2025-09-03 13:27:47,716 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-03 13:27:50,559 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cuda:0
2025-09-03 13:27:50,559 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-03 13:27:52,657 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-03 13:27:53,056 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-03 13:27:53,068 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-03 13:27:53,069 - services.qdrant_service - INFO - Found 0 results in collection 'knowledge_chunks' with threshold 0.6
2025-09-03 13:27:53,070 - services.qdrant_service - INFO - Found 0 similar chunks for query: 'test query...'
2025-09-03 13:27:53,082 - services.external_task_worker - INFO - Successfully completed task 4f337648-88eb-11f0-bc34-0242ac160003
2025-09-03 13:27:53,094 - services.external_task_worker - INFO - Received 2 tasks
2025-09-03 13:27:53,094 - services.external_task_worker - INFO - Executing task 4fbf3b92-88eb-11f0-bc34-0242ac160003 for topic process-user-query
2025-09-03 13:27:53,094 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920468.4846509}'}
2025-09-03 13:27:53,105 - services.external_task_worker - INFO - Successfully completed task 4fbf3b92-88eb-11f0-bc34-0242ac160003
2025-09-03 13:27:53,105 - services.external_task_worker - INFO - Executing task 52781a16-88eb-11f0-bc34-0242ac160003 for topic rerank-context
2025-09-03 13:27:53,105 - services.external_task_worker - INFO - Task variables: {'user_query': 'test query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920420.2484093}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test query", "cleaned_query": "test query", "key_terms": ["test", "query"], "question_intent": [], "query_type": "informational", "domain_terms": [], "word_count": 2, "char_count": 10, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920420.2484093}, "processing_timestamp": 1756920467.5883243}', 'search_parameters': '{"primary_terms": ["test", "query"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:27:53,117 - services.external_task_worker - INFO - Successfully completed task 52781a16-88eb-11f0-bc34-0242ac160003
2025-09-03 13:27:53,129 - services.external_task_worker - INFO - Received 2 tasks
2025-09-03 13:27:53,129 - services.external_task_worker - INFO - Executing task 527b7591-88eb-11f0-bc34-0242ac160003 for topic retrieve-context
2025-09-03 13:27:53,129 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920468.4846509}', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920468.4846509}, "processing_timestamp": 1756920473.0946865}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:27:53,132 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-03 13:27:53,176 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-03 13:27:53,181 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-03 13:27:53,181 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-03 13:27:53,200 - services.embedding_service - INFO - Embedding service initialized
2025-09-03 13:27:53,200 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-03 13:27:53,200 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cuda:0
2025-09-03 13:27:53,200 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-03 13:27:54,151 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-03 13:27:54,159 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-03 13:27:54,169 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-03 13:27:54,169 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.6
2025-09-03 13:27:54,170 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'What is the required position accuracy?...'
2025-09-03 13:27:54,194 - services.external_task_worker - INFO - Successfully completed task 527b7591-88eb-11f0-bc34-0242ac160003
2025-09-03 13:27:54,194 - services.external_task_worker - INFO - Executing task 527d4a68-88eb-11f0-bc34-0242ac160003 for topic fallback-search
2025-09-03 13:27:54,194 - services.external_task_worker - INFO - Task variables: {'user_query': 'test query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920420.2484093}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test query", "cleaned_query": "test query", "key_terms": ["test", "query"], "question_intent": [], "query_type": "informational", "domain_terms": [], "word_count": 2, "char_count": 10, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920420.2484093}, "processing_timestamp": 1756920467.5883243}', 'search_parameters': '{"primary_terms": ["test", "query"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:27:54,211 - services.external_task_worker - INFO - Successfully completed task 527d4a68-88eb-11f0-bc34-0242ac160003
2025-09-03 13:27:54,225 - services.external_task_worker - INFO - Received 2 tasks
2025-09-03 13:27:54,226 - services.external_task_worker - INFO - Executing task 532179bc-88eb-11f0-bc34-0242ac160003 for topic rerank-context
2025-09-03 13:27:54,226 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920468.4846509}', 'retrieved_chunks': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920468.4846509}, "processing_timestamp": 1756920473.0946865}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:27:54,239 - services.external_task_worker - INFO - Successfully completed task 532179bc-88eb-11f0-bc34-0242ac160003
2025-09-03 13:27:54,239 - services.external_task_worker - INFO - Executing task 5323e9d1-88eb-11f0-bc34-0242ac160003 for topic construct-prompt
2025-09-03 13:27:54,239 - services.external_task_worker - INFO - Task variables: {'user_query': 'test query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920420.2484093}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test query", "cleaned_query": "test query", "key_terms": ["test", "query"], "question_intent": [], "query_type": "informational", "domain_terms": [], "word_count": 2, "char_count": 10, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920420.2484093}, "processing_timestamp": 1756920467.5883243}', 'search_parameters': '{"primary_terms": ["test", "query"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:27:54,252 - services.external_task_worker - INFO - Successfully completed task 5323e9d1-88eb-11f0-bc34-0242ac160003
2025-09-03 13:27:54,264 - services.external_task_worker - INFO - Received 2 tasks
2025-09-03 13:27:54,264 - services.external_task_worker - INFO - Executing task 53287dc8-88eb-11f0-bc34-0242ac160003 for topic fallback-search
2025-09-03 13:27:54,265 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920468.4846509}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920468.4846509}, "processing_timestamp": 1756920473.0946865}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:27:54,279 - services.external_task_worker - INFO - Successfully completed task 53287dc8-88eb-11f0-bc34-0242ac160003
2025-09-03 13:27:54,279 - services.external_task_worker - INFO - Executing task 532aa0bb-88eb-11f0-bc34-0242ac160003 for topic llm-generation
2025-09-03 13:27:54,279 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920420.2484093}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test query", "cleaned_query": "test query", "key_terms": ["test", "query"], "question_intent": [], "query_type": "informational", "domain_terms": [], "word_count": 2, "char_count": 10, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920420.2484093}, "processing_timestamp": 1756920467.5883243}', 'search_parameters': '{"primary_terms": ["test", "query"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:27:54,292 - services.external_task_worker - INFO - Successfully completed task 532aa0bb-88eb-11f0-bc34-0242ac160003
2025-09-03 13:27:54,304 - services.external_task_worker - INFO - Received 2 tasks
2025-09-03 13:27:54,304 - services.external_task_worker - INFO - Executing task 532e7160-88eb-11f0-bc34-0242ac160003 for topic construct-prompt
2025-09-03 13:27:54,304 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920468.4846509}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920468.4846509}, "processing_timestamp": 1756920473.0946865}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:27:54,318 - services.external_task_worker - INFO - Successfully completed task 532e7160-88eb-11f0-bc34-0242ac160003
2025-09-03 13:27:54,318 - services.external_task_worker - INFO - Executing task 53306d41-88eb-11f0-bc34-0242ac160003 for topic process-response
2025-09-03 13:27:54,319 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920420.2484093}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test query", "cleaned_query": "test query", "key_terms": ["test", "query"], "question_intent": [], "query_type": "informational", "domain_terms": [], "word_count": 2, "char_count": 10, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920420.2484093}, "processing_timestamp": 1756920467.5883243}', 'llm_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'search_parameters': '{"primary_terms": ["test", "query"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:27:54,332 - services.external_task_worker - INFO - Successfully completed task 53306d41-88eb-11f0-bc34-0242ac160003
2025-09-03 13:27:54,345 - services.external_task_worker - INFO - Received 2 tasks
2025-09-03 13:27:54,345 - services.external_task_worker - INFO - Executing task 533464f4-88eb-11f0-bc34-0242ac160003 for topic llm-generation
2025-09-03 13:27:54,345 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920468.4846509}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920468.4846509}, "processing_timestamp": 1756920473.0946865}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:27:54,359 - services.external_task_worker - INFO - Successfully completed task 533464f4-88eb-11f0-bc34-0242ac160003
2025-09-03 13:27:54,359 - services.external_task_worker - INFO - Executing task 5336aefa-88eb-11f0-bc34-0242ac160003 for topic log-interaction
2025-09-03 13:27:54,359 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920420.2484093}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'processed_query': '{"original_query": "test query", "cleaned_query": "test query", "key_terms": ["test", "query"], "question_intent": [], "query_type": "informational", "domain_terms": [], "word_count": 2, "char_count": 10, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920420.2484093}, "processing_timestamp": 1756920467.5883243}', 'llm_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'search_parameters': '{"primary_terms": ["test", "query"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:27:54,379 - services.external_task_worker - INFO - Successfully completed task 5336aefa-88eb-11f0-bc34-0242ac160003
2025-09-03 13:27:54,390 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:27:54,390 - services.external_task_worker - INFO - Executing task 533a7f9b-88eb-11f0-bc34-0242ac160003 for topic process-response
2025-09-03 13:27:54,390 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920468.4846509}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920468.4846509}, "processing_timestamp": 1756920473.0946865}', 'llm_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:27:54,404 - services.external_task_worker - INFO - Successfully completed task 533a7f9b-88eb-11f0-bc34-0242ac160003
2025-09-03 13:27:54,415 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:27:54,416 - services.external_task_worker - INFO - Executing task 5341abb1-88eb-11f0-bc34-0242ac160003 for topic log-interaction
2025-09-03 13:27:54,416 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920468.4846509}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.\n\nSources:\n[1] Navigation System Requirements\n', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920468.4846509}, "processing_timestamp": 1756920473.0946865}', 'llm_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:27:54,439 - services.external_task_worker - INFO - Successfully completed task 5341abb1-88eb-11f0-bc34-0242ac160003
2025-09-03 13:28:30,001 - __main__ - INFO - Received signal 2, shutting down worker...
2025-09-03 13:28:30,002 - __main__ - INFO - Received signal 15, shutting down worker...
2025-09-03 13:28:56,961 - services.external_task_worker - INFO - Starting external task worker: odras-worker-1756920536
2025-09-03 13:28:58,985 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:28:58,985 - services.external_task_worker - INFO - Executing task 7955e6ab-88eb-11f0-bc34-0242ac160003 for topic process-user-query
2025-09-03 13:28:58,985 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920538.2579508}'}
2025-09-03 13:28:58,996 - services.external_task_worker - INFO - Successfully completed task 7955e6ab-88eb-11f0-bc34-0242ac160003
2025-09-03 13:28:59,006 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:28:59,006 - services.external_task_worker - INFO - Executing task 79c1a0e6-88eb-11f0-bc34-0242ac160003 for topic retrieve-context
2025-09-03 13:28:59,006 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920538.2579508}', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920538.2579508}, "processing_timestamp": 1756920538.985693}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:28:59,018 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-03 13:28:59,083 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-03 13:28:59,089 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-03 13:28:59,090 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-03 13:28:59,110 - services.embedding_service - INFO - Embedding service initialized
2025-09-03 13:28:59,111 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-03 13:29:01,734 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cuda:0
2025-09-03 13:29:01,734 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-03 13:29:03,817 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-03 13:29:04,156 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-03 13:29:04,168 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-03 13:29:04,169 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.6
2025-09-03 13:29:04,170 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'What is the required position accuracy?...'
2025-09-03 13:29:04,195 - services.external_task_worker - INFO - Successfully completed task 79c1a0e6-88eb-11f0-bc34-0242ac160003
2025-09-03 13:29:04,208 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:29:04,208 - services.external_task_worker - INFO - Executing task 7cdac6da-88eb-11f0-bc34-0242ac160003 for topic rerank-context
2025-09-03 13:29:04,208 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920538.2579508}', 'retrieved_chunks': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920538.2579508}, "processing_timestamp": 1756920538.985693}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:29:04,219 - services.external_task_worker - INFO - Successfully completed task 7cdac6da-88eb-11f0-bc34-0242ac160003
2025-09-03 13:29:04,226 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:29:04,227 - services.external_task_worker - INFO - Executing task 7cdebe91-88eb-11f0-bc34-0242ac160003 for topic fallback-search
2025-09-03 13:29:04,227 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920538.2579508}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920538.2579508}, "processing_timestamp": 1756920538.985693}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:29:04,235 - services.external_task_worker - INFO - Successfully completed task 7cdebe91-88eb-11f0-bc34-0242ac160003
2025-09-03 13:29:04,243 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:29:04,243 - services.external_task_worker - INFO - Executing task 7ce12fa6-88eb-11f0-bc34-0242ac160003 for topic construct-prompt
2025-09-03 13:29:04,243 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920538.2579508}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920538.2579508}, "processing_timestamp": 1756920538.985693}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:29:04,253 - services.external_task_worker - INFO - Successfully completed task 7ce12fa6-88eb-11f0-bc34-0242ac160003
2025-09-03 13:29:04,262 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:29:04,262 - services.external_task_worker - INFO - Executing task 7ce3c7c9-88eb-11f0-bc34-0242ac160003 for topic llm-generation
2025-09-03 13:29:04,262 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920538.2579508}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920538.2579508}, "processing_timestamp": 1756920538.985693}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:29:04,274 - services.external_task_worker - INFO - Successfully completed task 7ce3c7c9-88eb-11f0-bc34-0242ac160003
2025-09-03 13:29:04,282 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:29:04,282 - services.external_task_worker - INFO - Executing task 7ce6d51a-88eb-11f0-bc34-0242ac160003 for topic process-response
2025-09-03 13:29:04,282 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920538.2579508}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920538.2579508}, "processing_timestamp": 1756920538.985693}', 'llm_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:29:04,294 - services.external_task_worker - INFO - Successfully completed task 7ce6d51a-88eb-11f0-bc34-0242ac160003
2025-09-03 13:29:04,302 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:29:04,303 - services.external_task_worker - INFO - Executing task 7cea0980-88eb-11f0-bc34-0242ac160003 for topic log-interaction
2025-09-03 13:29:04,303 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920538.2579508}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.\n\nSources:\n[1] Navigation System Requirements\n', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920538.2579508}, "processing_timestamp": 1756920538.985693}', 'llm_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:29:04,328 - services.external_task_worker - INFO - Successfully completed task 7cea0980-88eb-11f0-bc34-0242ac160003
2025-09-03 13:30:01,330 - __main__ - INFO - Received signal 15, shutting down worker...
2025-09-03 13:32:00,811 - services.external_task_worker - INFO - Starting external task worker: odras-worker-1756920720
2025-09-03 13:32:02,837 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:32:02,837 - services.external_task_worker - INFO - Executing task e6ce7f46-88eb-11f0-bc34-0242ac160003 for topic process-user-query
2025-09-03 13:32:02,837 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920721.9199748}'}
2025-09-03 13:32:02,848 - services.external_task_worker - INFO - Successfully completed task e6ce7f46-88eb-11f0-bc34-0242ac160003
2025-09-03 13:32:02,855 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:32:02,855 - services.external_task_worker - INFO - Executing task e7575e71-88eb-11f0-bc34-0242ac160003 for topic retrieve-context
2025-09-03 13:32:02,855 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920721.9199748}', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920721.9199748}, "processing_timestamp": 1756920722.837785}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:32:02,866 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-03 13:32:02,930 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-03 13:32:02,935 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-03 13:32:02,936 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-03 13:32:02,952 - services.embedding_service - INFO - Embedding service initialized
2025-09-03 13:32:02,952 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-03 13:32:05,843 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cuda:0
2025-09-03 13:32:05,843 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-03 13:32:07,717 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-03 13:32:08,055 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-03 13:32:08,065 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-03 13:32:08,066 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.6
2025-09-03 13:32:08,066 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'What is the required position accuracy?...'
2025-09-03 13:32:08,085 - services.external_task_worker - INFO - Successfully completed task e7575e71-88eb-11f0-bc34-0242ac160003
2025-09-03 13:32:08,095 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:32:08,095 - services.external_task_worker - INFO - Executing task ea7678d5-88eb-11f0-bc34-0242ac160003 for topic rerank-context
2025-09-03 13:32:08,095 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920721.9199748}', 'retrieved_chunks': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920721.9199748}, "processing_timestamp": 1756920722.837785}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:32:08,108 - services.external_task_worker - INFO - Successfully completed task ea7678d5-88eb-11f0-bc34-0242ac160003
2025-09-03 13:32:08,117 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:32:08,117 - services.external_task_worker - INFO - Executing task ea79ad3c-88eb-11f0-bc34-0242ac160003 for topic fallback-search
2025-09-03 13:32:08,117 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920721.9199748}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920721.9199748}, "processing_timestamp": 1756920722.837785}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:32:08,129 - services.external_task_worker - INFO - Successfully completed task ea79ad3c-88eb-11f0-bc34-0242ac160003
2025-09-03 13:32:08,138 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:32:08,139 - services.external_task_worker - INFO - Executing task ea7d2fc1-88eb-11f0-bc34-0242ac160003 for topic construct-prompt
2025-09-03 13:32:08,139 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920721.9199748}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920721.9199748}, "processing_timestamp": 1756920722.837785}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:32:08,150 - services.external_task_worker - INFO - Successfully completed task ea7d2fc1-88eb-11f0-bc34-0242ac160003
2025-09-03 13:32:08,162 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:32:08,163 - services.external_task_worker - INFO - Executing task ea806324-88eb-11f0-bc34-0242ac160003 for topic llm-generation
2025-09-03 13:32:08,163 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920721.9199748}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920721.9199748}, "processing_timestamp": 1756920722.837785}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:32:08,175 - services.external_task_worker - INFO - Successfully completed task ea806324-88eb-11f0-bc34-0242ac160003
2025-09-03 13:32:08,185 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:32:08,185 - services.external_task_worker - INFO - Executing task ea840cb5-88eb-11f0-bc34-0242ac160003 for topic process-response
2025-09-03 13:32:08,185 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920721.9199748}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920721.9199748}, "processing_timestamp": 1756920722.837785}', 'llm_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:32:08,198 - services.external_task_worker - INFO - Successfully completed task ea840cb5-88eb-11f0-bc34-0242ac160003
2025-09-03 13:32:08,208 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:32:08,208 - services.external_task_worker - INFO - Executing task ea87b64b-88eb-11f0-bc34-0242ac160003 for topic log-interaction
2025-09-03 13:32:08,208 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920721.9199748}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.\n\nSources:\n[1] Navigation System Requirements\n', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920721.9199748}, "processing_timestamp": 1756920722.837785}', 'llm_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:32:08,229 - services.external_task_worker - INFO - Successfully completed task ea87b64b-88eb-11f0-bc34-0242ac160003
2025-09-03 13:32:31,978 - __main__ - INFO - Received signal 15, shutting down worker...
2025-09-03 13:34:46,936 - services.external_task_worker - INFO - Starting external task worker: odras-worker-1756920886
2025-09-03 13:34:48,964 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:34:48,964 - services.external_task_worker - INFO - Executing task 49e79b25-88ec-11f0-bc34-0242ac160003 for topic process-user-query
2025-09-03 13:34:48,964 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920888.1797144}'}
2025-09-03 13:34:48,974 - services.external_task_worker - INFO - Successfully completed task 49e79b25-88ec-11f0-bc34-0242ac160003
2025-09-03 13:34:48,982 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:34:48,983 - services.external_task_worker - INFO - Executing task 4a5c2f00-88ec-11f0-bc34-0242ac160003 for topic retrieve-context
2025-09-03 13:34:48,983 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920888.1797144}', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920888.1797144}, "processing_timestamp": 1756920888.9651916}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:34:48,994 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-03 13:34:49,061 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-03 13:34:49,066 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-03 13:34:49,067 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-03 13:34:49,083 - services.embedding_service - INFO - Embedding service initialized
2025-09-03 13:34:49,084 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-03 13:34:51,991 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cuda:0
2025-09-03 13:34:51,991 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-03 13:34:53,998 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-03 13:34:54,311 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-03 13:34:54,319 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-03 13:34:54,320 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.6
2025-09-03 13:34:54,321 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'What is the required position accuracy?...'
2025-09-03 13:34:54,338 - services.external_task_worker - INFO - Successfully completed task 4a5c2f00-88ec-11f0-bc34-0242ac160003
2025-09-03 13:34:54,347 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:34:54,348 - services.external_task_worker - INFO - Executing task 4d8eaa54-88ec-11f0-bc34-0242ac160003 for topic rerank-context
2025-09-03 13:34:54,348 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920888.1797144}', 'retrieved_chunks': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920888.1797144}, "processing_timestamp": 1756920888.9651916}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:34:54,359 - services.external_task_worker - INFO - Successfully completed task 4d8eaa54-88ec-11f0-bc34-0242ac160003
2025-09-03 13:34:54,368 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:34:54,369 - services.external_task_worker - INFO - Executing task 4d91909b-88ec-11f0-bc34-0242ac160003 for topic fallback-search
2025-09-03 13:34:54,369 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920888.1797144}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920888.1797144}, "processing_timestamp": 1756920888.9651916}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:34:54,382 - services.external_task_worker - INFO - Successfully completed task 4d91909b-88ec-11f0-bc34-0242ac160003
2025-09-03 13:34:54,398 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:34:54,399 - services.external_task_worker - INFO - Executing task 4d951320-88ec-11f0-bc34-0242ac160003 for topic construct-prompt
2025-09-03 13:34:54,399 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920888.1797144}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920888.1797144}, "processing_timestamp": 1756920888.9651916}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:34:54,417 - services.external_task_worker - INFO - Successfully completed task 4d951320-88ec-11f0-bc34-0242ac160003
2025-09-03 13:34:54,429 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:34:54,430 - services.external_task_worker - INFO - Executing task 4d9a1c43-88ec-11f0-bc34-0242ac160003 for topic llm-generation
2025-09-03 13:34:54,430 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920888.1797144}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920888.1797144}, "processing_timestamp": 1756920888.9651916}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:34:54,445 - services.external_task_worker - INFO - Successfully completed task 4d9a1c43-88ec-11f0-bc34-0242ac160003
2025-09-03 13:34:54,456 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:34:54,456 - services.external_task_worker - INFO - Executing task 4d9eb034-88ec-11f0-bc34-0242ac160003 for topic process-response
2025-09-03 13:34:54,456 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920888.1797144}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920888.1797144}, "processing_timestamp": 1756920888.9651916}', 'llm_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:34:54,469 - services.external_task_worker - INFO - Successfully completed task 4d9eb034-88ec-11f0-bc34-0242ac160003
2025-09-03 13:34:54,480 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:34:54,480 - services.external_task_worker - INFO - Executing task 4da280da-88ec-11f0-bc34-0242ac160003 for topic log-interaction
2025-09-03 13:34:54,480 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920888.1797144}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.\n\nSources:\n[1] Navigation System Requirements\n', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756920888.1797144}, "processing_timestamp": 1756920888.9651916}', 'llm_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:34:54,500 - services.external_task_worker - INFO - Successfully completed task 4da280da-88ec-11f0-bc34-0242ac160003
2025-09-03 13:34:55,373 - __main__ - INFO - Received signal 15, shutting down worker...
2025-09-03 13:38:10,879 - services.external_task_worker - INFO - Starting external task worker: odras-worker-1756921090
2025-09-03 13:38:10,891 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:38:10,891 - services.external_task_worker - INFO - Executing task c2486964-88ec-11f0-bc34-0242ac160003 for topic process-user-query
2025-09-03 13:38:10,891 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921090.1427448}'}
2025-09-03 13:38:10,903 - services.external_task_worker - INFO - Successfully completed task c2486964-88ec-11f0-bc34-0242ac160003
2025-09-03 13:38:10,915 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:38:10,915 - services.external_task_worker - INFO - Executing task c2b7f32f-88ec-11f0-bc34-0242ac160003 for topic retrieve-context
2025-09-03 13:38:10,915 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921090.1427448}', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921090.1427448}, "processing_timestamp": 1756921090.8920193}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:38:10,928 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-03 13:38:10,997 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-03 13:38:11,002 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-03 13:38:11,003 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-03 13:38:11,021 - services.embedding_service - INFO - Embedding service initialized
2025-09-03 13:38:11,021 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-03 13:38:13,921 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cuda:0
2025-09-03 13:38:13,921 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-03 13:38:16,413 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-03 13:38:16,732 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-03 13:38:16,742 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-03 13:38:16,743 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.6
2025-09-03 13:38:16,744 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'What is the required position accuracy?...'
2025-09-03 13:38:16,763 - services.external_task_worker - INFO - Successfully completed task c2b7f32f-88ec-11f0-bc34-0242ac160003
2025-09-03 13:38:16,771 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:38:16,771 - services.external_task_worker - INFO - Executing task c6361d83-88ec-11f0-bc34-0242ac160003 for topic rerank-context
2025-09-03 13:38:16,771 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921090.1427448}', 'retrieved_chunks': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921090.1427448}, "processing_timestamp": 1756921090.8920193}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:38:16,783 - services.external_task_worker - INFO - Successfully completed task c6361d83-88ec-11f0-bc34-0242ac160003
2025-09-03 13:38:16,795 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:38:16,796 - services.external_task_worker - INFO - Executing task c63951ea-88ec-11f0-bc34-0242ac160003 for topic fallback-search
2025-09-03 13:38:16,796 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921090.1427448}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921090.1427448}, "processing_timestamp": 1756921090.8920193}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:38:16,809 - services.external_task_worker - INFO - Successfully completed task c63951ea-88ec-11f0-bc34-0242ac160003
2025-09-03 13:38:16,819 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:38:16,819 - services.external_task_worker - INFO - Executing task c63cd46f-88ec-11f0-bc34-0242ac160003 for topic construct-prompt
2025-09-03 13:38:16,819 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921090.1427448}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921090.1427448}, "processing_timestamp": 1756921090.8920193}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:38:16,832 - services.external_task_worker - INFO - Successfully completed task c63cd46f-88ec-11f0-bc34-0242ac160003
2025-09-03 13:38:16,841 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:38:16,842 - services.external_task_worker - INFO - Executing task c640a512-88ec-11f0-bc34-0242ac160003 for topic llm-generation
2025-09-03 13:38:16,842 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921090.1427448}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921090.1427448}, "processing_timestamp": 1756921090.8920193}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:38:16,852 - services.external_task_worker - INFO - Successfully completed task c640a512-88ec-11f0-bc34-0242ac160003
2025-09-03 13:38:16,863 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:38:16,863 - services.external_task_worker - INFO - Executing task c6440083-88ec-11f0-bc34-0242ac160003 for topic process-response
2025-09-03 13:38:16,863 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921090.1427448}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921090.1427448}, "processing_timestamp": 1756921090.8920193}', 'llm_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:38:16,872 - services.external_task_worker - INFO - Successfully completed task c6440083-88ec-11f0-bc34-0242ac160003
2025-09-03 13:38:16,881 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:38:16,881 - services.external_task_worker - INFO - Executing task c646e6c9-88ec-11f0-bc34-0242ac160003 for topic log-interaction
2025-09-03 13:38:16,881 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921090.1427448}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.\n\nSources:\n[1] Navigation System Requirements\n', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921090.1427448}, "processing_timestamp": 1756921090.8920193}', 'llm_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:38:16,897 - services.external_task_worker - INFO - Successfully completed task c646e6c9-88ec-11f0-bc34-0242ac160003
2025-09-03 13:38:30,290 - __main__ - INFO - Received signal 15, shutting down worker...
2025-09-03 13:39:26,289 - services.external_task_worker - INFO - Starting external task worker: odras-worker-1756921166
2025-09-03 13:39:26,318 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:39:26,318 - services.external_task_worker - INFO - Executing task ef71d7a3-88ec-11f0-bc34-0242ac160003 for topic process-user-query
2025-09-03 13:39:26,318 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921165.907779}'}
2025-09-03 13:39:26,351 - services.external_task_worker - INFO - Successfully completed task ef71d7a3-88ec-11f0-bc34-0242ac160003
2025-09-03 13:39:26,382 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:39:26,382 - services.external_task_worker - INFO - Executing task efaf2ede-88ec-11f0-bc34-0242ac160003 for topic retrieve-context
2025-09-03 13:39:26,382 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921165.907779}', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921165.907779}, "processing_timestamp": 1756921166.3189824}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:39:26,392 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-03 13:39:26,452 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-03 13:39:26,459 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-03 13:39:26,460 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-03 13:39:26,474 - services.embedding_service - INFO - Embedding service initialized
2025-09-03 13:39:26,474 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-03 13:39:29,242 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cuda:0
2025-09-03 13:39:29,243 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-03 13:39:31,354 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-03 13:39:31,651 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-03 13:39:31,662 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-03 13:39:31,663 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.6
2025-09-03 13:39:31,663 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'What is the required position accuracy?...'
2025-09-03 13:39:31,683 - services.external_task_worker - INFO - Successfully completed task efaf2ede-88ec-11f0-bc34-0242ac160003
2025-09-03 13:39:31,693 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:39:31,693 - services.external_task_worker - INFO - Executing task f2de00b2-88ec-11f0-bc34-0242ac160003 for topic rerank-context
2025-09-03 13:39:31,693 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921165.907779}', 'retrieved_chunks': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921165.907779}, "processing_timestamp": 1756921166.3189824}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:39:31,706 - services.external_task_worker - INFO - Successfully completed task f2de00b2-88ec-11f0-bc34-0242ac160003
2025-09-03 13:39:31,717 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:39:31,718 - services.external_task_worker - INFO - Executing task f2e15c29-88ec-11f0-bc34-0242ac160003 for topic fallback-search
2025-09-03 13:39:31,718 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921165.907779}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921165.907779}, "processing_timestamp": 1756921166.3189824}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:39:31,730 - services.external_task_worker - INFO - Successfully completed task f2e15c29-88ec-11f0-bc34-0242ac160003
2025-09-03 13:39:31,742 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:39:31,742 - services.external_task_worker - INFO - Executing task f2e52cce-88ec-11f0-bc34-0242ac160003 for topic construct-prompt
2025-09-03 13:39:31,743 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921165.907779}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921165.907779}, "processing_timestamp": 1756921166.3189824}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:39:31,755 - services.external_task_worker - INFO - Successfully completed task f2e52cce-88ec-11f0-bc34-0242ac160003
2025-09-03 13:39:31,764 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:39:31,765 - services.external_task_worker - INFO - Executing task f2e8fc71-88ec-11f0-bc34-0242ac160003 for topic llm-generation
2025-09-03 13:39:31,765 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921165.907779}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921165.907779}, "processing_timestamp": 1756921166.3189824}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:39:31,775 - services.external_task_worker - INFO - Successfully completed task f2e8fc71-88ec-11f0-bc34-0242ac160003
2025-09-03 13:39:31,783 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:39:31,784 - services.external_task_worker - INFO - Executing task f2ec30d2-88ec-11f0-bc34-0242ac160003 for topic process-response
2025-09-03 13:39:31,784 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921165.907779}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921165.907779}, "processing_timestamp": 1756921166.3189824}', 'llm_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:39:31,794 - services.external_task_worker - INFO - Successfully completed task f2ec30d2-88ec-11f0-bc34-0242ac160003
2025-09-03 13:39:31,802 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:39:31,803 - services.external_task_worker - INFO - Executing task f2eef008-88ec-11f0-bc34-0242ac160003 for topic log-interaction
2025-09-03 13:39:31,803 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921165.907779}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.\n\nSources:\n[1] Navigation System Requirements\n', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921165.907779}, "processing_timestamp": 1756921166.3189824}', 'llm_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:39:31,821 - services.external_task_worker - INFO - Successfully completed task f2eef008-88ec-11f0-bc34-0242ac160003
2025-09-03 13:39:45,992 - __main__ - INFO - Received signal 15, shutting down worker...
2025-09-03 13:40:45,572 - services.external_task_worker - INFO - Starting external task worker: odras-worker-1756921245
2025-09-03 13:40:45,704 - __main__ - INFO - Received signal 15, shutting down worker...
2025-09-03 13:40:51,446 - services.external_task_worker - INFO - Starting external task worker: odras-worker-1756921251
2025-09-03 13:40:51,454 - services.external_task_worker - INFO - Received 2 tasks
2025-09-03 13:40:51,454 - services.external_task_worker - INFO - Executing task 1f627c32-88ed-11f0-bc34-0242ac160003 for topic process-user-query
2025-09-03 13:40:51,454 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921246.3362563}'}
2025-09-03 13:40:51,464 - services.external_task_worker - INFO - Successfully completed task 1f627c32-88ed-11f0-bc34-0242ac160003
2025-09-03 13:40:51,464 - services.external_task_worker - INFO - Executing task 2202064c-88ed-11f0-bc34-0242ac160003 for topic process-user-query
2025-09-03 13:40:51,464 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921250.7387056}'}
2025-09-03 13:40:51,474 - services.external_task_worker - INFO - Successfully completed task 2202064c-88ed-11f0-bc34-0242ac160003
2025-09-03 13:40:51,484 - services.external_task_worker - INFO - Received 2 tasks
2025-09-03 13:40:51,484 - services.external_task_worker - INFO - Executing task 226b9da7-88ed-11f0-bc34-0242ac160003 for topic retrieve-context
2025-09-03 13:40:51,484 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921246.3362563}', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921246.3362563}, "processing_timestamp": 1756921251.4549668}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:40:51,497 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-03 13:40:51,566 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-03 13:40:51,572 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-03 13:40:51,573 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-03 13:40:51,591 - services.embedding_service - INFO - Embedding service initialized
2025-09-03 13:40:51,591 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-03 13:40:54,274 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cuda:0
2025-09-03 13:40:54,274 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-03 13:40:56,278 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-03 13:40:56,568 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-03 13:40:56,575 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-03 13:40:56,577 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.6
2025-09-03 13:40:56,577 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'What is the required position accuracy?...'
2025-09-03 13:40:56,596 - services.external_task_worker - INFO - Successfully completed task 226b9da7-88ed-11f0-bc34-0242ac160003
2025-09-03 13:40:56,596 - services.external_task_worker - INFO - Executing task 226d4b72-88ed-11f0-bc34-0242ac160003 for topic retrieve-context
2025-09-03 13:40:56,596 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921250.7387056}', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921250.7387056}, "processing_timestamp": 1756921251.4649065}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:40:56,599 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-03 13:40:56,645 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-03 13:40:56,649 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-03 13:40:56,649 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-03 13:40:56,664 - services.embedding_service - INFO - Embedding service initialized
2025-09-03 13:40:56,664 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-03 13:40:56,665 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cuda:0
2025-09-03 13:40:56,665 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-03 13:40:57,550 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-03 13:40:57,556 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-03 13:40:57,564 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-03 13:40:57,564 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.6
2025-09-03 13:40:57,564 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'What is the required position accuracy?...'
2025-09-03 13:40:57,581 - services.external_task_worker - INFO - Successfully completed task 226d4b72-88ed-11f0-bc34-0242ac160003
2025-09-03 13:40:57,592 - services.external_task_worker - INFO - Received 2 tasks
2025-09-03 13:40:57,592 - services.external_task_worker - INFO - Executing task 257a8b86-88ed-11f0-bc34-0242ac160003 for topic rerank-context
2025-09-03 13:40:57,592 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921246.3362563}', 'retrieved_chunks': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921246.3362563}, "processing_timestamp": 1756921251.4549668}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:40:57,605 - services.external_task_worker - INFO - Successfully completed task 257a8b86-88ed-11f0-bc34-0242ac160003
2025-09-03 13:40:57,605 - services.external_task_worker - INFO - Executing task 2610ff3a-88ed-11f0-bc34-0242ac160003 for topic rerank-context
2025-09-03 13:40:57,605 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921250.7387056}', 'retrieved_chunks': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921250.7387056}, "processing_timestamp": 1756921251.4649065}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:40:57,617 - services.external_task_worker - INFO - Successfully completed task 2610ff3a-88ed-11f0-bc34-0242ac160003
2025-09-03 13:40:57,630 - services.external_task_worker - INFO - Received 2 tasks
2025-09-03 13:40:57,630 - services.external_task_worker - INFO - Executing task 261481c1-88ed-11f0-bc34-0242ac160003 for topic fallback-search
2025-09-03 13:40:57,630 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921246.3362563}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921246.3362563}, "processing_timestamp": 1756921251.4549668}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:40:57,643 - services.external_task_worker - INFO - Successfully completed task 261481c1-88ed-11f0-bc34-0242ac160003
2025-09-03 13:40:57,643 - services.external_task_worker - INFO - Executing task 26167da8-88ed-11f0-bc34-0242ac160003 for topic fallback-search
2025-09-03 13:40:57,643 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921250.7387056}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921250.7387056}, "processing_timestamp": 1756921251.4649065}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:40:57,660 - services.external_task_worker - INFO - Successfully completed task 26167da8-88ed-11f0-bc34-0242ac160003
2025-09-03 13:40:57,676 - services.external_task_worker - INFO - Received 2 tasks
2025-09-03 13:40:57,677 - services.external_task_worker - INFO - Executing task 261a4e4d-88ed-11f0-bc34-0242ac160003 for topic construct-prompt
2025-09-03 13:40:57,677 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921246.3362563}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921246.3362563}, "processing_timestamp": 1756921251.4549668}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:40:57,696 - services.external_task_worker - INFO - Successfully completed task 261a4e4d-88ed-11f0-bc34-0242ac160003
2025-09-03 13:40:57,696 - services.external_task_worker - INFO - Executing task 261cbe62-88ed-11f0-bc34-0242ac160003 for topic construct-prompt
2025-09-03 13:40:57,696 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921250.7387056}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921250.7387056}, "processing_timestamp": 1756921251.4649065}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:40:57,713 - services.external_task_worker - INFO - Successfully completed task 261cbe62-88ed-11f0-bc34-0242ac160003
2025-09-03 13:40:57,730 - services.external_task_worker - INFO - Received 2 tasks
2025-09-03 13:40:57,731 - services.external_task_worker - INFO - Executing task 262215a5-88ed-11f0-bc34-0242ac160003 for topic llm-generation
2025-09-03 13:40:57,731 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921246.3362563}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921246.3362563}, "processing_timestamp": 1756921251.4549668}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:40:57,749 - services.external_task_worker - INFO - Successfully completed task 262215a5-88ed-11f0-bc34-0242ac160003
2025-09-03 13:40:57,750 - services.external_task_worker - INFO - Executing task 2624adc8-88ed-11f0-bc34-0242ac160003 for topic llm-generation
2025-09-03 13:40:57,750 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921250.7387056}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921250.7387056}, "processing_timestamp": 1756921251.4649065}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:40:57,766 - services.external_task_worker - INFO - Successfully completed task 2624adc8-88ed-11f0-bc34-0242ac160003
2025-09-03 13:40:57,783 - services.external_task_worker - INFO - Received 2 tasks
2025-09-03 13:40:57,783 - services.external_task_worker - INFO - Executing task 262a5329-88ed-11f0-bc34-0242ac160003 for topic process-response
2025-09-03 13:40:57,783 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921246.3362563}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921246.3362563}, "processing_timestamp": 1756921251.4549668}', 'llm_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:40:57,802 - services.external_task_worker - INFO - Successfully completed task 262a5329-88ed-11f0-bc34-0242ac160003
2025-09-03 13:40:57,802 - services.external_task_worker - INFO - Executing task 262d125a-88ed-11f0-bc34-0242ac160003 for topic process-response
2025-09-03 13:40:57,802 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921250.7387056}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921250.7387056}, "processing_timestamp": 1756921251.4649065}', 'llm_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:40:57,820 - services.external_task_worker - INFO - Successfully completed task 262d125a-88ed-11f0-bc34-0242ac160003
2025-09-03 13:40:57,837 - services.external_task_worker - INFO - Received 2 tasks
2025-09-03 13:40:57,838 - services.external_task_worker - INFO - Executing task 263269a0-88ed-11f0-bc34-0242ac160003 for topic log-interaction
2025-09-03 13:40:57,838 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921246.3362563}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.\n\nSources:\n[1] Navigation System Requirements\n', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921246.3362563}, "processing_timestamp": 1756921251.4549668}', 'llm_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:40:57,882 - services.external_task_worker - INFO - Successfully completed task 263269a0-88ed-11f0-bc34-0242ac160003
2025-09-03 13:40:57,882 - services.external_task_worker - INFO - Executing task 263528d6-88ed-11f0-bc34-0242ac160003 for topic log-interaction
2025-09-03 13:40:57,883 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921250.7387056}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.\n\nSources:\n[1] Navigation System Requirements\n', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921250.7387056}, "processing_timestamp": 1756921251.4649065}', 'llm_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:40:57,921 - services.external_task_worker - INFO - Successfully completed task 263528d6-88ed-11f0-bc34-0242ac160003
2025-09-03 13:40:58,900 - __main__ - INFO - Received signal 15, shutting down worker...
2025-09-03 13:41:16,229 - services.external_task_worker - INFO - Starting external task worker: odras-worker-1756921276
2025-09-03 13:41:16,240 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:41:16,240 - services.external_task_worker - INFO - Executing task 30702dc0-88ed-11f0-bc34-0242ac160003 for topic process-user-query
2025-09-03 13:41:16,240 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921274.9348338}'}
2025-09-03 13:41:16,251 - services.external_task_worker - INFO - Successfully completed task 30702dc0-88ed-11f0-bc34-0242ac160003
2025-09-03 13:41:16,260 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:41:16,260 - services.external_task_worker - INFO - Executing task 3131f73b-88ed-11f0-bc34-0242ac160003 for topic retrieve-context
2025-09-03 13:41:16,260 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921274.9348338}', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921274.9348338}, "processing_timestamp": 1756921276.2408845}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:41:16,270 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-03 13:41:16,337 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-03 13:41:16,342 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-03 13:41:16,343 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-03 13:41:16,358 - services.embedding_service - INFO - Embedding service initialized
2025-09-03 13:41:16,358 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-03 13:41:19,263 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cuda:0
2025-09-03 13:41:19,263 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-03 13:41:21,493 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-03 13:41:21,899 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-03 13:41:21,910 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-03 13:41:21,912 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.6
2025-09-03 13:41:21,912 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'What is the required position accuracy?...'
2025-09-03 13:41:21,938 - services.external_task_worker - INFO - Successfully completed task 3131f73b-88ed-11f0-bc34-0242ac160003
2025-09-03 13:41:21,948 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:41:21,949 - services.external_task_worker - INFO - Executing task 3494d15f-88ed-11f0-bc34-0242ac160003 for topic rerank-context
2025-09-03 13:41:21,949 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921274.9348338}', 'retrieved_chunks': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921274.9348338}, "processing_timestamp": 1756921276.2408845}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:41:21,959 - services.external_task_worker - INFO - Successfully completed task 3494d15f-88ed-11f0-bc34-0242ac160003
2025-09-03 13:41:21,969 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:41:21,970 - services.external_task_worker - INFO - Executing task 3498f026-88ed-11f0-bc34-0242ac160003 for topic fallback-search
2025-09-03 13:41:21,970 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921274.9348338}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921274.9348338}, "processing_timestamp": 1756921276.2408845}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:41:21,981 - services.external_task_worker - INFO - Successfully completed task 3498f026-88ed-11f0-bc34-0242ac160003
2025-09-03 13:41:21,990 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:41:21,990 - services.external_task_worker - INFO - Executing task 349c238b-88ed-11f0-bc34-0242ac160003 for topic construct-prompt
2025-09-03 13:41:21,990 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921274.9348338}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921274.9348338}, "processing_timestamp": 1756921276.2408845}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:41:22,002 - services.external_task_worker - INFO - Successfully completed task 349c238b-88ed-11f0-bc34-0242ac160003
2025-09-03 13:41:22,014 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:41:22,014 - services.external_task_worker - INFO - Executing task 349f57ee-88ed-11f0-bc34-0242ac160003 for topic llm-generation
2025-09-03 13:41:22,014 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921274.9348338}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921274.9348338}, "processing_timestamp": 1756921276.2408845}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:41:22,026 - services.external_task_worker - INFO - Successfully completed task 349f57ee-88ed-11f0-bc34-0242ac160003
2025-09-03 13:41:22,035 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:41:22,035 - services.external_task_worker - INFO - Executing task 34a3017f-88ed-11f0-bc34-0242ac160003 for topic process-response
2025-09-03 13:41:22,035 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921274.9348338}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921274.9348338}, "processing_timestamp": 1756921276.2408845}', 'llm_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:41:22,047 - services.external_task_worker - INFO - Successfully completed task 34a3017f-88ed-11f0-bc34-0242ac160003
2025-09-03 13:41:22,055 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:41:22,055 - services.external_task_worker - INFO - Executing task 34a635e5-88ed-11f0-bc34-0242ac160003 for topic log-interaction
2025-09-03 13:41:22,055 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921274.9348338}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.\n\nSources:\n[1] Navigation System Requirements\n', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921274.9348338}, "processing_timestamp": 1756921276.2408845}', 'llm_response': 'Based on the provided context, I can provide the following information:\n\nThe system processes user requests through a structured pipeline that includes validation, analysis, and response generation. The requirements specify that all inputs must be validated before processing to ensure system reliability and security.\n\nKey points from the context:\n- Input validation is mandatory for all user requests\n- The system follows established requirements for processing\n- Quality assurance processes ensure reliable operation\n\nThis response is generated based on the available context chunks retrieved from the knowledge base.', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:41:22,072 - services.external_task_worker - INFO - Successfully completed task 34a635e5-88ed-11f0-bc34-0242ac160003
2025-09-03 13:41:23,108 - __main__ - INFO - Received signal 15, shutting down worker...
2025-09-03 13:46:14,433 - services.external_task_worker - INFO - Starting external task worker: odras-worker-1756921574
2025-09-03 13:46:14,444 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:46:14,445 - services.external_task_worker - INFO - Executing task e27af17f-88ed-11f0-bc34-0242ac160003 for topic process-user-query
2025-09-03 13:46:14,445 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921573.6534402}'}
2025-09-03 13:46:14,455 - services.external_task_worker - INFO - Successfully completed task e27af17f-88ed-11f0-bc34-0242ac160003
2025-09-03 13:46:14,465 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:46:14,465 - services.external_task_worker - INFO - Executing task e2f0219a-88ed-11f0-bc34-0242ac160003 for topic retrieve-context
2025-09-03 13:46:14,465 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921573.6534402}', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921573.6534402}, "processing_timestamp": 1756921574.4456499}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:46:14,476 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-03 13:46:14,538 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-03 13:46:14,543 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-03 13:46:14,544 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-03 13:46:14,559 - services.embedding_service - INFO - Embedding service initialized
2025-09-03 13:46:14,560 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-03 13:46:16,444 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cuda:0
2025-09-03 13:46:16,444 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-03 13:46:18,662 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-03 13:46:18,989 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-03 13:46:19,006 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-03 13:46:19,007 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.6
2025-09-03 13:46:19,008 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'What is the required position accuracy?...'
2025-09-03 13:46:19,028 - services.external_task_worker - INFO - Successfully completed task e2f0219a-88ed-11f0-bc34-0242ac160003
2025-09-03 13:46:19,044 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:46:19,044 - services.external_task_worker - INFO - Executing task e5a9ea7e-88ed-11f0-bc34-0242ac160003 for topic rerank-context
2025-09-03 13:46:19,044 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921573.6534402}', 'retrieved_chunks': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921573.6534402}, "processing_timestamp": 1756921574.4456499}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:46:19,054 - services.external_task_worker - INFO - Successfully completed task e5a9ea7e-88ed-11f0-bc34-0242ac160003
2025-09-03 13:46:19,065 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:46:19,065 - services.external_task_worker - INFO - Executing task e5ae0945-88ed-11f0-bc34-0242ac160003 for topic fallback-search
2025-09-03 13:46:19,065 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921573.6534402}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921573.6534402}, "processing_timestamp": 1756921574.4456499}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:46:19,077 - services.external_task_worker - INFO - Successfully completed task e5ae0945-88ed-11f0-bc34-0242ac160003
2025-09-03 13:46:19,086 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:46:19,087 - services.external_task_worker - INFO - Executing task e5b164ba-88ed-11f0-bc34-0242ac160003 for topic construct-prompt
2025-09-03 13:46:19,087 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921573.6534402}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921573.6534402}, "processing_timestamp": 1756921574.4456499}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:46:19,098 - services.external_task_worker - INFO - Successfully completed task e5b164ba-88ed-11f0-bc34-0242ac160003
2025-09-03 13:46:19,108 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:46:19,108 - services.external_task_worker - INFO - Executing task e5b4c02d-88ed-11f0-bc34-0242ac160003 for topic llm-generation
2025-09-03 13:46:19,109 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921573.6534402}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921573.6534402}, "processing_timestamp": 1756921574.4456499}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:46:19,119 - services.external_task_worker - INFO - Successfully completed task e5b4c02d-88ed-11f0-bc34-0242ac160003
2025-09-03 13:46:19,129 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:46:19,129 - services.external_task_worker - INFO - Executing task e5b7cd7e-88ed-11f0-bc34-0242ac160003 for topic process-response
2025-09-03 13:46:19,129 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921573.6534402}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921573.6534402}, "processing_timestamp": 1756921574.4456499}', 'llm_response': 'Based on the navigation system requirements provided in the context:\n\nThe required position accuracy is 3 meters CEP (Circular Error Probable).\n\nAdditional accuracy specifications from the context:\n- Heading accuracy: ±2 degrees  \n- Speed accuracy: ±0.1 m/s\n\nThis information is sourced from the Navigation System Requirements documentation.', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:46:19,139 - services.external_task_worker - INFO - Successfully completed task e5b7cd7e-88ed-11f0-bc34-0242ac160003
2025-09-03 13:46:19,149 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 13:46:19,149 - services.external_task_worker - INFO - Executing task e5badad4-88ed-11f0-bc34-0242ac160003 for topic log-interaction
2025-09-03 13:46:19,149 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921573.6534402}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the navigation system requirements provided in the context:\n\nThe required position accuracy is 3 meters CEP (Circular Error Probable).\n\nAdditional accuracy specifications from the context:\n- Heading accuracy: ±2 degrees  \n- Speed accuracy: ±0.1 m/s\n\nThis information is sourced from the Navigation System Requirements documentation.\n\nSources:\n[1] Navigation System Requirements\n', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756921573.6534402}, "processing_timestamp": 1756921574.4456499}', 'llm_response': 'Based on the navigation system requirements provided in the context:\n\nThe required position accuracy is 3 meters CEP (Circular Error Probable).\n\nAdditional accuracy specifications from the context:\n- Heading accuracy: ±2 degrees  \n- Speed accuracy: ±0.1 m/s\n\nThis information is sourced from the Navigation System Requirements documentation.', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 13:46:19,168 - services.external_task_worker - INFO - Successfully completed task e5badad4-88ed-11f0-bc34-0242ac160003
2025-09-03 13:46:19,833 - __main__ - INFO - Received signal 15, shutting down worker...
2025-09-03 14:03:51,292 - services.external_task_worker - INFO - Starting external task worker: odras-worker-1756922631
2025-09-03 14:03:51,300 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:03:51,300 - services.external_task_worker - INFO - Executing task 58925926-88f0-11f0-bc34-0242ac160003 for topic process-user-query
2025-09-03 14:03:51,300 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756922630.7783544}'}
2025-09-03 14:03:51,308 - services.external_task_worker - INFO - Successfully completed task 58925926-88f0-11f0-bc34-0242ac160003
2025-09-03 14:03:51,313 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:03:51,313 - services.external_task_worker - INFO - Executing task 58df67d1-88f0-11f0-bc34-0242ac160003 for topic retrieve-context
2025-09-03 14:03:51,313 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756922630.7783544}', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756922630.7783544}, "processing_timestamp": 1756922631.300992}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:03:51,323 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-03 14:03:51,382 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-03 14:03:51,389 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-03 14:03:51,390 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-03 14:03:51,439 - services.embedding_service - INFO - Embedding service initialized
2025-09-03 14:03:51,439 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-03 14:03:53,661 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cuda:0
2025-09-03 14:03:53,662 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-03 14:03:55,930 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-03 14:03:56,262 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-03 14:03:56,272 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-03 14:03:56,273 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.6
2025-09-03 14:03:56,273 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'What is the required position accuracy?...'
2025-09-03 14:03:56,289 - services.external_task_worker - INFO - Successfully completed task 58df67d1-88f0-11f0-bc34-0242ac160003
2025-09-03 14:03:56,295 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:03:56,296 - services.external_task_worker - INFO - Executing task 5bd74b25-88f0-11f0-bc34-0242ac160003 for topic rerank-context
2025-09-03 14:03:56,296 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756922630.7783544}', 'retrieved_chunks': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756922630.7783544}, "processing_timestamp": 1756922631.300992}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:03:56,303 - services.external_task_worker - INFO - Successfully completed task 5bd74b25-88f0-11f0-bc34-0242ac160003
2025-09-03 14:03:56,311 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:03:56,311 - services.external_task_worker - INFO - Executing task 5bd9952c-88f0-11f0-bc34-0242ac160003 for topic fallback-search
2025-09-03 14:03:56,312 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756922630.7783544}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756922630.7783544}, "processing_timestamp": 1756922631.300992}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:03:56,321 - services.external_task_worker - INFO - Successfully completed task 5bd9952c-88f0-11f0-bc34-0242ac160003
2025-09-03 14:03:56,330 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:03:56,330 - services.external_task_worker - INFO - Executing task 5bdc2d51-88f0-11f0-bc34-0242ac160003 for topic construct-prompt
2025-09-03 14:03:56,330 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756922630.7783544}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756922630.7783544}, "processing_timestamp": 1756922631.300992}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:03:56,343 - services.external_task_worker - INFO - Successfully completed task 5bdc2d51-88f0-11f0-bc34-0242ac160003
2025-09-03 14:03:56,353 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:03:56,353 - services.external_task_worker - INFO - Executing task 5bdf3aa4-88f0-11f0-bc34-0242ac160003 for topic llm-generation
2025-09-03 14:03:56,353 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756922630.7783544}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756922630.7783544}, "processing_timestamp": 1756922631.300992}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:03:56,363 - services.external_task_worker - INFO - Successfully completed task 5bdf3aa4-88f0-11f0-bc34-0242ac160003
2025-09-03 14:03:56,373 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:03:56,373 - services.external_task_worker - INFO - Executing task 5be29615-88f0-11f0-bc34-0242ac160003 for topic process-response
2025-09-03 14:03:56,373 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756922630.7783544}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756922630.7783544}, "processing_timestamp": 1756922631.300992}', 'llm_response': 'Based on the navigation system requirements provided in the context:\n\nThe required position accuracy is 3 meters CEP (Circular Error Probable).\n\nAdditional accuracy specifications from the context:\n- Heading accuracy: ±2 degrees  \n- Speed accuracy: ±0.1 m/s\n\nThis information is sourced from the Navigation System Requirements documentation.', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:03:56,384 - services.external_task_worker - INFO - Successfully completed task 5be29615-88f0-11f0-bc34-0242ac160003
2025-09-03 14:03:56,393 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:03:56,394 - services.external_task_worker - INFO - Executing task 5be5a36b-88f0-11f0-bc34-0242ac160003 for topic log-interaction
2025-09-03 14:03:56,394 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756922630.7783544}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the navigation system requirements provided in the context:\n\nThe required position accuracy is 3 meters CEP (Circular Error Probable).\n\nAdditional accuracy specifications from the context:\n- Heading accuracy: ±2 degrees  \n- Speed accuracy: ±0.1 m/s\n\nThis information is sourced from the Navigation System Requirements documentation.\n\nSources:\n[1] Navigation System Requirements\n', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756922630.7783544}, "processing_timestamp": 1756922631.300992}', 'llm_response': 'Based on the navigation system requirements provided in the context:\n\nThe required position accuracy is 3 meters CEP (Circular Error Probable).\n\nAdditional accuracy specifications from the context:\n- Heading accuracy: ±2 degrees  \n- Speed accuracy: ±0.1 m/s\n\nThis information is sourced from the Navigation System Requirements documentation.', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:03:56,411 - services.external_task_worker - INFO - Successfully completed task 5be5a36b-88f0-11f0-bc34-0242ac160003
2025-09-03 14:03:56,893 - __main__ - INFO - Received signal 15, shutting down worker...
2025-09-03 14:12:33,658 - services.external_task_worker - INFO - Starting external task worker: odras-worker-1756923153
2025-09-03 14:12:33,668 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:12:33,668 - services.external_task_worker - INFO - Executing task 8ff81035-88f1-11f0-bc34-0242ac160003 for topic process-user-query
2025-09-03 14:12:33,669 - services.external_task_worker - INFO - Task variables: {'user_query': 'What frequency does the Communication Interfaces operate at?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923153.2125268}'}
2025-09-03 14:12:33,678 - services.external_task_worker - INFO - Successfully completed task 8ff81035-88f1-11f0-bc34-0242ac160003
2025-09-03 14:12:33,685 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:12:33,685 - services.external_task_worker - INFO - Executing task 903a9790-88f1-11f0-bc34-0242ac160003 for topic retrieve-context
2025-09-03 14:12:33,685 - services.external_task_worker - INFO - Task variables: {'user_query': 'What frequency does the Communication Interfaces operate at?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923153.2125268}', 'processed_query': '{"original_query": "What frequency does the Communication Interfaces operate at?", "cleaned_query": "What frequency does the Communication Interfaces operate at?", "key_terms": ["what", "frequency", "communication", "interfaces", "operate"], "question_intent": ["what"], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 60, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923153.2125268}, "processing_timestamp": 1756923153.6693544}', 'search_parameters': '{"primary_terms": ["what", "frequency", "communication", "interfaces", "operate"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:12:33,697 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-03 14:12:33,773 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-03 14:12:33,781 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-03 14:12:33,782 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-03 14:12:33,799 - services.embedding_service - INFO - Embedding service initialized
2025-09-03 14:12:33,799 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-03 14:12:36,581 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cuda:0
2025-09-03 14:12:36,582 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-03 14:12:38,684 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-03 14:12:38,994 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-03 14:12:39,003 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-03 14:12:39,004 - services.qdrant_service - INFO - Found 0 results in collection 'knowledge_chunks' with threshold 0.6
2025-09-03 14:12:39,004 - services.qdrant_service - INFO - Found 0 similar chunks for query: 'What frequency does the Communication Interfaces o...'
2025-09-03 14:12:39,014 - services.external_task_worker - INFO - Successfully completed task 903a9790-88f1-11f0-bc34-0242ac160003
2025-09-03 14:12:39,021 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:12:39,021 - services.external_task_worker - INFO - Executing task 9368cd24-88f1-11f0-bc34-0242ac160003 for topic rerank-context
2025-09-03 14:12:39,021 - services.external_task_worker - INFO - Task variables: {'user_query': 'What frequency does the Communication Interfaces operate at?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923153.2125268}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "What frequency does the Communication Interfaces operate at?", "cleaned_query": "What frequency does the Communication Interfaces operate at?", "key_terms": ["what", "frequency", "communication", "interfaces", "operate"], "question_intent": ["what"], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 60, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923153.2125268}, "processing_timestamp": 1756923153.6693544}', 'search_parameters': '{"primary_terms": ["what", "frequency", "communication", "interfaces", "operate"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:12:39,030 - services.external_task_worker - INFO - Successfully completed task 9368cd24-88f1-11f0-bc34-0242ac160003
2025-09-03 14:12:39,036 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:12:39,036 - services.external_task_worker - INFO - Executing task 936b3d3b-88f1-11f0-bc34-0242ac160003 for topic fallback-search
2025-09-03 14:12:39,036 - services.external_task_worker - INFO - Task variables: {'user_query': 'What frequency does the Communication Interfaces operate at?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923153.2125268}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "What frequency does the Communication Interfaces operate at?", "cleaned_query": "What frequency does the Communication Interfaces operate at?", "key_terms": ["what", "frequency", "communication", "interfaces", "operate"], "question_intent": ["what"], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 60, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923153.2125268}, "processing_timestamp": 1756923153.6693544}', 'search_parameters': '{"primary_terms": ["what", "frequency", "communication", "interfaces", "operate"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:12:39,044 - services.external_task_worker - INFO - Successfully completed task 936b3d3b-88f1-11f0-bc34-0242ac160003
2025-09-03 14:12:39,050 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:12:39,050 - services.external_task_worker - INFO - Executing task 936d8740-88f1-11f0-bc34-0242ac160003 for topic construct-prompt
2025-09-03 14:12:39,050 - services.external_task_worker - INFO - Task variables: {'user_query': 'What frequency does the Communication Interfaces operate at?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923153.2125268}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What frequency does the Communication Interfaces operate at?", "cleaned_query": "What frequency does the Communication Interfaces operate at?", "key_terms": ["what", "frequency", "communication", "interfaces", "operate"], "question_intent": ["what"], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 60, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923153.2125268}, "processing_timestamp": 1756923153.6693544}', 'search_parameters': '{"primary_terms": ["what", "frequency", "communication", "interfaces", "operate"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:12:39,057 - services.external_task_worker - INFO - Successfully completed task 936d8740-88f1-11f0-bc34-0242ac160003
2025-09-03 14:12:39,063 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:12:39,063 - services.external_task_worker - INFO - Executing task 936f8323-88f1-11f0-bc34-0242ac160003 for topic llm-generation
2025-09-03 14:12:39,064 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: What frequency does the Communication Interfaces operate at?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What frequency does the Communication Interfaces operate at?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923153.2125268}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What frequency does the Communication Interfaces operate at?", "cleaned_query": "What frequency does the Communication Interfaces operate at?", "key_terms": ["what", "frequency", "communication", "interfaces", "operate"], "question_intent": ["what"], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 60, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923153.2125268}, "processing_timestamp": 1756923153.6693544}', 'search_parameters': '{"primary_terms": ["what", "frequency", "communication", "interfaces", "operate"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:12:39,070 - services.external_task_worker - INFO - Successfully completed task 936f8323-88f1-11f0-bc34-0242ac160003
2025-09-03 14:12:39,076 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:12:39,076 - services.external_task_worker - INFO - Executing task 93717f04-88f1-11f0-bc34-0242ac160003 for topic process-response
2025-09-03 14:12:39,076 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: What frequency does the Communication Interfaces operate at?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What frequency does the Communication Interfaces operate at?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923153.2125268}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What frequency does the Communication Interfaces operate at?", "cleaned_query": "What frequency does the Communication Interfaces operate at?", "key_terms": ["what", "frequency", "communication", "interfaces", "operate"], "question_intent": ["what"], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 60, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923153.2125268}, "processing_timestamp": 1756923153.6693544}', 'llm_response': "I don't have enough specific information in the provided context to answer your question accurately. Please try rephrasing your question or ensure the relevant documentation is available in the knowledge base.", 'search_parameters': '{"primary_terms": ["what", "frequency", "communication", "interfaces", "operate"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:12:39,083 - services.external_task_worker - INFO - Successfully completed task 93717f04-88f1-11f0-bc34-0242ac160003
2025-09-03 14:12:39,094 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:12:39,095 - services.external_task_worker - INFO - Executing task 93737aea-88f1-11f0-bc34-0242ac160003 for topic log-interaction
2025-09-03 14:12:39,095 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: What frequency does the Communication Interfaces operate at?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What frequency does the Communication Interfaces operate at?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923153.2125268}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I don't have enough specific information in the provided context to answer your question accurately. Please try rephrasing your question or ensure the relevant documentation is available in the knowledge base.", 'processed_query': '{"original_query": "What frequency does the Communication Interfaces operate at?", "cleaned_query": "What frequency does the Communication Interfaces operate at?", "key_terms": ["what", "frequency", "communication", "interfaces", "operate"], "question_intent": ["what"], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 60, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923153.2125268}, "processing_timestamp": 1756923153.6693544}', 'llm_response': "I don't have enough specific information in the provided context to answer your question accurately. Please try rephrasing your question or ensure the relevant documentation is available in the knowledge base.", 'search_parameters': '{"primary_terms": ["what", "frequency", "communication", "interfaces", "operate"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:12:39,113 - services.external_task_worker - INFO - Successfully completed task 93737aea-88f1-11f0-bc34-0242ac160003
2025-09-03 14:12:39,353 - __main__ - INFO - Received signal 15, shutting down worker...
2025-09-03 14:13:08,884 - services.external_task_worker - INFO - Starting external task worker: odras-worker-1756923188
2025-09-03 14:13:08,903 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:13:08,903 - services.external_task_worker - INFO - Executing task a506afe4-88f1-11f0-bc34-0242ac160003 for topic process-user-query
2025-09-03 14:13:08,903 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923188.540046}'}
2025-09-03 14:13:08,914 - services.external_task_worker - INFO - Successfully completed task a506afe4-88f1-11f0-bc34-0242ac160003
2025-09-03 14:13:08,921 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:13:08,922 - services.external_task_worker - INFO - Executing task a53b2d7f-88f1-11f0-bc34-0242ac160003 for topic retrieve-context
2025-09-03 14:13:08,922 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923188.540046}', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923188.540046}, "processing_timestamp": 1756923188.9035883}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:13:08,933 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-03 14:13:09,002 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-03 14:13:09,008 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-03 14:13:09,009 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-03 14:13:09,026 - services.embedding_service - INFO - Embedding service initialized
2025-09-03 14:13:09,026 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-03 14:13:11,903 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cuda:0
2025-09-03 14:13:11,903 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-03 14:13:13,899 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-03 14:13:14,193 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-03 14:13:14,206 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-03 14:13:14,207 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.6
2025-09-03 14:13:14,207 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'What is the required position accuracy?...'
2025-09-03 14:13:14,234 - services.external_task_worker - INFO - Successfully completed task a53b2d7f-88f1-11f0-bc34-0242ac160003
2025-09-03 14:13:14,245 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:13:14,245 - services.external_task_worker - INFO - Executing task a866a3f3-88f1-11f0-bc34-0242ac160003 for topic rerank-context
2025-09-03 14:13:14,245 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923188.540046}', 'retrieved_chunks': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923188.540046}, "processing_timestamp": 1756923188.9035883}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:13:14,255 - services.external_task_worker - INFO - Successfully completed task a866a3f3-88f1-11f0-bc34-0242ac160003
2025-09-03 14:13:14,263 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:13:14,264 - services.external_task_worker - INFO - Executing task a869ff6a-88f1-11f0-bc34-0242ac160003 for topic fallback-search
2025-09-03 14:13:14,264 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923188.540046}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923188.540046}, "processing_timestamp": 1756923188.9035883}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:13:14,273 - services.external_task_worker - INFO - Successfully completed task a869ff6a-88f1-11f0-bc34-0242ac160003
2025-09-03 14:13:14,281 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:13:14,281 - services.external_task_worker - INFO - Executing task a86ce5af-88f1-11f0-bc34-0242ac160003 for topic construct-prompt
2025-09-03 14:13:14,281 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923188.540046}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923188.540046}, "processing_timestamp": 1756923188.9035883}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:13:14,292 - services.external_task_worker - INFO - Successfully completed task a86ce5af-88f1-11f0-bc34-0242ac160003
2025-09-03 14:13:14,301 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:13:14,301 - services.external_task_worker - INFO - Executing task a86fa4e2-88f1-11f0-bc34-0242ac160003 for topic llm-generation
2025-09-03 14:13:14,301 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923188.540046}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923188.540046}, "processing_timestamp": 1756923188.9035883}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:13:14,310 - services.external_task_worker - INFO - Successfully completed task a86fa4e2-88f1-11f0-bc34-0242ac160003
2025-09-03 14:13:14,320 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:13:14,320 - services.external_task_worker - INFO - Executing task a8728a23-88f1-11f0-bc34-0242ac160003 for topic process-response
2025-09-03 14:13:14,320 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923188.540046}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923188.540046}, "processing_timestamp": 1756923188.9035883}', 'llm_response': 'Based on the navigation system requirements provided in the context:\n\nThe required position accuracy is 3 meters CEP (Circular Error Probable).\n\nAdditional accuracy specifications from the context:\n- Heading accuracy: ±2 degrees  \n- Speed accuracy: ±0.1 m/s\n\nThis information is sourced from the Navigation System Requirements documentation.', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:13:14,330 - services.external_task_worker - INFO - Successfully completed task a8728a23-88f1-11f0-bc34-0242ac160003
2025-09-03 14:13:14,339 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:13:14,339 - services.external_task_worker - INFO - Executing task a8757069-88f1-11f0-bc34-0242ac160003 for topic log-interaction
2025-09-03 14:13:14,339 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923188.540046}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the navigation system requirements provided in the context:\n\nThe required position accuracy is 3 meters CEP (Circular Error Probable).\n\nAdditional accuracy specifications from the context:\n- Heading accuracy: ±2 degrees  \n- Speed accuracy: ±0.1 m/s\n\nThis information is sourced from the Navigation System Requirements documentation.\n\nSources:\n[1] Navigation System Requirements\n', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923188.540046}, "processing_timestamp": 1756923188.9035883}', 'llm_response': 'Based on the navigation system requirements provided in the context:\n\nThe required position accuracy is 3 meters CEP (Circular Error Probable).\n\nAdditional accuracy specifications from the context:\n- Heading accuracy: ±2 degrees  \n- Speed accuracy: ±0.1 m/s\n\nThis information is sourced from the Navigation System Requirements documentation.', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:13:14,359 - services.external_task_worker - INFO - Successfully completed task a8757069-88f1-11f0-bc34-0242ac160003
2025-09-03 14:13:14,656 - __main__ - INFO - Received signal 15, shutting down worker...
2025-09-03 14:13:35,568 - services.external_task_worker - INFO - Starting external task worker: odras-worker-1756923215
2025-09-03 14:13:35,576 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:13:35,576 - services.external_task_worker - INFO - Executing task b4e44533-88f1-11f0-bc34-0242ac160003 for topic process-user-query
2025-09-03 14:13:35,576 - services.external_task_worker - INFO - Task variables: {'user_query': 'For Hardware Components what is our memory requirements', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923215.1605694}'}
2025-09-03 14:13:35,582 - services.external_task_worker - INFO - Successfully completed task b4e44533-88f1-11f0-bc34-0242ac160003
2025-09-03 14:13:35,588 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:13:35,588 - services.external_task_worker - INFO - Executing task b5208afe-88f1-11f0-bc34-0242ac160003 for topic retrieve-context
2025-09-03 14:13:35,588 - services.external_task_worker - INFO - Task variables: {'user_query': 'For Hardware Components what is our memory requirements', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923215.1605694}', 'processed_query': '{"original_query": "For Hardware Components what is our memory requirements", "cleaned_query": "For Hardware Components what is our memory requirements", "key_terms": ["hardware", "components", "what", "our", "memory", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements"], "word_count": 8, "char_count": 55, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923215.1605694}, "processing_timestamp": 1756923215.5765445}', 'search_parameters': '{"primary_terms": ["hardware", "components", "what", "our", "memory"], "secondary_terms": ["requirements"], "search_boost_terms": ["requirements"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:13:35,598 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-03 14:13:35,661 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-03 14:13:35,666 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-03 14:13:35,667 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-03 14:13:35,684 - services.embedding_service - INFO - Embedding service initialized
2025-09-03 14:13:35,685 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-03 14:13:38,085 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cuda:0
2025-09-03 14:13:38,085 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-03 14:13:39,946 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-03 14:13:40,261 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-03 14:13:40,270 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-03 14:13:40,271 - services.qdrant_service - INFO - Found 0 results in collection 'knowledge_chunks' with threshold 0.6
2025-09-03 14:13:40,272 - services.qdrant_service - INFO - Found 0 similar chunks for query: 'For Hardware Components what is our memory require...'
2025-09-03 14:13:40,281 - services.external_task_worker - INFO - Successfully completed task b5208afe-88f1-11f0-bc34-0242ac160003
2025-09-03 14:13:40,287 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:13:40,287 - services.external_task_worker - INFO - Executing task b7ed8dc2-88f1-11f0-bc34-0242ac160003 for topic rerank-context
2025-09-03 14:13:40,287 - services.external_task_worker - INFO - Task variables: {'user_query': 'For Hardware Components what is our memory requirements', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923215.1605694}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "For Hardware Components what is our memory requirements", "cleaned_query": "For Hardware Components what is our memory requirements", "key_terms": ["hardware", "components", "what", "our", "memory", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements"], "word_count": 8, "char_count": 55, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923215.1605694}, "processing_timestamp": 1756923215.5765445}', 'search_parameters': '{"primary_terms": ["hardware", "components", "what", "our", "memory"], "secondary_terms": ["requirements"], "search_boost_terms": ["requirements"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:13:40,294 - services.external_task_worker - INFO - Successfully completed task b7ed8dc2-88f1-11f0-bc34-0242ac160003
2025-09-03 14:13:40,300 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:13:40,301 - services.external_task_worker - INFO - Executing task b7efb0b9-88f1-11f0-bc34-0242ac160003 for topic fallback-search
2025-09-03 14:13:40,301 - services.external_task_worker - INFO - Task variables: {'user_query': 'For Hardware Components what is our memory requirements', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923215.1605694}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "For Hardware Components what is our memory requirements", "cleaned_query": "For Hardware Components what is our memory requirements", "key_terms": ["hardware", "components", "what", "our", "memory", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements"], "word_count": 8, "char_count": 55, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923215.1605694}, "processing_timestamp": 1756923215.5765445}', 'search_parameters': '{"primary_terms": ["hardware", "components", "what", "our", "memory"], "secondary_terms": ["requirements"], "search_boost_terms": ["requirements"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:13:40,307 - services.external_task_worker - INFO - Successfully completed task b7efb0b9-88f1-11f0-bc34-0242ac160003
2025-09-03 14:13:40,313 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:13:40,313 - services.external_task_worker - INFO - Executing task b7f1ac9e-88f1-11f0-bc34-0242ac160003 for topic construct-prompt
2025-09-03 14:13:40,313 - services.external_task_worker - INFO - Task variables: {'user_query': 'For Hardware Components what is our memory requirements', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923215.1605694}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "For Hardware Components what is our memory requirements", "cleaned_query": "For Hardware Components what is our memory requirements", "key_terms": ["hardware", "components", "what", "our", "memory", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements"], "word_count": 8, "char_count": 55, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923215.1605694}, "processing_timestamp": 1756923215.5765445}', 'search_parameters': '{"primary_terms": ["hardware", "components", "what", "our", "memory"], "secondary_terms": ["requirements"], "search_boost_terms": ["requirements"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:13:40,320 - services.external_task_worker - INFO - Successfully completed task b7f1ac9e-88f1-11f0-bc34-0242ac160003
2025-09-03 14:13:40,325 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:13:40,325 - services.external_task_worker - INFO - Executing task b7f38171-88f1-11f0-bc34-0242ac160003 for topic llm-generation
2025-09-03 14:13:40,325 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: For Hardware Components what is our memory requirements\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'For Hardware Components what is our memory requirements', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923215.1605694}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "For Hardware Components what is our memory requirements", "cleaned_query": "For Hardware Components what is our memory requirements", "key_terms": ["hardware", "components", "what", "our", "memory", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements"], "word_count": 8, "char_count": 55, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923215.1605694}, "processing_timestamp": 1756923215.5765445}', 'search_parameters': '{"primary_terms": ["hardware", "components", "what", "our", "memory"], "secondary_terms": ["requirements"], "search_boost_terms": ["requirements"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:13:40,330 - services.external_task_worker - INFO - Successfully completed task b7f38171-88f1-11f0-bc34-0242ac160003
2025-09-03 14:13:40,336 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:13:40,336 - services.external_task_worker - INFO - Executing task b7f52f32-88f1-11f0-bc34-0242ac160003 for topic process-response
2025-09-03 14:13:40,336 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: For Hardware Components what is our memory requirements\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'For Hardware Components what is our memory requirements', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923215.1605694}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "For Hardware Components what is our memory requirements", "cleaned_query": "For Hardware Components what is our memory requirements", "key_terms": ["hardware", "components", "what", "our", "memory", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements"], "word_count": 8, "char_count": 55, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923215.1605694}, "processing_timestamp": 1756923215.5765445}', 'llm_response': "I don't have enough specific information in the provided context to answer your question accurately. Please try rephrasing your question or ensure the relevant documentation is available in the knowledge base.", 'search_parameters': '{"primary_terms": ["hardware", "components", "what", "our", "memory"], "secondary_terms": ["requirements"], "search_boost_terms": ["requirements"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:13:40,342 - services.external_task_worker - INFO - Successfully completed task b7f52f32-88f1-11f0-bc34-0242ac160003
2025-09-03 14:13:40,348 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:13:40,348 - services.external_task_worker - INFO - Executing task b7f70408-88f1-11f0-bc34-0242ac160003 for topic log-interaction
2025-09-03 14:13:40,348 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: For Hardware Components what is our memory requirements\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'For Hardware Components what is our memory requirements', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923215.1605694}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I don't have enough specific information in the provided context to answer your question accurately. Please try rephrasing your question or ensure the relevant documentation is available in the knowledge base.", 'processed_query': '{"original_query": "For Hardware Components what is our memory requirements", "cleaned_query": "For Hardware Components what is our memory requirements", "key_terms": ["hardware", "components", "what", "our", "memory", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements"], "word_count": 8, "char_count": 55, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923215.1605694}, "processing_timestamp": 1756923215.5765445}', 'llm_response': "I don't have enough specific information in the provided context to answer your question accurately. Please try rephrasing your question or ensure the relevant documentation is available in the knowledge base.", 'search_parameters': '{"primary_terms": ["hardware", "components", "what", "our", "memory"], "secondary_terms": ["requirements"], "search_boost_terms": ["requirements"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:13:40,359 - services.external_task_worker - INFO - Successfully completed task b7f70408-88f1-11f0-bc34-0242ac160003
2025-09-03 14:13:41,273 - __main__ - INFO - Received signal 15, shutting down worker...
2025-09-03 14:15:13,783 - services.external_task_worker - INFO - Starting external task worker: odras-worker-1756923313
2025-09-03 14:15:13,793 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:15:13,793 - services.external_task_worker - INFO - Executing task ef2fd392-88f1-11f0-bc34-0242ac160003 for topic process-user-query
2025-09-03 14:15:13,793 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923312.960018}'}
2025-09-03 14:15:13,800 - services.external_task_worker - INFO - Successfully completed task ef2fd392-88f1-11f0-bc34-0242ac160003
2025-09-03 14:15:13,808 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:15:13,808 - services.external_task_worker - INFO - Executing task efab6c4d-88f1-11f0-bc34-0242ac160003 for topic retrieve-context
2025-09-03 14:15:13,808 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923312.960018}', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923312.960018}, "processing_timestamp": 1756923313.7937825}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:15:13,819 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-03 14:15:13,890 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-03 14:15:13,894 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-03 14:15:13,895 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-03 14:15:13,910 - services.embedding_service - INFO - Embedding service initialized
2025-09-03 14:15:13,910 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-03 14:15:16,184 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cuda:0
2025-09-03 14:15:16,184 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-03 14:15:18,256 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-03 14:15:18,602 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-03 14:15:18,613 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-03 14:15:18,616 - services.qdrant_service - INFO - Found 2 results in collection 'knowledge_chunks' with threshold 0.6
2025-09-03 14:15:18,616 - services.qdrant_service - INFO - Found 2 similar chunks for query: 'navigation system...'
2025-09-03 14:15:18,634 - services.external_task_worker - INFO - Successfully completed task efab6c4d-88f1-11f0-bc34-0242ac160003
2025-09-03 14:15:18,641 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:15:18,641 - services.external_task_worker - INFO - Executing task f28d0781-88f1-11f0-bc34-0242ac160003 for topic rerank-context
2025-09-03 14:15:18,641 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923312.960018}', 'retrieved_chunks': '[{"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "content": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "source_document": "Navigation System Requirements", "similarity_score": 0.6541817, "chunk_metadata": {"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 106, "text": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "content_preview": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint ...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "content": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "source_document": "Technical Specifications", "similarity_score": 0.62585217, "chunk_metadata": {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 86, "text": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "content_preview": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Pla...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923312.960018}, "processing_timestamp": 1756923313.7937825}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:15:18,650 - services.external_task_worker - INFO - Successfully completed task f28d0781-88f1-11f0-bc34-0242ac160003
2025-09-03 14:15:18,659 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:15:18,659 - services.external_task_worker - INFO - Executing task f28f7898-88f1-11f0-bc34-0242ac160003 for topic fallback-search
2025-09-03 14:15:18,659 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'context_quality_score': 0.640016935, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923312.960018}', 'reranked_context': '[{"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "content": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "source_document": "Navigation System Requirements", "similarity_score": 0.6541817, "chunk_metadata": {"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 106, "text": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "content_preview": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint ...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "content": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "source_document": "Technical Specifications", "similarity_score": 0.62585217, "chunk_metadata": {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 86, "text": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "content_preview": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Pla...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "content": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "source_document": "Navigation System Requirements", "similarity_score": 0.6541817, "chunk_metadata": {"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 106, "text": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "content_preview": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint ...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "content": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "source_document": "Technical Specifications", "similarity_score": 0.62585217, "chunk_metadata": {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 86, "text": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "content_preview": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Pla...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923312.960018}, "processing_timestamp": 1756923313.7937825}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:15:18,668 - services.external_task_worker - INFO - Successfully completed task f28f7898-88f1-11f0-bc34-0242ac160003
2025-09-03 14:15:18,677 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:15:18,677 - services.external_task_worker - INFO - Executing task f29237cd-88f1-11f0-bc34-0242ac160003 for topic construct-prompt
2025-09-03 14:15:18,677 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'context_quality_score': 0.640016935, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923312.960018}', 'reranked_context': '[{"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "content": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "source_document": "Navigation System Requirements", "similarity_score": 0.6541817, "chunk_metadata": {"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 106, "text": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "content_preview": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint ...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "content": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "source_document": "Technical Specifications", "similarity_score": 0.62585217, "chunk_metadata": {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 86, "text": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "content_preview": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Pla...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923312.960018}, "processing_timestamp": 1756923313.7937825}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:15:18,686 - services.external_task_worker - INFO - Successfully completed task f29237cd-88f1-11f0-bc34-0242ac160003
2025-09-03 14:15:18,697 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:15:18,697 - services.external_task_worker - INFO - Executing task f294cff0-88f1-11f0-bc34-0242ac160003 for topic llm-generation
2025-09-03 14:15:18,697 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 1.1 Core Navigation Functions\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)\n[Context 2]: ### 2.2 Navigation Software Stack\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation\n\nUser Question: navigation system\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'navigation system', 'context_quality_score': 0.640016935, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923312.960018}', 'reranked_context': '[{"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "content": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "source_document": "Navigation System Requirements", "similarity_score": 0.6541817, "chunk_metadata": {"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 106, "text": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "content_preview": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint ...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "content": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "source_document": "Technical Specifications", "similarity_score": 0.62585217, "chunk_metadata": {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 86, "text": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "content_preview": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Pla...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923312.960018}, "processing_timestamp": 1756923313.7937825}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:15:18,707 - services.external_task_worker - INFO - Successfully completed task f294cff0-88f1-11f0-bc34-0242ac160003
2025-09-03 14:15:18,717 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:15:18,718 - services.external_task_worker - INFO - Executing task f297dd41-88f1-11f0-bc34-0242ac160003 for topic process-response
2025-09-03 14:15:18,718 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 1.1 Core Navigation Functions\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)\n[Context 2]: ### 2.2 Navigation Software Stack\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation\n\nUser Question: navigation system\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'navigation system', 'context_quality_score': 0.640016935, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923312.960018}', 'reranked_context': '[{"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "content": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "source_document": "Navigation System Requirements", "similarity_score": 0.6541817, "chunk_metadata": {"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 106, "text": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "content_preview": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint ...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "content": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "source_document": "Technical Specifications", "similarity_score": 0.62585217, "chunk_metadata": {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 86, "text": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "content_preview": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Pla...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923312.960018}, "processing_timestamp": 1756923313.7937825}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 1.1 Core Navigation Functions\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)\n[Context 2]: ### 2.2 Navigation Software Stack\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:15:18,729 - services.external_task_worker - INFO - Successfully completed task f297dd41-88f1-11f0-bc34-0242ac160003
2025-09-03 14:15:18,738 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:15:18,739 - services.external_task_worker - INFO - Executing task f29b5fc7-88f1-11f0-bc34-0242ac160003 for topic log-interaction
2025-09-03 14:15:18,739 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 1.1 Core Navigation Functions\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)\n[Context 2]: ### 2.2 Navigation Software Stack\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation\n\nUser Question: navigation system\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'navigation system', 'context_quality_score': 0.640016935, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923312.960018}', 'reranked_context': '[{"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "content": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "source_document": "Navigation System Requirements", "similarity_score": 0.6541817, "chunk_metadata": {"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 106, "text": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "content_preview": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint ...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "content": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "source_document": "Technical Specifications", "similarity_score": 0.62585217, "chunk_metadata": {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 86, "text": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "content_preview": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Pla...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 1.1 Core Navigation Functions\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)\n[Context 2]: ### 2.2 Navigation Software Stack\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation\n\nThis response is based on the relevant documentation found in your knowledge assets.\n\nSources:\n[1] Navigation System Requirements\n[2] Technical Specifications\n', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923312.960018}, "processing_timestamp": 1756923313.7937825}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 1.1 Core Navigation Functions\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)\n[Context 2]: ### 2.2 Navigation Software Stack\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:15:18,762 - services.external_task_worker - INFO - Successfully completed task f29b5fc7-88f1-11f0-bc34-0242ac160003
2025-09-03 14:15:19,076 - __main__ - INFO - Received signal 15, shutting down worker...
2025-09-03 14:16:18,395 - services.external_task_worker - INFO - Starting external task worker: odras-worker-1756923378
2025-09-03 14:16:18,404 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:16:18,404 - services.external_task_worker - INFO - Executing task 15f16521-88f2-11f0-bc34-0242ac160003 for topic process-user-query
2025-09-03 14:16:18,404 - services.external_task_worker - INFO - Task variables: {'user_query': 'For Hardware Components what is our memory requirements', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923377.9839675}'}
2025-09-03 14:16:18,411 - services.external_task_worker - INFO - Successfully completed task 15f16521-88f2-11f0-bc34-0242ac160003
2025-09-03 14:16:18,416 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:16:18,417 - services.external_task_worker - INFO - Executing task 162e472c-88f2-11f0-bc34-0242ac160003 for topic retrieve-context
2025-09-03 14:16:18,417 - services.external_task_worker - INFO - Task variables: {'user_query': 'For Hardware Components what is our memory requirements', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923377.9839675}', 'processed_query': '{"original_query": "For Hardware Components what is our memory requirements", "cleaned_query": "For Hardware Components what is our memory requirements", "key_terms": ["hardware", "components", "what", "our", "memory", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements"], "word_count": 8, "char_count": 55, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923377.9839675}, "processing_timestamp": 1756923378.4046757}', 'search_parameters': '{"primary_terms": ["hardware", "components", "what", "our", "memory"], "secondary_terms": ["requirements"], "search_boost_terms": ["requirements"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:16:18,427 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-03 14:16:18,488 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-03 14:16:18,493 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-03 14:16:18,494 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-03 14:16:18,508 - services.embedding_service - INFO - Embedding service initialized
2025-09-03 14:16:18,508 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-03 14:16:20,884 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cuda:0
2025-09-03 14:16:20,885 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-03 14:16:22,891 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-03 14:16:23,177 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-03 14:16:23,183 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-03 14:16:23,184 - services.qdrant_service - INFO - Found 0 results in collection 'knowledge_chunks' with threshold 0.6
2025-09-03 14:16:23,184 - services.qdrant_service - INFO - Found 0 similar chunks for query: 'For Hardware Components what is our memory require...'
2025-09-03 14:16:23,192 - services.external_task_worker - INFO - Successfully completed task 162e472c-88f2-11f0-bc34-0242ac160003
2025-09-03 14:16:23,197 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:16:23,197 - services.external_task_worker - INFO - Executing task 1907cd10-88f2-11f0-bc34-0242ac160003 for topic rerank-context
2025-09-03 14:16:23,197 - services.external_task_worker - INFO - Task variables: {'user_query': 'For Hardware Components what is our memory requirements', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923377.9839675}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "For Hardware Components what is our memory requirements", "cleaned_query": "For Hardware Components what is our memory requirements", "key_terms": ["hardware", "components", "what", "our", "memory", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements"], "word_count": 8, "char_count": 55, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923377.9839675}, "processing_timestamp": 1756923378.4046757}', 'search_parameters': '{"primary_terms": ["hardware", "components", "what", "our", "memory"], "secondary_terms": ["requirements"], "search_boost_terms": ["requirements"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:16:23,204 - services.external_task_worker - INFO - Successfully completed task 1907cd10-88f2-11f0-bc34-0242ac160003
2025-09-03 14:16:23,209 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:16:23,209 - services.external_task_worker - INFO - Executing task 1909a1e7-88f2-11f0-bc34-0242ac160003 for topic fallback-search
2025-09-03 14:16:23,209 - services.external_task_worker - INFO - Task variables: {'user_query': 'For Hardware Components what is our memory requirements', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923377.9839675}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "For Hardware Components what is our memory requirements", "cleaned_query": "For Hardware Components what is our memory requirements", "key_terms": ["hardware", "components", "what", "our", "memory", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements"], "word_count": 8, "char_count": 55, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923377.9839675}, "processing_timestamp": 1756923378.4046757}', 'search_parameters': '{"primary_terms": ["hardware", "components", "what", "our", "memory"], "secondary_terms": ["requirements"], "search_boost_terms": ["requirements"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:16:23,216 - services.external_task_worker - INFO - Successfully completed task 1909a1e7-88f2-11f0-bc34-0242ac160003
2025-09-03 14:16:23,224 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:16:23,224 - services.external_task_worker - INFO - Executing task 190b76bc-88f2-11f0-bc34-0242ac160003 for topic construct-prompt
2025-09-03 14:16:23,224 - services.external_task_worker - INFO - Task variables: {'user_query': 'For Hardware Components what is our memory requirements', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923377.9839675}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "For Hardware Components what is our memory requirements", "cleaned_query": "For Hardware Components what is our memory requirements", "key_terms": ["hardware", "components", "what", "our", "memory", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements"], "word_count": 8, "char_count": 55, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923377.9839675}, "processing_timestamp": 1756923378.4046757}', 'search_parameters': '{"primary_terms": ["hardware", "components", "what", "our", "memory"], "secondary_terms": ["requirements"], "search_boost_terms": ["requirements"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:16:23,232 - services.external_task_worker - INFO - Successfully completed task 190b76bc-88f2-11f0-bc34-0242ac160003
2025-09-03 14:16:23,239 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:16:23,239 - services.external_task_worker - INFO - Executing task 190de7cf-88f2-11f0-bc34-0242ac160003 for topic llm-generation
2025-09-03 14:16:23,239 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: For Hardware Components what is our memory requirements\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'For Hardware Components what is our memory requirements', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923377.9839675}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "For Hardware Components what is our memory requirements", "cleaned_query": "For Hardware Components what is our memory requirements", "key_terms": ["hardware", "components", "what", "our", "memory", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements"], "word_count": 8, "char_count": 55, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923377.9839675}, "processing_timestamp": 1756923378.4046757}', 'search_parameters': '{"primary_terms": ["hardware", "components", "what", "our", "memory"], "secondary_terms": ["requirements"], "search_boost_terms": ["requirements"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:16:23,245 - services.external_task_worker - INFO - Successfully completed task 190de7cf-88f2-11f0-bc34-0242ac160003
2025-09-03 14:16:23,258 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:16:23,258 - services.external_task_worker - INFO - Executing task 191009c0-88f2-11f0-bc34-0242ac160003 for topic process-response
2025-09-03 14:16:23,258 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: For Hardware Components what is our memory requirements\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'For Hardware Components what is our memory requirements', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923377.9839675}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "For Hardware Components what is our memory requirements", "cleaned_query": "For Hardware Components what is our memory requirements", "key_terms": ["hardware", "components", "what", "our", "memory", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements"], "word_count": 8, "char_count": 55, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923377.9839675}, "processing_timestamp": 1756923378.4046757}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["hardware", "components", "what", "our", "memory"], "secondary_terms": ["requirements"], "search_boost_terms": ["requirements"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:16:23,265 - services.external_task_worker - INFO - Successfully completed task 191009c0-88f2-11f0-bc34-0242ac160003
2025-09-03 14:16:23,272 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:16:23,272 - services.external_task_worker - INFO - Executing task 1912f006-88f2-11f0-bc34-0242ac160003 for topic log-interaction
2025-09-03 14:16:23,272 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: For Hardware Components what is our memory requirements\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'For Hardware Components what is our memory requirements', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923377.9839675}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "For Hardware Components what is our memory requirements", "cleaned_query": "For Hardware Components what is our memory requirements", "key_terms": ["hardware", "components", "what", "our", "memory", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements"], "word_count": 8, "char_count": 55, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923377.9839675}, "processing_timestamp": 1756923378.4046757}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["hardware", "components", "what", "our", "memory"], "secondary_terms": ["requirements"], "search_boost_terms": ["requirements"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:16:23,284 - services.external_task_worker - INFO - Successfully completed task 1912f006-88f2-11f0-bc34-0242ac160003
2025-09-03 14:16:24,116 - __main__ - INFO - Received signal 15, shutting down worker...
2025-09-03 14:18:17,683 - services.external_task_worker - INFO - Starting external task worker: odras-worker-1756923497
2025-09-03 14:18:17,692 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:18:17,692 - services.external_task_worker - INFO - Executing task 5cf41adc-88f2-11f0-bc34-0242ac160003 for topic process-user-query
2025-09-03 14:18:17,692 - services.external_task_worker - INFO - Task variables: {'user_query': 'For Hardware Components what is our memory requirements', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923497.1202424}'}
2025-09-03 14:18:17,701 - services.external_task_worker - INFO - Successfully completed task 5cf41adc-88f2-11f0-bc34-0242ac160003
2025-09-03 14:18:17,708 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:18:17,708 - services.external_task_worker - INFO - Executing task 5d485577-88f2-11f0-bc34-0242ac160003 for topic retrieve-context
2025-09-03 14:18:17,708 - services.external_task_worker - INFO - Task variables: {'user_query': 'For Hardware Components what is our memory requirements', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923497.1202424}', 'processed_query': '{"original_query": "For Hardware Components what is our memory requirements", "cleaned_query": "For Hardware Components what is our memory requirements", "key_terms": ["hardware", "components", "what", "our", "memory", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements"], "word_count": 8, "char_count": 55, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923497.1202424}, "processing_timestamp": 1756923497.6930585}', 'search_parameters': '{"primary_terms": ["hardware", "components", "what", "our", "memory"], "secondary_terms": ["requirements"], "search_boost_terms": ["requirements"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:18:17,720 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-03 14:18:17,786 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-03 14:18:17,790 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-03 14:18:17,791 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-03 14:18:17,806 - services.embedding_service - INFO - Embedding service initialized
2025-09-03 14:18:17,806 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-03 14:18:19,449 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cuda:0
2025-09-03 14:18:19,449 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-03 14:18:21,638 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-03 14:18:21,957 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-03 14:18:21,967 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-03 14:18:21,969 - services.qdrant_service - INFO - Found 2 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-03 14:18:21,969 - services.qdrant_service - INFO - Found 2 similar chunks for query: 'For Hardware Components what is our memory require...'
2025-09-03 14:18:21,992 - services.external_task_worker - INFO - Successfully completed task 5d485577-88f2-11f0-bc34-0242ac160003
2025-09-03 14:18:22,000 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:18:22,000 - services.external_task_worker - INFO - Executing task 5fd716bb-88f2-11f0-bc34-0242ac160003 for topic rerank-context
2025-09-03 14:18:22,000 - services.external_task_worker - INFO - Task variables: {'user_query': 'For Hardware Components what is our memory requirements', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923497.1202424}', 'retrieved_chunks': '[{"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.54837537, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "content": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "source_document": "Technical Specifications", "similarity_score": 0.4863008, "chunk_metadata": {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 6, "token_count": 74, "text": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "content_preview": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write ...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'processed_query': '{"original_query": "For Hardware Components what is our memory requirements", "cleaned_query": "For Hardware Components what is our memory requirements", "key_terms": ["hardware", "components", "what", "our", "memory", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements"], "word_count": 8, "char_count": 55, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923497.1202424}, "processing_timestamp": 1756923497.6930585}', 'search_parameters': '{"primary_terms": ["hardware", "components", "what", "our", "memory"], "secondary_terms": ["requirements"], "search_boost_terms": ["requirements"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:18:22,008 - services.external_task_worker - INFO - Successfully completed task 5fd716bb-88f2-11f0-bc34-0242ac160003
2025-09-03 14:18:22,016 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:18:22,016 - services.external_task_worker - INFO - Executing task 5fd9aee2-88f2-11f0-bc34-0242ac160003 for topic fallback-search
2025-09-03 14:18:22,017 - services.external_task_worker - INFO - Task variables: {'user_query': 'For Hardware Components what is our memory requirements', 'context_quality_score': 0.517338085, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923497.1202424}', 'reranked_context': '[{"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.54837537, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "content": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "source_document": "Technical Specifications", "similarity_score": 0.4863008, "chunk_metadata": {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 6, "token_count": 74, "text": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "content_preview": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write ...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.54837537, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "content": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "source_document": "Technical Specifications", "similarity_score": 0.4863008, "chunk_metadata": {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 6, "token_count": 74, "text": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "content_preview": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write ...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'processed_query': '{"original_query": "For Hardware Components what is our memory requirements", "cleaned_query": "For Hardware Components what is our memory requirements", "key_terms": ["hardware", "components", "what", "our", "memory", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements"], "word_count": 8, "char_count": 55, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923497.1202424}, "processing_timestamp": 1756923497.6930585}', 'search_parameters': '{"primary_terms": ["hardware", "components", "what", "our", "memory"], "secondary_terms": ["requirements"], "search_boost_terms": ["requirements"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:18:22,027 - services.external_task_worker - INFO - Successfully completed task 5fd9aee2-88f2-11f0-bc34-0242ac160003
2025-09-03 14:18:22,037 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:18:22,037 - services.external_task_worker - INFO - Executing task 5fdc4707-88f2-11f0-bc34-0242ac160003 for topic construct-prompt
2025-09-03 14:18:22,037 - services.external_task_worker - INFO - Task variables: {'user_query': 'For Hardware Components what is our memory requirements', 'context_quality_score': 0.517338085, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923497.1202424}', 'reranked_context': '[{"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.54837537, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "content": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "source_document": "Technical Specifications", "similarity_score": 0.4863008, "chunk_metadata": {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 6, "token_count": 74, "text": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "content_preview": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write ...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "For Hardware Components what is our memory requirements", "cleaned_query": "For Hardware Components what is our memory requirements", "key_terms": ["hardware", "components", "what", "our", "memory", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements"], "word_count": 8, "char_count": 55, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923497.1202424}, "processing_timestamp": 1756923497.6930585}', 'search_parameters': '{"primary_terms": ["hardware", "components", "what", "our", "memory"], "secondary_terms": ["requirements"], "search_boost_terms": ["requirements"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:18:22,048 - services.external_task_worker - INFO - Successfully completed task 5fdc4707-88f2-11f0-bc34-0242ac160003
2025-09-03 14:18:22,056 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:18:22,056 - services.external_task_worker - INFO - Executing task 5fdfa27a-88f2-11f0-bc34-0242ac160003 for topic llm-generation
2025-09-03 14:18:22,056 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': 'You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 1.1 Hardware Components\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\n- **Display**: 15.6" 1920x1080 sunlight-readable LCD touchscreen\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)\n[Context 2]: ### 3.1 Processing Performance\n- **CPU Utilization**: Maximum 80% under normal load\n- **Memory Usage**: Maximum 12 GB under normal operations\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications\n\nUser Question: For Hardware Components what is our memory requirements\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn\'t contain enough information to fully answer the question, acknowledge this and provide what information you can.', 'user_query': 'For Hardware Components what is our memory requirements', 'context_quality_score': 0.517338085, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923497.1202424}', 'reranked_context': '[{"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.54837537, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "content": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "source_document": "Technical Specifications", "similarity_score": 0.4863008, "chunk_metadata": {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 6, "token_count": 74, "text": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "content_preview": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write ...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "For Hardware Components what is our memory requirements", "cleaned_query": "For Hardware Components what is our memory requirements", "key_terms": ["hardware", "components", "what", "our", "memory", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements"], "word_count": 8, "char_count": 55, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923497.1202424}, "processing_timestamp": 1756923497.6930585}', 'search_parameters': '{"primary_terms": ["hardware", "components", "what", "our", "memory"], "secondary_terms": ["requirements"], "search_boost_terms": ["requirements"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:18:22,066 - services.external_task_worker - INFO - Successfully completed task 5fdfa27a-88f2-11f0-bc34-0242ac160003
2025-09-03 14:18:22,075 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:18:22,075 - services.external_task_worker - INFO - Executing task 5fe261ab-88f2-11f0-bc34-0242ac160003 for topic process-response
2025-09-03 14:18:22,075 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': 'You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 1.1 Hardware Components\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\n- **Display**: 15.6" 1920x1080 sunlight-readable LCD touchscreen\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)\n[Context 2]: ### 3.1 Processing Performance\n- **CPU Utilization**: Maximum 80% under normal load\n- **Memory Usage**: Maximum 12 GB under normal operations\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications\n\nUser Question: For Hardware Components what is our memory requirements\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn\'t contain enough information to fully answer the question, acknowledge this and provide what information you can.', 'user_query': 'For Hardware Components what is our memory requirements', 'context_quality_score': 0.517338085, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923497.1202424}', 'reranked_context': '[{"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.54837537, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "content": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "source_document": "Technical Specifications", "similarity_score": 0.4863008, "chunk_metadata": {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 6, "token_count": 74, "text": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "content_preview": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write ...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "For Hardware Components what is our memory requirements", "cleaned_query": "For Hardware Components what is our memory requirements", "key_terms": ["hardware", "components", "what", "our", "memory", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements"], "word_count": 8, "char_count": 55, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923497.1202424}, "processing_timestamp": 1756923497.6930585}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 1.1 Hardware Components\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\n- **Display**: 15.6" 1920x1080 sunlight-readable LCD touchscreen\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)\n[Context 2]: ### 3.1 Processing Performance\n- **CPU Utilization**: Maximum 80% under normal load\n- **Memory Usage**: Maximum 12 GB under normal operations\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["hardware", "components", "what", "our", "memory"], "secondary_terms": ["requirements"], "search_boost_terms": ["requirements"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:18:22,084 - services.external_task_worker - INFO - Successfully completed task 5fe261ab-88f2-11f0-bc34-0242ac160003
2025-09-03 14:18:22,094 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:18:22,094 - services.external_task_worker - INFO - Executing task 5fe520e1-88f2-11f0-bc34-0242ac160003 for topic log-interaction
2025-09-03 14:18:22,094 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': 'You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 1.1 Hardware Components\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\n- **Display**: 15.6" 1920x1080 sunlight-readable LCD touchscreen\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)\n[Context 2]: ### 3.1 Processing Performance\n- **CPU Utilization**: Maximum 80% under normal load\n- **Memory Usage**: Maximum 12 GB under normal operations\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications\n\nUser Question: For Hardware Components what is our memory requirements\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn\'t contain enough information to fully answer the question, acknowledge this and provide what information you can.', 'user_query': 'For Hardware Components what is our memory requirements', 'context_quality_score': 0.517338085, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923497.1202424}', 'reranked_context': '[{"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.54837537, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "content": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "source_document": "Technical Specifications", "similarity_score": 0.4863008, "chunk_metadata": {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 6, "token_count": 74, "text": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "content_preview": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write ...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 1.1 Hardware Components\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\n- **Display**: 15.6" 1920x1080 sunlight-readable LCD touchscreen\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)\n[Context 2]: ### 3.1 Processing Performance\n- **CPU Utilization**: Maximum 80% under normal load\n- **Memory Usage**: Maximum 12 GB under normal operations\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications\n\nThis response is based on the relevant documentation found in your knowledge assets.\n\nSources:\n[1] Technical Specifications\n[2] Technical Specifications\n', 'processed_query': '{"original_query": "For Hardware Components what is our memory requirements", "cleaned_query": "For Hardware Components what is our memory requirements", "key_terms": ["hardware", "components", "what", "our", "memory", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements"], "word_count": 8, "char_count": 55, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923497.1202424}, "processing_timestamp": 1756923497.6930585}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 1.1 Hardware Components\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\n- **Display**: 15.6" 1920x1080 sunlight-readable LCD touchscreen\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)\n[Context 2]: ### 3.1 Processing Performance\n- **CPU Utilization**: Maximum 80% under normal load\n- **Memory Usage**: Maximum 12 GB under normal operations\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["hardware", "components", "what", "our", "memory"], "secondary_terms": ["requirements"], "search_boost_terms": ["requirements"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:18:22,108 - services.external_task_worker - INFO - Successfully completed task 5fe520e1-88f2-11f0-bc34-0242ac160003
2025-09-03 14:18:22,237 - __main__ - INFO - Received signal 15, shutting down worker...
2025-09-03 14:23:44,719 - services.external_task_worker - INFO - Starting external task worker: odras-worker-1756923824
2025-09-03 14:24:02,870 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:24:02,871 - services.external_task_worker - INFO - Executing task 2a9a707b-88f3-11f0-bc34-0242ac160003 for topic process-user-query
2025-09-03 14:24:02,871 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the navigation system requirements?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923842.1391628}'}
2025-09-03 14:24:02,881 - services.external_task_worker - INFO - Successfully completed task 2a9a707b-88f3-11f0-bc34-0242ac160003
2025-09-03 14:24:02,887 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:24:02,887 - services.external_task_worker - INFO - Executing task 2b0677d6-88f3-11f0-bc34-0242ac160003 for topic retrieve-context
2025-09-03 14:24:02,888 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the navigation system requirements?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923842.1391628}', 'processed_query': '{"original_query": "What are the navigation system requirements?", "cleaned_query": "What are the navigation system requirements?", "key_terms": ["what", "navigation", "system", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements", "system"], "word_count": 6, "char_count": 44, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923842.1391628}, "processing_timestamp": 1756923842.8716376}', 'search_parameters': '{"primary_terms": ["what", "navigation", "system", "requirements"], "secondary_terms": [], "search_boost_terms": ["requirements", "system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:24:02,898 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-03 14:24:02,961 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-03 14:24:02,964 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-03 14:24:02,965 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-03 14:24:02,977 - services.embedding_service - INFO - Embedding service initialized
2025-09-03 14:24:02,977 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-03 14:24:03,044 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cuda:0
2025-09-03 14:24:03,044 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-03 14:24:04,328 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-03 14:24:04,601 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-03 14:24:04,609 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-03 14:24:04,610 - services.qdrant_service - INFO - Found 10 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-03 14:24:04,610 - services.qdrant_service - INFO - Found 10 similar chunks for query: 'What are the navigation system requirements?...'
2025-09-03 14:24:04,681 - services.external_task_worker - INFO - Successfully completed task 2b0677d6-88f3-11f0-bc34-0242ac160003
2025-09-03 14:24:04,689 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:24:04,689 - services.external_task_worker - INFO - Executing task 2c19206a-88f3-11f0-bc34-0242ac160003 for topic rerank-context
2025-09-03 14:24:04,689 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the navigation system requirements?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923842.1391628}', 'retrieved_chunks': '[{"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "content": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "source_document": "Navigation System Requirements", "similarity_score": 0.680192, "chunk_metadata": {"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 106, "text": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "content_preview": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint ...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "content": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "source_document": "Navigation System Requirements", "similarity_score": 0.6318933, "chunk_metadata": {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 102, "text": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "content_preview": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom leve...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "content": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "source_document": "Technical Specifications", "similarity_score": 0.60904396, "chunk_metadata": {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 86, "text": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "content_preview": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Pla...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.53267634, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.5096952, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "content": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "source_document": "Technical Specifications", "similarity_score": 0.47959125, "chunk_metadata": {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 7, "token_count": 76, "text": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "content_preview": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "06c184ad-d62e-4037-ae05-7399a54936e5", "content": "#### 2.2.1 System Failure Response\\n1. **Primary Navigation Failure**\\n   - Switch to backup navigation system immediately\\n   - Report failure to control station\\n   - Return to base using predetermined safe route\\n   - Do not continue mission without primary navigation", "source_document": "Safety Protocols", "similarity_score": 0.46008196, "chunk_metadata": {"chunk_id": "06c184ad-d62e-4037-ae05-7399a54936e5", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 5, "token_count": 66, "text": "#### 2.2.1 System Failure Response\\n1. **Primary Navigation Failure**\\n   - Switch to backup navigation system immediately\\n   - Report failure to control station\\n   - Return to base using predetermined safe route\\n   - Do not continue mission without primary navigation", "content_preview": "#### 2.2.1 System Failure Response\\n1. **Primary Navigation Failure**\\n   - Switch to backup navigation system immediately\\n   - Report failure to control station\\n   - Return to base using predetermined ...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "content": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "source_document": "Safety Protocols", "similarity_score": 0.45862547, "chunk_metadata": {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 3, "token_count": 55, "text": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "content_preview": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones ...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "49936670-8134-4076-b4db-76cd6bccdc03", "content": "### 3.1 Critical Functions\\n- **REQ-SAFETY-001**: Navigation system failures SHALL NOT affect primary vehicle systems\\n- **REQ-SAFETY-002**: The system SHALL provide audible alerts for critical navigation events\\n- **REQ-SAFETY-003**: Emergency stop functionality SHALL be available within 1 button press", "source_document": "Navigation System Requirements", "similarity_score": 0.4322413, "chunk_metadata": {"chunk_id": "49936670-8134-4076-b4db-76cd6bccdc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 5, "token_count": 75, "text": "### 3.1 Critical Functions\\n- **REQ-SAFETY-001**: Navigation system failures SHALL NOT affect primary vehicle systems\\n- **REQ-SAFETY-002**: The system SHALL provide audible alerts for critical navigation events\\n- **REQ-SAFETY-003**: Emergency stop functionality SHALL be available within 1 button press", "content_preview": "### 3.1 Critical Functions\\n- **REQ-SAFETY-001**: Navigation system failures SHALL NOT affect primary vehicle systems\\n- **REQ-SAFETY-002**: The system SHALL provide audible alerts for critical navigati...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "f493bbf3-d99a-4c4e-90be-a173b0cadfb4", "content": "3. **Communication Systems**\\n   - Radio check with control station\\n   - Verify emergency communication channels\\n   - Test data link connectivity", "source_document": "Safety Protocols", "similarity_score": 0.4016766, "chunk_metadata": {"chunk_id": "f493bbf3-d99a-4c4e-90be-a173b0cadfb4", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 2, "token_count": 36, "text": "3. **Communication Systems**\\n   - Radio check with control station\\n   - Verify emergency communication channels\\n   - Test data link connectivity", "content_preview": "3. **Communication Systems**\\n   - Radio check with control station\\n   - Verify emergency communication channels\\n   - Test data link connectivity", "source_asset": "Safety Protocols", "document_type": "safety"}}]', 'processed_query': '{"original_query": "What are the navigation system requirements?", "cleaned_query": "What are the navigation system requirements?", "key_terms": ["what", "navigation", "system", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements", "system"], "word_count": 6, "char_count": 44, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923842.1391628}, "processing_timestamp": 1756923842.8716376}', 'search_parameters': '{"primary_terms": ["what", "navigation", "system", "requirements"], "secondary_terms": [], "search_boost_terms": ["requirements", "system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:24:04,699 - services.external_task_worker - INFO - Successfully completed task 2c19206a-88f3-11f0-bc34-0242ac160003
2025-09-03 14:24:04,706 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:24:04,707 - services.external_task_worker - INFO - Executing task 2c1c06b1-88f3-11f0-bc34-0242ac160003 for topic fallback-search
2025-09-03 14:24:04,707 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the navigation system requirements?', 'context_quality_score': 0.59270016, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923842.1391628}', 'reranked_context': '[{"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "content": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "source_document": "Navigation System Requirements", "similarity_score": 0.680192, "chunk_metadata": {"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 106, "text": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "content_preview": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint ...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "content": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "source_document": "Navigation System Requirements", "similarity_score": 0.6318933, "chunk_metadata": {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 102, "text": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "content_preview": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom leve...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "content": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "source_document": "Technical Specifications", "similarity_score": 0.60904396, "chunk_metadata": {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 86, "text": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "content_preview": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Pla...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.53267634, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.5096952, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "content": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "source_document": "Navigation System Requirements", "similarity_score": 0.680192, "chunk_metadata": {"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 106, "text": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "content_preview": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint ...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "content": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "source_document": "Navigation System Requirements", "similarity_score": 0.6318933, "chunk_metadata": {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 102, "text": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "content_preview": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom leve...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "content": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "source_document": "Technical Specifications", "similarity_score": 0.60904396, "chunk_metadata": {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 86, "text": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "content_preview": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Pla...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.53267634, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.5096952, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "content": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "source_document": "Technical Specifications", "similarity_score": 0.47959125, "chunk_metadata": {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 7, "token_count": 76, "text": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "content_preview": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "06c184ad-d62e-4037-ae05-7399a54936e5", "content": "#### 2.2.1 System Failure Response\\n1. **Primary Navigation Failure**\\n   - Switch to backup navigation system immediately\\n   - Report failure to control station\\n   - Return to base using predetermined safe route\\n   - Do not continue mission without primary navigation", "source_document": "Safety Protocols", "similarity_score": 0.46008196, "chunk_metadata": {"chunk_id": "06c184ad-d62e-4037-ae05-7399a54936e5", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 5, "token_count": 66, "text": "#### 2.2.1 System Failure Response\\n1. **Primary Navigation Failure**\\n   - Switch to backup navigation system immediately\\n   - Report failure to control station\\n   - Return to base using predetermined safe route\\n   - Do not continue mission without primary navigation", "content_preview": "#### 2.2.1 System Failure Response\\n1. **Primary Navigation Failure**\\n   - Switch to backup navigation system immediately\\n   - Report failure to control station\\n   - Return to base using predetermined ...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "content": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "source_document": "Safety Protocols", "similarity_score": 0.45862547, "chunk_metadata": {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 3, "token_count": 55, "text": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "content_preview": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones ...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "49936670-8134-4076-b4db-76cd6bccdc03", "content": "### 3.1 Critical Functions\\n- **REQ-SAFETY-001**: Navigation system failures SHALL NOT affect primary vehicle systems\\n- **REQ-SAFETY-002**: The system SHALL provide audible alerts for critical navigation events\\n- **REQ-SAFETY-003**: Emergency stop functionality SHALL be available within 1 button press", "source_document": "Navigation System Requirements", "similarity_score": 0.4322413, "chunk_metadata": {"chunk_id": "49936670-8134-4076-b4db-76cd6bccdc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 5, "token_count": 75, "text": "### 3.1 Critical Functions\\n- **REQ-SAFETY-001**: Navigation system failures SHALL NOT affect primary vehicle systems\\n- **REQ-SAFETY-002**: The system SHALL provide audible alerts for critical navigation events\\n- **REQ-SAFETY-003**: Emergency stop functionality SHALL be available within 1 button press", "content_preview": "### 3.1 Critical Functions\\n- **REQ-SAFETY-001**: Navigation system failures SHALL NOT affect primary vehicle systems\\n- **REQ-SAFETY-002**: The system SHALL provide audible alerts for critical navigati...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "f493bbf3-d99a-4c4e-90be-a173b0cadfb4", "content": "3. **Communication Systems**\\n   - Radio check with control station\\n   - Verify emergency communication channels\\n   - Test data link connectivity", "source_document": "Safety Protocols", "similarity_score": 0.4016766, "chunk_metadata": {"chunk_id": "f493bbf3-d99a-4c4e-90be-a173b0cadfb4", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 2, "token_count": 36, "text": "3. **Communication Systems**\\n   - Radio check with control station\\n   - Verify emergency communication channels\\n   - Test data link connectivity", "content_preview": "3. **Communication Systems**\\n   - Radio check with control station\\n   - Verify emergency communication channels\\n   - Test data link connectivity", "source_asset": "Safety Protocols", "document_type": "safety"}}]', 'processed_query': '{"original_query": "What are the navigation system requirements?", "cleaned_query": "What are the navigation system requirements?", "key_terms": ["what", "navigation", "system", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements", "system"], "word_count": 6, "char_count": 44, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923842.1391628}, "processing_timestamp": 1756923842.8716376}', 'search_parameters': '{"primary_terms": ["what", "navigation", "system", "requirements"], "secondary_terms": [], "search_boost_terms": ["requirements", "system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:24:04,716 - services.external_task_worker - INFO - Successfully completed task 2c1c06b1-88f3-11f0-bc34-0242ac160003
2025-09-03 14:24:04,723 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:24:04,723 - services.external_task_worker - INFO - Executing task 2c1e9ed6-88f3-11f0-bc34-0242ac160003 for topic construct-prompt
2025-09-03 14:24:04,723 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the navigation system requirements?', 'context_quality_score': 0.59270016, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923842.1391628}', 'reranked_context': '[{"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "content": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "source_document": "Navigation System Requirements", "similarity_score": 0.680192, "chunk_metadata": {"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 106, "text": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "content_preview": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint ...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "content": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "source_document": "Navigation System Requirements", "similarity_score": 0.6318933, "chunk_metadata": {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 102, "text": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "content_preview": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom leve...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "content": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "source_document": "Technical Specifications", "similarity_score": 0.60904396, "chunk_metadata": {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 86, "text": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "content_preview": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Pla...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.53267634, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.5096952, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What are the navigation system requirements?", "cleaned_query": "What are the navigation system requirements?", "key_terms": ["what", "navigation", "system", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements", "system"], "word_count": 6, "char_count": 44, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923842.1391628}, "processing_timestamp": 1756923842.8716376}', 'search_parameters': '{"primary_terms": ["what", "navigation", "system", "requirements"], "secondary_terms": [], "search_boost_terms": ["requirements", "system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:24:04,737 - services.external_task_worker - INFO - Successfully completed task 2c1e9ed6-88f3-11f0-bc34-0242ac160003
2025-09-03 14:24:04,745 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:24:04,745 - services.external_task_worker - INFO - Executing task 2c21d339-88f3-11f0-bc34-0242ac160003 for topic llm-generation
2025-09-03 14:24:04,745 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 1.1 Core Navigation Functions\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)\n[Context 2]: ### 1.2 User Interface Requirements  \n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup\n[Context 3]: ### 2.2 Navigation Software Stack\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation\n\nUser Question: What are the navigation system requirements?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What are the navigation system requirements?', 'context_quality_score': 0.59270016, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923842.1391628}', 'reranked_context': '[{"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "content": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "source_document": "Navigation System Requirements", "similarity_score": 0.680192, "chunk_metadata": {"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 106, "text": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "content_preview": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint ...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "content": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "source_document": "Navigation System Requirements", "similarity_score": 0.6318933, "chunk_metadata": {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 102, "text": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "content_preview": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom leve...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "content": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "source_document": "Technical Specifications", "similarity_score": 0.60904396, "chunk_metadata": {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 86, "text": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "content_preview": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Pla...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.53267634, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.5096952, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What are the navigation system requirements?", "cleaned_query": "What are the navigation system requirements?", "key_terms": ["what", "navigation", "system", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements", "system"], "word_count": 6, "char_count": 44, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923842.1391628}, "processing_timestamp": 1756923842.8716376}', 'search_parameters': '{"primary_terms": ["what", "navigation", "system", "requirements"], "secondary_terms": [], "search_boost_terms": ["requirements", "system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:24:04,754 - services.external_task_worker - INFO - Successfully completed task 2c21d339-88f3-11f0-bc34-0242ac160003
2025-09-03 14:24:04,761 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:24:04,761 - services.external_task_worker - INFO - Executing task 2c24926a-88f3-11f0-bc34-0242ac160003 for topic process-response
2025-09-03 14:24:04,761 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 1.1 Core Navigation Functions\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)\n[Context 2]: ### 1.2 User Interface Requirements  \n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup\n[Context 3]: ### 2.2 Navigation Software Stack\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation\n\nUser Question: What are the navigation system requirements?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What are the navigation system requirements?', 'context_quality_score': 0.59270016, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923842.1391628}', 'reranked_context': '[{"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "content": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "source_document": "Navigation System Requirements", "similarity_score": 0.680192, "chunk_metadata": {"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 106, "text": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "content_preview": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint ...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "content": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "source_document": "Navigation System Requirements", "similarity_score": 0.6318933, "chunk_metadata": {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 102, "text": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "content_preview": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom leve...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "content": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "source_document": "Technical Specifications", "similarity_score": 0.60904396, "chunk_metadata": {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 86, "text": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "content_preview": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Pla...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.53267634, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.5096952, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What are the navigation system requirements?", "cleaned_query": "What are the navigation system requirements?", "key_terms": ["what", "navigation", "system", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements", "system"], "word_count": 6, "char_count": 44, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923842.1391628}, "processing_timestamp": 1756923842.8716376}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 1.1 Core Navigation Functions\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)\n[Context 2]: ### 1.2 User Interface Requirements\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup\n[Context 3]: ### 2.2 Navigation Software Stack\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["what", "navigation", "system", "requirements"], "secondary_terms": [], "search_boost_terms": ["requirements", "system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:24:04,771 - services.external_task_worker - INFO - Successfully completed task 2c24926a-88f3-11f0-bc34-0242ac160003
2025-09-03 14:24:04,778 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:24:04,779 - services.external_task_worker - INFO - Executing task 2c270380-88f3-11f0-bc34-0242ac160003 for topic log-interaction
2025-09-03 14:24:04,779 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 1.1 Core Navigation Functions\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)\n[Context 2]: ### 1.2 User Interface Requirements  \n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup\n[Context 3]: ### 2.2 Navigation Software Stack\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation\n\nUser Question: What are the navigation system requirements?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What are the navigation system requirements?', 'context_quality_score': 0.59270016, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923842.1391628}', 'reranked_context': '[{"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "content": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "source_document": "Navigation System Requirements", "similarity_score": 0.680192, "chunk_metadata": {"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 106, "text": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "content_preview": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint ...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "content": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "source_document": "Navigation System Requirements", "similarity_score": 0.6318933, "chunk_metadata": {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 102, "text": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "content_preview": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom leve...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "content": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "source_document": "Technical Specifications", "similarity_score": 0.60904396, "chunk_metadata": {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 86, "text": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "content_preview": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Pla...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.53267634, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.5096952, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 1.1 Core Navigation Functions\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)\n[Context 2]: ### 1.2 User Interface Requirements\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup\n[Context 3]: ### 2.2 Navigation Software Stack\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation\n\nThis response is based on the relevant documentation found in your knowledge assets.\n\nSources:\n[1] Navigation System Requirements\n[2] Navigation System Requirements\n[3] Technical Specifications\n', 'processed_query': '{"original_query": "What are the navigation system requirements?", "cleaned_query": "What are the navigation system requirements?", "key_terms": ["what", "navigation", "system", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements", "system"], "word_count": 6, "char_count": 44, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923842.1391628}, "processing_timestamp": 1756923842.8716376}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 1.1 Core Navigation Functions\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)\n[Context 2]: ### 1.2 User Interface Requirements\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup\n[Context 3]: ### 2.2 Navigation Software Stack\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["what", "navigation", "system", "requirements"], "secondary_terms": [], "search_boost_terms": ["requirements", "system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:24:04,795 - services.external_task_worker - INFO - Successfully completed task 2c270380-88f3-11f0-bc34-0242ac160003
2025-09-03 14:24:08,837 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:24:08,837 - services.external_task_worker - INFO - Executing task 2e8fed4a-88f3-11f0-bc34-0242ac160003 for topic process-user-query
2025-09-03 14:24:08,837 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923848.7883997}'}
2025-09-03 14:24:08,844 - services.external_task_worker - INFO - Successfully completed task 2e8fed4a-88f3-11f0-bc34-0242ac160003
2025-09-03 14:24:08,852 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:24:08,852 - services.external_task_worker - INFO - Executing task 2e948145-88f3-11f0-bc34-0242ac160003 for topic retrieve-context
2025-09-03 14:24:08,852 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923848.7883997}', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923848.7883997}, "processing_timestamp": 1756923848.837524}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:24:08,855 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-03 14:24:08,903 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-03 14:24:08,907 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-03 14:24:08,908 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-03 14:24:08,920 - services.embedding_service - INFO - Embedding service initialized
2025-09-03 14:24:08,920 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-03 14:24:08,921 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cuda:0
2025-09-03 14:24:08,921 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-03 14:24:10,101 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-03 14:24:10,109 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-03 14:24:10,116 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-03 14:24:10,116 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-03 14:24:10,116 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'What is the required position accuracy?...'
2025-09-03 14:24:10,129 - services.external_task_worker - INFO - Successfully completed task 2e948145-88f3-11f0-bc34-0242ac160003
2025-09-03 14:24:10,136 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:24:10,136 - services.external_task_worker - INFO - Executing task 2f5894a9-88f3-11f0-bc34-0242ac160003 for topic rerank-context
2025-09-03 14:24:10,136 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923848.7883997}', 'retrieved_chunks': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923848.7883997}, "processing_timestamp": 1756923848.837524}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:24:10,143 - services.external_task_worker - INFO - Successfully completed task 2f5894a9-88f3-11f0-bc34-0242ac160003
2025-09-03 14:24:10,151 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:24:10,152 - services.external_task_worker - INFO - Executing task 2f5adeb0-88f3-11f0-bc34-0242ac160003 for topic fallback-search
2025-09-03 14:24:10,152 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923848.7883997}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923848.7883997}, "processing_timestamp": 1756923848.837524}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:24:10,159 - services.external_task_worker - INFO - Successfully completed task 2f5adeb0-88f3-11f0-bc34-0242ac160003
2025-09-03 14:24:10,167 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:24:10,167 - services.external_task_worker - INFO - Executing task 2f5d28b5-88f3-11f0-bc34-0242ac160003 for topic construct-prompt
2025-09-03 14:24:10,167 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923848.7883997}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923848.7883997}, "processing_timestamp": 1756923848.837524}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:24:10,175 - services.external_task_worker - INFO - Successfully completed task 2f5d28b5-88f3-11f0-bc34-0242ac160003
2025-09-03 14:24:10,184 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:24:10,184 - services.external_task_worker - INFO - Executing task 2f5f98c8-88f3-11f0-bc34-0242ac160003 for topic llm-generation
2025-09-03 14:24:10,184 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923848.7883997}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923848.7883997}, "processing_timestamp": 1756923848.837524}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:24:10,191 - services.external_task_worker - INFO - Successfully completed task 2f5f98c8-88f3-11f0-bc34-0242ac160003
2025-09-03 14:24:10,200 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:24:10,200 - services.external_task_worker - INFO - Executing task 2f6230e9-88f3-11f0-bc34-0242ac160003 for topic process-response
2025-09-03 14:24:10,200 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923848.7883997}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923848.7883997}, "processing_timestamp": 1756923848.837524}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:24:10,208 - services.external_task_worker - INFO - Successfully completed task 2f6230e9-88f3-11f0-bc34-0242ac160003
2025-09-03 14:24:10,217 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:24:10,217 - services.external_task_worker - INFO - Executing task 2f64c90f-88f3-11f0-bc34-0242ac160003 for topic log-interaction
2025-09-03 14:24:10,217 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923848.7883997}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nThis response is based on the relevant documentation found in your knowledge assets.\n\nSources:\n[1] Navigation System Requirements\n', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923848.7883997}, "processing_timestamp": 1756923848.837524}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:24:10,232 - services.external_task_worker - INFO - Successfully completed task 2f64c90f-88f3-11f0-bc34-0242ac160003
2025-09-03 14:24:19,317 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:24:19,317 - services.external_task_worker - INFO - Executing task 343e8bc9-88f3-11f0-bc34-0242ac160003 for topic process-user-query
2025-09-03 14:24:19,317 - services.external_task_worker - INFO - Task variables: {'user_query': 'What safety procedures should be followed?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923858.319555}'}
2025-09-03 14:24:19,329 - services.external_task_worker - INFO - Successfully completed task 343e8bc9-88f3-11f0-bc34-0242ac160003
2025-09-03 14:24:19,340 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:24:19,340 - services.external_task_worker - INFO - Executing task 34d43c34-88f3-11f0-bc34-0242ac160003 for topic retrieve-context
2025-09-03 14:24:19,340 - services.external_task_worker - INFO - Task variables: {'user_query': 'What safety procedures should be followed?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923858.319555}', 'processed_query': '{"original_query": "What safety procedures should be followed?", "cleaned_query": "What safety procedures should be followed?", "key_terms": ["what", "safety", "procedures", "followed"], "question_intent": ["what"], "query_type": "question", "domain_terms": ["should"], "word_count": 6, "char_count": 42, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923858.319555}, "processing_timestamp": 1756923859.3178687}', 'search_parameters': '{"primary_terms": ["what", "safety", "procedures", "followed"], "secondary_terms": [], "search_boost_terms": ["should"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:24:19,343 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-03 14:24:19,398 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-03 14:24:19,406 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-03 14:24:19,407 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-03 14:24:19,426 - services.embedding_service - INFO - Embedding service initialized
2025-09-03 14:24:19,426 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-03 14:24:19,427 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cuda:0
2025-09-03 14:24:19,427 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-03 14:24:20,595 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-03 14:24:20,605 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-03 14:24:20,613 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-03 14:24:20,613 - services.qdrant_service - INFO - Found 5 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-03 14:24:20,613 - services.qdrant_service - INFO - Found 5 similar chunks for query: 'What safety procedures should be followed?...'
2025-09-03 14:24:20,661 - services.external_task_worker - INFO - Successfully completed task 34d43c34-88f3-11f0-bc34-0242ac160003
2025-09-03 14:24:20,669 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:24:20,669 - services.external_task_worker - INFO - Executing task 359fa298-88f3-11f0-bc34-0242ac160003 for topic rerank-context
2025-09-03 14:24:20,669 - services.external_task_worker - INFO - Task variables: {'user_query': 'What safety procedures should be followed?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923858.319555}', 'retrieved_chunks': '[{"chunk_id": "05087351-5cd1-4d1d-a711-96de15580877", "content": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimum 100m)", "source_document": "Safety Protocols", "similarity_score": 0.45991945, "chunk_metadata": {"chunk_id": "05087351-5cd1-4d1d-a711-96de15580877", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 51, "text": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimum 100m)", "content_preview": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimu...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "f7aea19c-4627-4849-bdea-f5668600f5fb", "content": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | Medium     | Major   | Action required within 24 hours |\\n| Medium     | Low        | Moderate| Action required within 1 week |\\n| Low        | Very Low   | Minor   | Monitor and review monthly |", "source_document": "Safety Protocols", "similarity_score": 0.45425004, "chunk_metadata": {"chunk_id": "f7aea19c-4627-4849-bdea-f5668600f5fb", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 10, "token_count": 98, "text": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | Medium     | Major   | Action required within 24 hours |\\n| Medium     | Low        | Moderate| Action required within 1 week |\\n| Low        | Very Low   | Minor   | Monitor and review monthly |", "content_preview": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | ...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "71331fe0-4b92-4e47-90a0-a7708353982d", "content": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance completion\\n- Document all maintenance activities in system logs", "source_document": "Safety Protocols", "similarity_score": 0.4409764, "chunk_metadata": {"chunk_id": "71331fe0-4b92-4e47-90a0-a7708353982d", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 8, "token_count": 65, "text": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance completion\\n- Document all maintenance activities in system logs", "content_preview": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance com...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.43016434, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "content": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "source_document": "Safety Protocols", "similarity_score": 0.40281257, "chunk_metadata": {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 3, "token_count": 55, "text": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "content_preview": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones ...", "source_asset": "Safety Protocols", "document_type": "safety"}}]', 'processed_query': '{"original_query": "What safety procedures should be followed?", "cleaned_query": "What safety procedures should be followed?", "key_terms": ["what", "safety", "procedures", "followed"], "question_intent": ["what"], "query_type": "question", "domain_terms": ["should"], "word_count": 6, "char_count": 42, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923858.319555}, "processing_timestamp": 1756923859.3178687}', 'search_parameters': '{"primary_terms": ["what", "safety", "procedures", "followed"], "secondary_terms": [], "search_boost_terms": ["should"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:24:20,679 - services.external_task_worker - INFO - Successfully completed task 359fa298-88f3-11f0-bc34-0242ac160003
2025-09-03 14:24:20,688 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:24:20,688 - services.external_task_worker - INFO - Executing task 35a288df-88f3-11f0-bc34-0242ac160003 for topic fallback-search
2025-09-03 14:24:20,688 - services.external_task_worker - INFO - Task variables: {'user_query': 'What safety procedures should be followed?', 'context_quality_score': 0.43762456, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923858.319555}', 'reranked_context': '[{"chunk_id": "05087351-5cd1-4d1d-a711-96de15580877", "content": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimum 100m)", "source_document": "Safety Protocols", "similarity_score": 0.45991945, "chunk_metadata": {"chunk_id": "05087351-5cd1-4d1d-a711-96de15580877", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 51, "text": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimum 100m)", "content_preview": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimu...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "f7aea19c-4627-4849-bdea-f5668600f5fb", "content": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | Medium     | Major   | Action required within 24 hours |\\n| Medium     | Low        | Moderate| Action required within 1 week |\\n| Low        | Very Low   | Minor   | Monitor and review monthly |", "source_document": "Safety Protocols", "similarity_score": 0.45425004, "chunk_metadata": {"chunk_id": "f7aea19c-4627-4849-bdea-f5668600f5fb", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 10, "token_count": 98, "text": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | Medium     | Major   | Action required within 24 hours |\\n| Medium     | Low        | Moderate| Action required within 1 week |\\n| Low        | Very Low   | Minor   | Monitor and review monthly |", "content_preview": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | ...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "71331fe0-4b92-4e47-90a0-a7708353982d", "content": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance completion\\n- Document all maintenance activities in system logs", "source_document": "Safety Protocols", "similarity_score": 0.4409764, "chunk_metadata": {"chunk_id": "71331fe0-4b92-4e47-90a0-a7708353982d", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 8, "token_count": 65, "text": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance completion\\n- Document all maintenance activities in system logs", "content_preview": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance com...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.43016434, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "content": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "source_document": "Safety Protocols", "similarity_score": 0.40281257, "chunk_metadata": {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 3, "token_count": 55, "text": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "content_preview": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones ...", "source_asset": "Safety Protocols", "document_type": "safety"}}]', 'retrieved_chunks': '[{"chunk_id": "05087351-5cd1-4d1d-a711-96de15580877", "content": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimum 100m)", "source_document": "Safety Protocols", "similarity_score": 0.45991945, "chunk_metadata": {"chunk_id": "05087351-5cd1-4d1d-a711-96de15580877", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 51, "text": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimum 100m)", "content_preview": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimu...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "f7aea19c-4627-4849-bdea-f5668600f5fb", "content": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | Medium     | Major   | Action required within 24 hours |\\n| Medium     | Low        | Moderate| Action required within 1 week |\\n| Low        | Very Low   | Minor   | Monitor and review monthly |", "source_document": "Safety Protocols", "similarity_score": 0.45425004, "chunk_metadata": {"chunk_id": "f7aea19c-4627-4849-bdea-f5668600f5fb", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 10, "token_count": 98, "text": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | Medium     | Major   | Action required within 24 hours |\\n| Medium     | Low        | Moderate| Action required within 1 week |\\n| Low        | Very Low   | Minor   | Monitor and review monthly |", "content_preview": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | ...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "71331fe0-4b92-4e47-90a0-a7708353982d", "content": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance completion\\n- Document all maintenance activities in system logs", "source_document": "Safety Protocols", "similarity_score": 0.4409764, "chunk_metadata": {"chunk_id": "71331fe0-4b92-4e47-90a0-a7708353982d", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 8, "token_count": 65, "text": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance completion\\n- Document all maintenance activities in system logs", "content_preview": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance com...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.43016434, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "content": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "source_document": "Safety Protocols", "similarity_score": 0.40281257, "chunk_metadata": {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 3, "token_count": 55, "text": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "content_preview": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones ...", "source_asset": "Safety Protocols", "document_type": "safety"}}]', 'processed_query': '{"original_query": "What safety procedures should be followed?", "cleaned_query": "What safety procedures should be followed?", "key_terms": ["what", "safety", "procedures", "followed"], "question_intent": ["what"], "query_type": "question", "domain_terms": ["should"], "word_count": 6, "char_count": 42, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923858.319555}, "processing_timestamp": 1756923859.3178687}', 'search_parameters': '{"primary_terms": ["what", "safety", "procedures", "followed"], "secondary_terms": [], "search_boost_terms": ["should"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:24:20,697 - services.external_task_worker - INFO - Successfully completed task 35a288df-88f3-11f0-bc34-0242ac160003
2025-09-03 14:24:20,705 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:24:20,706 - services.external_task_worker - INFO - Executing task 35a54814-88f3-11f0-bc34-0242ac160003 for topic construct-prompt
2025-09-03 14:24:20,706 - services.external_task_worker - INFO - Task variables: {'user_query': 'What safety procedures should be followed?', 'context_quality_score': 0.43762456, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923858.319555}', 'reranked_context': '[{"chunk_id": "05087351-5cd1-4d1d-a711-96de15580877", "content": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimum 100m)", "source_document": "Safety Protocols", "similarity_score": 0.45991945, "chunk_metadata": {"chunk_id": "05087351-5cd1-4d1d-a711-96de15580877", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 51, "text": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimum 100m)", "content_preview": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimu...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "f7aea19c-4627-4849-bdea-f5668600f5fb", "content": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | Medium     | Major   | Action required within 24 hours |\\n| Medium     | Low        | Moderate| Action required within 1 week |\\n| Low        | Very Low   | Minor   | Monitor and review monthly |", "source_document": "Safety Protocols", "similarity_score": 0.45425004, "chunk_metadata": {"chunk_id": "f7aea19c-4627-4849-bdea-f5668600f5fb", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 10, "token_count": 98, "text": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | Medium     | Major   | Action required within 24 hours |\\n| Medium     | Low        | Moderate| Action required within 1 week |\\n| Low        | Very Low   | Minor   | Monitor and review monthly |", "content_preview": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | ...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "71331fe0-4b92-4e47-90a0-a7708353982d", "content": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance completion\\n- Document all maintenance activities in system logs", "source_document": "Safety Protocols", "similarity_score": 0.4409764, "chunk_metadata": {"chunk_id": "71331fe0-4b92-4e47-90a0-a7708353982d", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 8, "token_count": 65, "text": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance completion\\n- Document all maintenance activities in system logs", "content_preview": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance com...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.43016434, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "content": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "source_document": "Safety Protocols", "similarity_score": 0.40281257, "chunk_metadata": {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 3, "token_count": 55, "text": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "content_preview": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones ...", "source_asset": "Safety Protocols", "document_type": "safety"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What safety procedures should be followed?", "cleaned_query": "What safety procedures should be followed?", "key_terms": ["what", "safety", "procedures", "followed"], "question_intent": ["what"], "query_type": "question", "domain_terms": ["should"], "word_count": 6, "char_count": 42, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923858.319555}, "processing_timestamp": 1756923859.3178687}', 'search_parameters': '{"primary_terms": ["what", "safety", "procedures", "followed"], "secondary_terms": [], "search_boost_terms": ["should"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:24:20,714 - services.external_task_worker - INFO - Successfully completed task 35a54814-88f3-11f0-bc34-0242ac160003
2025-09-03 14:24:20,721 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:24:20,721 - services.external_task_worker - INFO - Executing task 35a7b927-88f3-11f0-bc34-0242ac160003 for topic llm-generation
2025-09-03 14:24:20,721 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.1 Normal Operations\n- Maintain continuous monitoring of all systems\n- Report position updates every 15 minutes\n- Monitor fuel/power consumption rates\n- Maintain safe separation distances (minimum 100m)\n[Context 2]: | Risk Level | Probability | Impact | Mitigation Required |\n|------------|-------------|---------|-------------------|\n| Critical   | High       | Severe  | Immediate action required |\n| High       | Medium     | Major   | Action required within 24 hours |\n| Medium     | Low        | Moderate| Action required within 1 week |\n| Low        | Very Low   | Minor   | Monitor and review monthly |\n[Context 3]: ### 3.1 Routine Maintenance\n- All maintenance SHALL be performed by certified personnel only\n- Use proper lockout/tagout procedures during maintenance\n- Verify all safety systems after maintenance completion\n- Document all maintenance activities in system logs\n\nUser Question: What safety procedures should be followed?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What safety procedures should be followed?', 'context_quality_score': 0.43762456, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923858.319555}', 'reranked_context': '[{"chunk_id": "05087351-5cd1-4d1d-a711-96de15580877", "content": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimum 100m)", "source_document": "Safety Protocols", "similarity_score": 0.45991945, "chunk_metadata": {"chunk_id": "05087351-5cd1-4d1d-a711-96de15580877", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 51, "text": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimum 100m)", "content_preview": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimu...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "f7aea19c-4627-4849-bdea-f5668600f5fb", "content": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | Medium     | Major   | Action required within 24 hours |\\n| Medium     | Low        | Moderate| Action required within 1 week |\\n| Low        | Very Low   | Minor   | Monitor and review monthly |", "source_document": "Safety Protocols", "similarity_score": 0.45425004, "chunk_metadata": {"chunk_id": "f7aea19c-4627-4849-bdea-f5668600f5fb", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 10, "token_count": 98, "text": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | Medium     | Major   | Action required within 24 hours |\\n| Medium     | Low        | Moderate| Action required within 1 week |\\n| Low        | Very Low   | Minor   | Monitor and review monthly |", "content_preview": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | ...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "71331fe0-4b92-4e47-90a0-a7708353982d", "content": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance completion\\n- Document all maintenance activities in system logs", "source_document": "Safety Protocols", "similarity_score": 0.4409764, "chunk_metadata": {"chunk_id": "71331fe0-4b92-4e47-90a0-a7708353982d", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 8, "token_count": 65, "text": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance completion\\n- Document all maintenance activities in system logs", "content_preview": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance com...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.43016434, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "content": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "source_document": "Safety Protocols", "similarity_score": 0.40281257, "chunk_metadata": {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 3, "token_count": 55, "text": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "content_preview": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones ...", "source_asset": "Safety Protocols", "document_type": "safety"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What safety procedures should be followed?", "cleaned_query": "What safety procedures should be followed?", "key_terms": ["what", "safety", "procedures", "followed"], "question_intent": ["what"], "query_type": "question", "domain_terms": ["should"], "word_count": 6, "char_count": 42, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923858.319555}, "processing_timestamp": 1756923859.3178687}', 'search_parameters': '{"primary_terms": ["what", "safety", "procedures", "followed"], "secondary_terms": [], "search_boost_terms": ["should"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:24:20,730 - services.external_task_worker - INFO - Successfully completed task 35a7b927-88f3-11f0-bc34-0242ac160003
2025-09-03 14:24:20,737 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:24:20,737 - services.external_task_worker - INFO - Executing task 35aa2a38-88f3-11f0-bc34-0242ac160003 for topic process-response
2025-09-03 14:24:20,737 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.1 Normal Operations\n- Maintain continuous monitoring of all systems\n- Report position updates every 15 minutes\n- Monitor fuel/power consumption rates\n- Maintain safe separation distances (minimum 100m)\n[Context 2]: | Risk Level | Probability | Impact | Mitigation Required |\n|------------|-------------|---------|-------------------|\n| Critical   | High       | Severe  | Immediate action required |\n| High       | Medium     | Major   | Action required within 24 hours |\n| Medium     | Low        | Moderate| Action required within 1 week |\n| Low        | Very Low   | Minor   | Monitor and review monthly |\n[Context 3]: ### 3.1 Routine Maintenance\n- All maintenance SHALL be performed by certified personnel only\n- Use proper lockout/tagout procedures during maintenance\n- Verify all safety systems after maintenance completion\n- Document all maintenance activities in system logs\n\nUser Question: What safety procedures should be followed?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What safety procedures should be followed?', 'context_quality_score': 0.43762456, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923858.319555}', 'reranked_context': '[{"chunk_id": "05087351-5cd1-4d1d-a711-96de15580877", "content": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimum 100m)", "source_document": "Safety Protocols", "similarity_score": 0.45991945, "chunk_metadata": {"chunk_id": "05087351-5cd1-4d1d-a711-96de15580877", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 51, "text": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimum 100m)", "content_preview": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimu...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "f7aea19c-4627-4849-bdea-f5668600f5fb", "content": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | Medium     | Major   | Action required within 24 hours |\\n| Medium     | Low        | Moderate| Action required within 1 week |\\n| Low        | Very Low   | Minor   | Monitor and review monthly |", "source_document": "Safety Protocols", "similarity_score": 0.45425004, "chunk_metadata": {"chunk_id": "f7aea19c-4627-4849-bdea-f5668600f5fb", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 10, "token_count": 98, "text": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | Medium     | Major   | Action required within 24 hours |\\n| Medium     | Low        | Moderate| Action required within 1 week |\\n| Low        | Very Low   | Minor   | Monitor and review monthly |", "content_preview": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | ...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "71331fe0-4b92-4e47-90a0-a7708353982d", "content": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance completion\\n- Document all maintenance activities in system logs", "source_document": "Safety Protocols", "similarity_score": 0.4409764, "chunk_metadata": {"chunk_id": "71331fe0-4b92-4e47-90a0-a7708353982d", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 8, "token_count": 65, "text": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance completion\\n- Document all maintenance activities in system logs", "content_preview": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance com...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.43016434, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "content": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "source_document": "Safety Protocols", "similarity_score": 0.40281257, "chunk_metadata": {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 3, "token_count": 55, "text": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "content_preview": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones ...", "source_asset": "Safety Protocols", "document_type": "safety"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What safety procedures should be followed?", "cleaned_query": "What safety procedures should be followed?", "key_terms": ["what", "safety", "procedures", "followed"], "question_intent": ["what"], "query_type": "question", "domain_terms": ["should"], "word_count": 6, "char_count": 42, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923858.319555}, "processing_timestamp": 1756923859.3178687}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 2.1 Normal Operations\n- Maintain continuous monitoring of all systems\n- Report position updates every 15 minutes\n- Monitor fuel/power consumption rates\n- Maintain safe separation distances (minimum 100m)\n[Context 2]: | Risk Level | Probability | Impact | Mitigation Required |\n|------------|-------------|---------|-------------------|\n| Critical   | High       | Severe  | Immediate action required |\n| High       | Medium     | Major   | Action required within 24 hours |\n| Medium     | Low        | Moderate| Action required within 1 week |\n| Low        | Very Low   | Minor   | Monitor and review monthly |\n[Context 3]: ### 3.1 Routine Maintenance\n- All maintenance SHALL be performed by certified personnel only\n- Use proper lockout/tagout procedures during maintenance\n- Verify all safety systems after maintenance completion\n- Document all maintenance activities in system logs\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["what", "safety", "procedures", "followed"], "secondary_terms": [], "search_boost_terms": ["should"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:24:20,745 - services.external_task_worker - INFO - Successfully completed task 35aa2a38-88f3-11f0-bc34-0242ac160003
2025-09-03 14:24:20,752 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:24:20,752 - services.external_task_worker - INFO - Executing task 35ac9b4e-88f3-11f0-bc34-0242ac160003 for topic log-interaction
2025-09-03 14:24:20,752 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.1 Normal Operations\n- Maintain continuous monitoring of all systems\n- Report position updates every 15 minutes\n- Monitor fuel/power consumption rates\n- Maintain safe separation distances (minimum 100m)\n[Context 2]: | Risk Level | Probability | Impact | Mitigation Required |\n|------------|-------------|---------|-------------------|\n| Critical   | High       | Severe  | Immediate action required |\n| High       | Medium     | Major   | Action required within 24 hours |\n| Medium     | Low        | Moderate| Action required within 1 week |\n| Low        | Very Low   | Minor   | Monitor and review monthly |\n[Context 3]: ### 3.1 Routine Maintenance\n- All maintenance SHALL be performed by certified personnel only\n- Use proper lockout/tagout procedures during maintenance\n- Verify all safety systems after maintenance completion\n- Document all maintenance activities in system logs\n\nUser Question: What safety procedures should be followed?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What safety procedures should be followed?', 'context_quality_score': 0.43762456, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923858.319555}', 'reranked_context': '[{"chunk_id": "05087351-5cd1-4d1d-a711-96de15580877", "content": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimum 100m)", "source_document": "Safety Protocols", "similarity_score": 0.45991945, "chunk_metadata": {"chunk_id": "05087351-5cd1-4d1d-a711-96de15580877", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 51, "text": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimum 100m)", "content_preview": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimu...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "f7aea19c-4627-4849-bdea-f5668600f5fb", "content": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | Medium     | Major   | Action required within 24 hours |\\n| Medium     | Low        | Moderate| Action required within 1 week |\\n| Low        | Very Low   | Minor   | Monitor and review monthly |", "source_document": "Safety Protocols", "similarity_score": 0.45425004, "chunk_metadata": {"chunk_id": "f7aea19c-4627-4849-bdea-f5668600f5fb", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 10, "token_count": 98, "text": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | Medium     | Major   | Action required within 24 hours |\\n| Medium     | Low        | Moderate| Action required within 1 week |\\n| Low        | Very Low   | Minor   | Monitor and review monthly |", "content_preview": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | ...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "71331fe0-4b92-4e47-90a0-a7708353982d", "content": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance completion\\n- Document all maintenance activities in system logs", "source_document": "Safety Protocols", "similarity_score": 0.4409764, "chunk_metadata": {"chunk_id": "71331fe0-4b92-4e47-90a0-a7708353982d", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 8, "token_count": 65, "text": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance completion\\n- Document all maintenance activities in system logs", "content_preview": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance com...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.43016434, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "content": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "source_document": "Safety Protocols", "similarity_score": 0.40281257, "chunk_metadata": {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 3, "token_count": 55, "text": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "content_preview": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones ...", "source_asset": "Safety Protocols", "document_type": "safety"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 2.1 Normal Operations\n- Maintain continuous monitoring of all systems\n- Report position updates every 15 minutes\n- Monitor fuel/power consumption rates\n- Maintain safe separation distances (minimum 100m)\n[Context 2]: | Risk Level | Probability | Impact | Mitigation Required |\n|------------|-------------|---------|-------------------|\n| Critical   | High       | Severe  | Immediate action required |\n| High       | Medium     | Major   | Action required within 24 hours |\n| Medium     | Low        | Moderate| Action required within 1 week |\n| Low        | Very Low   | Minor   | Monitor and review monthly |\n[Context 3]: ### 3.1 Routine Maintenance\n- All maintenance SHALL be performed by certified personnel only\n- Use proper lockout/tagout procedures during maintenance\n- Verify all safety systems after maintenance completion\n- Document all maintenance activities in system logs\n\nThis response is based on the relevant documentation found in your knowledge assets.\n\nSources:\n[1] Safety Protocols\n[2] Safety Protocols\n[3] Safety Protocols\n', 'processed_query': '{"original_query": "What safety procedures should be followed?", "cleaned_query": "What safety procedures should be followed?", "key_terms": ["what", "safety", "procedures", "followed"], "question_intent": ["what"], "query_type": "question", "domain_terms": ["should"], "word_count": 6, "char_count": 42, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923858.319555}, "processing_timestamp": 1756923859.3178687}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 2.1 Normal Operations\n- Maintain continuous monitoring of all systems\n- Report position updates every 15 minutes\n- Monitor fuel/power consumption rates\n- Maintain safe separation distances (minimum 100m)\n[Context 2]: | Risk Level | Probability | Impact | Mitigation Required |\n|------------|-------------|---------|-------------------|\n| Critical   | High       | Severe  | Immediate action required |\n| High       | Medium     | Major   | Action required within 24 hours |\n| Medium     | Low        | Moderate| Action required within 1 week |\n| Low        | Very Low   | Minor   | Monitor and review monthly |\n[Context 3]: ### 3.1 Routine Maintenance\n- All maintenance SHALL be performed by certified personnel only\n- Use proper lockout/tagout procedures during maintenance\n- Verify all safety systems after maintenance completion\n- Document all maintenance activities in system logs\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["what", "safety", "procedures", "followed"], "secondary_terms": [], "search_boost_terms": ["should"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:24:20,764 - services.external_task_worker - INFO - Successfully completed task 35ac9b4e-88f3-11f0-bc34-0242ac160003
2025-09-03 14:24:24,809 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:24:24,809 - services.external_task_worker - INFO - Executing task 381201a8-88f3-11f0-bc34-0242ac160003 for topic process-user-query
2025-09-03 14:24:24,809 - services.external_task_worker - INFO - Task variables: {'user_query': 'For Hardware Components what is our memory requirements', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923864.7359197}'}
2025-09-03 14:24:24,817 - services.external_task_worker - INFO - Successfully completed task 381201a8-88f3-11f0-bc34-0242ac160003
2025-09-03 14:24:24,826 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:24:24,826 - services.external_task_worker - INFO - Executing task 3819c9f3-88f3-11f0-bc34-0242ac160003 for topic retrieve-context
2025-09-03 14:24:24,826 - services.external_task_worker - INFO - Task variables: {'user_query': 'For Hardware Components what is our memory requirements', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923864.7359197}', 'processed_query': '{"original_query": "For Hardware Components what is our memory requirements", "cleaned_query": "For Hardware Components what is our memory requirements", "key_terms": ["hardware", "components", "what", "our", "memory", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements"], "word_count": 8, "char_count": 55, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923864.7359197}, "processing_timestamp": 1756923864.8094265}', 'search_parameters': '{"primary_terms": ["hardware", "components", "what", "our", "memory"], "secondary_terms": ["requirements"], "search_boost_terms": ["requirements"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:24:24,829 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-03 14:24:24,877 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-03 14:24:24,881 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-03 14:24:24,882 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-03 14:24:24,898 - services.embedding_service - INFO - Embedding service initialized
2025-09-03 14:24:24,898 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-03 14:24:24,899 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cuda:0
2025-09-03 14:24:24,899 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-03 14:24:26,099 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-03 14:24:26,110 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-03 14:24:26,136 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-03 14:24:26,137 - services.qdrant_service - INFO - Found 2 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-03 14:24:26,137 - services.qdrant_service - INFO - Found 2 similar chunks for query: 'For Hardware Components what is our memory require...'
2025-09-03 14:24:26,186 - services.external_task_worker - INFO - Successfully completed task 3819c9f3-88f3-11f0-bc34-0242ac160003
2025-09-03 14:24:26,195 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:24:26,195 - services.external_task_worker - INFO - Executing task 38eaae97-88f3-11f0-bc34-0242ac160003 for topic rerank-context
2025-09-03 14:24:26,196 - services.external_task_worker - INFO - Task variables: {'user_query': 'For Hardware Components what is our memory requirements', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923864.7359197}', 'retrieved_chunks': '[{"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.54837537, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "content": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "source_document": "Technical Specifications", "similarity_score": 0.4863008, "chunk_metadata": {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 6, "token_count": 74, "text": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "content_preview": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write ...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'processed_query': '{"original_query": "For Hardware Components what is our memory requirements", "cleaned_query": "For Hardware Components what is our memory requirements", "key_terms": ["hardware", "components", "what", "our", "memory", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements"], "word_count": 8, "char_count": 55, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923864.7359197}, "processing_timestamp": 1756923864.8094265}', 'search_parameters': '{"primary_terms": ["hardware", "components", "what", "our", "memory"], "secondary_terms": ["requirements"], "search_boost_terms": ["requirements"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:24:26,204 - services.external_task_worker - INFO - Successfully completed task 38eaae97-88f3-11f0-bc34-0242ac160003
2025-09-03 14:24:26,213 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:24:26,214 - services.external_task_worker - INFO - Executing task 38ed6dce-88f3-11f0-bc34-0242ac160003 for topic fallback-search
2025-09-03 14:24:26,214 - services.external_task_worker - INFO - Task variables: {'user_query': 'For Hardware Components what is our memory requirements', 'context_quality_score': 0.517338085, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923864.7359197}', 'reranked_context': '[{"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.54837537, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "content": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "source_document": "Technical Specifications", "similarity_score": 0.4863008, "chunk_metadata": {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 6, "token_count": 74, "text": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "content_preview": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write ...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.54837537, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "content": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "source_document": "Technical Specifications", "similarity_score": 0.4863008, "chunk_metadata": {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 6, "token_count": 74, "text": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "content_preview": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write ...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'processed_query': '{"original_query": "For Hardware Components what is our memory requirements", "cleaned_query": "For Hardware Components what is our memory requirements", "key_terms": ["hardware", "components", "what", "our", "memory", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements"], "word_count": 8, "char_count": 55, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923864.7359197}, "processing_timestamp": 1756923864.8094265}', 'search_parameters': '{"primary_terms": ["hardware", "components", "what", "our", "memory"], "secondary_terms": ["requirements"], "search_boost_terms": ["requirements"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:24:26,222 - services.external_task_worker - INFO - Successfully completed task 38ed6dce-88f3-11f0-bc34-0242ac160003
2025-09-03 14:24:26,231 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:24:26,231 - services.external_task_worker - INFO - Executing task 38f02d03-88f3-11f0-bc34-0242ac160003 for topic construct-prompt
2025-09-03 14:24:26,231 - services.external_task_worker - INFO - Task variables: {'user_query': 'For Hardware Components what is our memory requirements', 'context_quality_score': 0.517338085, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923864.7359197}', 'reranked_context': '[{"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.54837537, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "content": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "source_document": "Technical Specifications", "similarity_score": 0.4863008, "chunk_metadata": {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 6, "token_count": 74, "text": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "content_preview": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write ...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "For Hardware Components what is our memory requirements", "cleaned_query": "For Hardware Components what is our memory requirements", "key_terms": ["hardware", "components", "what", "our", "memory", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements"], "word_count": 8, "char_count": 55, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923864.7359197}, "processing_timestamp": 1756923864.8094265}', 'search_parameters': '{"primary_terms": ["hardware", "components", "what", "our", "memory"], "secondary_terms": ["requirements"], "search_boost_terms": ["requirements"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:24:26,242 - services.external_task_worker - INFO - Successfully completed task 38f02d03-88f3-11f0-bc34-0242ac160003
2025-09-03 14:24:26,249 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:24:26,249 - services.external_task_worker - INFO - Executing task 38f2ec36-88f3-11f0-bc34-0242ac160003 for topic llm-generation
2025-09-03 14:24:26,249 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': 'You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 1.1 Hardware Components\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\n- **Display**: 15.6" 1920x1080 sunlight-readable LCD touchscreen\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)\n[Context 2]: ### 3.1 Processing Performance\n- **CPU Utilization**: Maximum 80% under normal load\n- **Memory Usage**: Maximum 12 GB under normal operations\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications\n\nUser Question: For Hardware Components what is our memory requirements\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn\'t contain enough information to fully answer the question, acknowledge this and provide what information you can.', 'user_query': 'For Hardware Components what is our memory requirements', 'context_quality_score': 0.517338085, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923864.7359197}', 'reranked_context': '[{"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.54837537, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "content": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "source_document": "Technical Specifications", "similarity_score": 0.4863008, "chunk_metadata": {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 6, "token_count": 74, "text": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "content_preview": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write ...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "For Hardware Components what is our memory requirements", "cleaned_query": "For Hardware Components what is our memory requirements", "key_terms": ["hardware", "components", "what", "our", "memory", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements"], "word_count": 8, "char_count": 55, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923864.7359197}, "processing_timestamp": 1756923864.8094265}', 'search_parameters': '{"primary_terms": ["hardware", "components", "what", "our", "memory"], "secondary_terms": ["requirements"], "search_boost_terms": ["requirements"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:24:26,260 - services.external_task_worker - INFO - Successfully completed task 38f2ec36-88f3-11f0-bc34-0242ac160003
2025-09-03 14:24:26,268 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:24:26,268 - services.external_task_worker - INFO - Executing task 38f5d277-88f3-11f0-bc34-0242ac160003 for topic process-response
2025-09-03 14:24:26,269 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': 'You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 1.1 Hardware Components\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\n- **Display**: 15.6" 1920x1080 sunlight-readable LCD touchscreen\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)\n[Context 2]: ### 3.1 Processing Performance\n- **CPU Utilization**: Maximum 80% under normal load\n- **Memory Usage**: Maximum 12 GB under normal operations\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications\n\nUser Question: For Hardware Components what is our memory requirements\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn\'t contain enough information to fully answer the question, acknowledge this and provide what information you can.', 'user_query': 'For Hardware Components what is our memory requirements', 'context_quality_score': 0.517338085, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923864.7359197}', 'reranked_context': '[{"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.54837537, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "content": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "source_document": "Technical Specifications", "similarity_score": 0.4863008, "chunk_metadata": {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 6, "token_count": 74, "text": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "content_preview": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write ...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "For Hardware Components what is our memory requirements", "cleaned_query": "For Hardware Components what is our memory requirements", "key_terms": ["hardware", "components", "what", "our", "memory", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements"], "word_count": 8, "char_count": 55, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923864.7359197}, "processing_timestamp": 1756923864.8094265}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 1.1 Hardware Components\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\n- **Display**: 15.6" 1920x1080 sunlight-readable LCD touchscreen\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)\n[Context 2]: ### 3.1 Processing Performance\n- **CPU Utilization**: Maximum 80% under normal load\n- **Memory Usage**: Maximum 12 GB under normal operations\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["hardware", "components", "what", "our", "memory"], "secondary_terms": ["requirements"], "search_boost_terms": ["requirements"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:24:26,278 - services.external_task_worker - INFO - Successfully completed task 38f5d277-88f3-11f0-bc34-0242ac160003
2025-09-03 14:24:26,288 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:24:26,288 - services.external_task_worker - INFO - Executing task 38f8dfcd-88f3-11f0-bc34-0242ac160003 for topic log-interaction
2025-09-03 14:24:26,288 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': 'You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 1.1 Hardware Components\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\n- **Display**: 15.6" 1920x1080 sunlight-readable LCD touchscreen\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)\n[Context 2]: ### 3.1 Processing Performance\n- **CPU Utilization**: Maximum 80% under normal load\n- **Memory Usage**: Maximum 12 GB under normal operations\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications\n\nUser Question: For Hardware Components what is our memory requirements\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn\'t contain enough information to fully answer the question, acknowledge this and provide what information you can.', 'user_query': 'For Hardware Components what is our memory requirements', 'context_quality_score': 0.517338085, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923864.7359197}', 'reranked_context': '[{"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.54837537, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "content": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "source_document": "Technical Specifications", "similarity_score": 0.4863008, "chunk_metadata": {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 6, "token_count": 74, "text": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "content_preview": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write ...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 1.1 Hardware Components\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\n- **Display**: 15.6" 1920x1080 sunlight-readable LCD touchscreen\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)\n[Context 2]: ### 3.1 Processing Performance\n- **CPU Utilization**: Maximum 80% under normal load\n- **Memory Usage**: Maximum 12 GB under normal operations\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications\n\nThis response is based on the relevant documentation found in your knowledge assets.\n\nSources:\n[1] Technical Specifications\n[2] Technical Specifications\n', 'processed_query': '{"original_query": "For Hardware Components what is our memory requirements", "cleaned_query": "For Hardware Components what is our memory requirements", "key_terms": ["hardware", "components", "what", "our", "memory", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements"], "word_count": 8, "char_count": 55, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923864.7359197}, "processing_timestamp": 1756923864.8094265}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 1.1 Hardware Components\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\n- **Display**: 15.6" 1920x1080 sunlight-readable LCD touchscreen\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)\n[Context 2]: ### 3.1 Processing Performance\n- **CPU Utilization**: Maximum 80% under normal load\n- **Memory Usage**: Maximum 12 GB under normal operations\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["hardware", "components", "what", "our", "memory"], "secondary_terms": ["requirements"], "search_boost_terms": ["requirements"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:24:26,301 - services.external_task_worker - INFO - Successfully completed task 38f8dfcd-88f3-11f0-bc34-0242ac160003
2025-09-03 14:24:31,371 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:24:31,372 - services.external_task_worker - INFO - Executing task 3b6fd357-88f3-11f0-bc34-0242ac160003 for topic process-user-query
2025-09-03 14:24:31,372 - services.external_task_worker - INFO - Task variables: {'user_query': 'What frequency does the Communication Interfaces operate at?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923870.3850436}'}
2025-09-03 14:24:31,380 - services.external_task_worker - INFO - Successfully completed task 3b6fd357-88f3-11f0-bc34-0242ac160003
2025-09-03 14:24:31,386 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:24:31,386 - services.external_task_worker - INFO - Executing task 3c0360e2-88f3-11f0-bc34-0242ac160003 for topic retrieve-context
2025-09-03 14:24:31,387 - services.external_task_worker - INFO - Task variables: {'user_query': 'What frequency does the Communication Interfaces operate at?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923870.3850436}', 'processed_query': '{"original_query": "What frequency does the Communication Interfaces operate at?", "cleaned_query": "What frequency does the Communication Interfaces operate at?", "key_terms": ["what", "frequency", "communication", "interfaces", "operate"], "question_intent": ["what"], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 60, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923870.3850436}, "processing_timestamp": 1756923871.3723474}', 'search_parameters': '{"primary_terms": ["what", "frequency", "communication", "interfaces", "operate"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:24:31,389 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-03 14:24:31,434 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-03 14:24:31,439 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-03 14:24:31,439 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-03 14:24:31,454 - services.embedding_service - INFO - Embedding service initialized
2025-09-03 14:24:31,454 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-03 14:24:31,454 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cuda:0
2025-09-03 14:24:31,455 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-03 14:24:32,489 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-03 14:24:32,497 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-03 14:24:32,503 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-03 14:24:32,504 - services.qdrant_service - INFO - Found 2 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-03 14:24:32,504 - services.qdrant_service - INFO - Found 2 similar chunks for query: 'What frequency does the Communication Interfaces o...'
2025-09-03 14:24:32,523 - services.external_task_worker - INFO - Successfully completed task 3c0360e2-88f3-11f0-bc34-0242ac160003
2025-09-03 14:24:32,529 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:24:32,530 - services.external_task_worker - INFO - Executing task 3cb1a256-88f3-11f0-bc34-0242ac160003 for topic rerank-context
2025-09-03 14:24:32,530 - services.external_task_worker - INFO - Task variables: {'user_query': 'What frequency does the Communication Interfaces operate at?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923870.3850436}', 'retrieved_chunks': '[{"chunk_id": "a5b32041-e552-4e96-b3b4-3dec69c325ae", "content": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface", "source_document": "Technical Specifications", "similarity_score": 0.5399632, "chunk_metadata": {"chunk_id": "a5b32041-e552-4e96-b3b4-3dec69c325ae", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 77, "text": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface", "content_preview": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "content": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "source_document": "Technical Specifications", "similarity_score": 0.433985, "chunk_metadata": {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 7, "token_count": 76, "text": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "content_preview": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'processed_query': '{"original_query": "What frequency does the Communication Interfaces operate at?", "cleaned_query": "What frequency does the Communication Interfaces operate at?", "key_terms": ["what", "frequency", "communication", "interfaces", "operate"], "question_intent": ["what"], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 60, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923870.3850436}, "processing_timestamp": 1756923871.3723474}', 'search_parameters': '{"primary_terms": ["what", "frequency", "communication", "interfaces", "operate"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:24:32,537 - services.external_task_worker - INFO - Successfully completed task 3cb1a256-88f3-11f0-bc34-0242ac160003
2025-09-03 14:24:32,544 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:24:32,544 - services.external_task_worker - INFO - Executing task 3cb3ec5d-88f3-11f0-bc34-0242ac160003 for topic fallback-search
2025-09-03 14:24:32,544 - services.external_task_worker - INFO - Task variables: {'user_query': 'What frequency does the Communication Interfaces operate at?', 'context_quality_score': 0.48697409999999997, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923870.3850436}', 'reranked_context': '[{"chunk_id": "a5b32041-e552-4e96-b3b4-3dec69c325ae", "content": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface", "source_document": "Technical Specifications", "similarity_score": 0.5399632, "chunk_metadata": {"chunk_id": "a5b32041-e552-4e96-b3b4-3dec69c325ae", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 77, "text": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface", "content_preview": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "content": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "source_document": "Technical Specifications", "similarity_score": 0.433985, "chunk_metadata": {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 7, "token_count": 76, "text": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "content_preview": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "a5b32041-e552-4e96-b3b4-3dec69c325ae", "content": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface", "source_document": "Technical Specifications", "similarity_score": 0.5399632, "chunk_metadata": {"chunk_id": "a5b32041-e552-4e96-b3b4-3dec69c325ae", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 77, "text": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface", "content_preview": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "content": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "source_document": "Technical Specifications", "similarity_score": 0.433985, "chunk_metadata": {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 7, "token_count": 76, "text": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "content_preview": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'processed_query': '{"original_query": "What frequency does the Communication Interfaces operate at?", "cleaned_query": "What frequency does the Communication Interfaces operate at?", "key_terms": ["what", "frequency", "communication", "interfaces", "operate"], "question_intent": ["what"], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 60, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923870.3850436}, "processing_timestamp": 1756923871.3723474}', 'search_parameters': '{"primary_terms": ["what", "frequency", "communication", "interfaces", "operate"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:24:32,551 - services.external_task_worker - INFO - Successfully completed task 3cb3ec5d-88f3-11f0-bc34-0242ac160003
2025-09-03 14:24:32,558 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:24:32,559 - services.external_task_worker - INFO - Executing task 3cb60e52-88f3-11f0-bc34-0242ac160003 for topic construct-prompt
2025-09-03 14:24:32,559 - services.external_task_worker - INFO - Task variables: {'user_query': 'What frequency does the Communication Interfaces operate at?', 'context_quality_score': 0.48697409999999997, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923870.3850436}', 'reranked_context': '[{"chunk_id": "a5b32041-e552-4e96-b3b4-3dec69c325ae", "content": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface", "source_document": "Technical Specifications", "similarity_score": 0.5399632, "chunk_metadata": {"chunk_id": "a5b32041-e552-4e96-b3b4-3dec69c325ae", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 77, "text": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface", "content_preview": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "content": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "source_document": "Technical Specifications", "similarity_score": 0.433985, "chunk_metadata": {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 7, "token_count": 76, "text": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "content_preview": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What frequency does the Communication Interfaces operate at?", "cleaned_query": "What frequency does the Communication Interfaces operate at?", "key_terms": ["what", "frequency", "communication", "interfaces", "operate"], "question_intent": ["what"], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 60, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923870.3850436}, "processing_timestamp": 1756923871.3723474}', 'search_parameters': '{"primary_terms": ["what", "frequency", "communication", "interfaces", "operate"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:24:32,567 - services.external_task_worker - INFO - Successfully completed task 3cb60e52-88f3-11f0-bc34-0242ac160003
2025-09-03 14:24:32,576 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:24:32,576 - services.external_task_worker - INFO - Executing task 3cb87f65-88f3-11f0-bc34-0242ac160003 for topic llm-generation
2025-09-03 14:24:32,576 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 1.2 Communication Interfaces\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\n- **Data Link**: 4G LTE cellular modem with failover to satellite\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface\n[Context 2]: ### 3.2 Real-time Requirements\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\n- **Command Response Time**: Maximum 100ms for user interface interactions\n- **Emergency Response**: Maximum 50ms for safety-critical alerts\n\nUser Question: What frequency does the Communication Interfaces operate at?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What frequency does the Communication Interfaces operate at?', 'context_quality_score': 0.48697409999999997, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923870.3850436}', 'reranked_context': '[{"chunk_id": "a5b32041-e552-4e96-b3b4-3dec69c325ae", "content": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface", "source_document": "Technical Specifications", "similarity_score": 0.5399632, "chunk_metadata": {"chunk_id": "a5b32041-e552-4e96-b3b4-3dec69c325ae", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 77, "text": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface", "content_preview": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "content": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "source_document": "Technical Specifications", "similarity_score": 0.433985, "chunk_metadata": {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 7, "token_count": 76, "text": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "content_preview": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What frequency does the Communication Interfaces operate at?", "cleaned_query": "What frequency does the Communication Interfaces operate at?", "key_terms": ["what", "frequency", "communication", "interfaces", "operate"], "question_intent": ["what"], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 60, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923870.3850436}, "processing_timestamp": 1756923871.3723474}', 'search_parameters': '{"primary_terms": ["what", "frequency", "communication", "interfaces", "operate"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:24:32,585 - services.external_task_worker - INFO - Successfully completed task 3cb87f65-88f3-11f0-bc34-0242ac160003
2025-09-03 14:24:32,594 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:24:32,594 - services.external_task_worker - INFO - Executing task 3cbb1786-88f3-11f0-bc34-0242ac160003 for topic process-response
2025-09-03 14:24:32,594 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 1.2 Communication Interfaces\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\n- **Data Link**: 4G LTE cellular modem with failover to satellite\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface\n[Context 2]: ### 3.2 Real-time Requirements\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\n- **Command Response Time**: Maximum 100ms for user interface interactions\n- **Emergency Response**: Maximum 50ms for safety-critical alerts\n\nUser Question: What frequency does the Communication Interfaces operate at?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What frequency does the Communication Interfaces operate at?', 'context_quality_score': 0.48697409999999997, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923870.3850436}', 'reranked_context': '[{"chunk_id": "a5b32041-e552-4e96-b3b4-3dec69c325ae", "content": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface", "source_document": "Technical Specifications", "similarity_score": 0.5399632, "chunk_metadata": {"chunk_id": "a5b32041-e552-4e96-b3b4-3dec69c325ae", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 77, "text": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface", "content_preview": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "content": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "source_document": "Technical Specifications", "similarity_score": 0.433985, "chunk_metadata": {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 7, "token_count": 76, "text": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "content_preview": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What frequency does the Communication Interfaces operate at?", "cleaned_query": "What frequency does the Communication Interfaces operate at?", "key_terms": ["what", "frequency", "communication", "interfaces", "operate"], "question_intent": ["what"], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 60, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923870.3850436}, "processing_timestamp": 1756923871.3723474}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 1.2 Communication Interfaces\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\n- **Data Link**: 4G LTE cellular modem with failover to satellite\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface\n[Context 2]: ### 3.2 Real-time Requirements\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\n- **Command Response Time**: Maximum 100ms for user interface interactions\n- **Emergency Response**: Maximum 50ms for safety-critical alerts\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["what", "frequency", "communication", "interfaces", "operate"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:24:32,603 - services.external_task_worker - INFO - Successfully completed task 3cbb1786-88f3-11f0-bc34-0242ac160003
2025-09-03 14:24:32,612 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:24:32,612 - services.external_task_worker - INFO - Executing task 3cbdafac-88f3-11f0-bc34-0242ac160003 for topic log-interaction
2025-09-03 14:24:32,612 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 1.2 Communication Interfaces\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\n- **Data Link**: 4G LTE cellular modem with failover to satellite\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface\n[Context 2]: ### 3.2 Real-time Requirements\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\n- **Command Response Time**: Maximum 100ms for user interface interactions\n- **Emergency Response**: Maximum 50ms for safety-critical alerts\n\nUser Question: What frequency does the Communication Interfaces operate at?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What frequency does the Communication Interfaces operate at?', 'context_quality_score': 0.48697409999999997, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923870.3850436}', 'reranked_context': '[{"chunk_id": "a5b32041-e552-4e96-b3b4-3dec69c325ae", "content": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface", "source_document": "Technical Specifications", "similarity_score": 0.5399632, "chunk_metadata": {"chunk_id": "a5b32041-e552-4e96-b3b4-3dec69c325ae", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 77, "text": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface", "content_preview": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "content": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "source_document": "Technical Specifications", "similarity_score": 0.433985, "chunk_metadata": {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 7, "token_count": 76, "text": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "content_preview": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 1.2 Communication Interfaces\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\n- **Data Link**: 4G LTE cellular modem with failover to satellite\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface\n[Context 2]: ### 3.2 Real-time Requirements\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\n- **Command Response Time**: Maximum 100ms for user interface interactions\n- **Emergency Response**: Maximum 50ms for safety-critical alerts\n\nThis response is based on the relevant documentation found in your knowledge assets.\n\nSources:\n[1] Technical Specifications\n[2] Technical Specifications\n', 'processed_query': '{"original_query": "What frequency does the Communication Interfaces operate at?", "cleaned_query": "What frequency does the Communication Interfaces operate at?", "key_terms": ["what", "frequency", "communication", "interfaces", "operate"], "question_intent": ["what"], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 60, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923870.3850436}, "processing_timestamp": 1756923871.3723474}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 1.2 Communication Interfaces\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\n- **Data Link**: 4G LTE cellular modem with failover to satellite\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface\n[Context 2]: ### 3.2 Real-time Requirements\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\n- **Command Response Time**: Maximum 100ms for user interface interactions\n- **Emergency Response**: Maximum 50ms for safety-critical alerts\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["what", "frequency", "communication", "interfaces", "operate"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:24:32,626 - services.external_task_worker - INFO - Successfully completed task 3cbdafac-88f3-11f0-bc34-0242ac160003
2025-09-03 14:24:33,456 - __main__ - INFO - Received signal 15, shutting down worker...
2025-09-03 14:25:18,241 - services.external_task_worker - INFO - Starting external task worker: odras-worker-1756923918
2025-09-03 14:25:34,402 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:25:34,403 - services.external_task_worker - INFO - Executing task 61814ec6-88f3-11f0-bc34-0242ac160003 for topic process-user-query
2025-09-03 14:25:34,403 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the navigation system requirements?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923934.2541115}'}
2025-09-03 14:25:34,411 - services.external_task_worker - INFO - Successfully completed task 61814ec6-88f3-11f0-bc34-0242ac160003
2025-09-03 14:25:34,417 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:25:34,417 - services.external_task_worker - INFO - Executing task 61952501-88f3-11f0-bc34-0242ac160003 for topic retrieve-context
2025-09-03 14:25:34,418 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the navigation system requirements?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923934.2541115}', 'processed_query': '{"original_query": "What are the navigation system requirements?", "cleaned_query": "What are the navigation system requirements?", "key_terms": ["what", "navigation", "system", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements", "system"], "word_count": 6, "char_count": 44, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923934.2541115}, "processing_timestamp": 1756923934.4033735}', 'search_parameters': '{"primary_terms": ["what", "navigation", "system", "requirements"], "secondary_terms": [], "search_boost_terms": ["requirements", "system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:25:34,429 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-03 14:25:34,501 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-03 14:25:34,513 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-03 14:25:34,514 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-03 14:25:34,543 - services.embedding_service - INFO - Embedding service initialized
2025-09-03 14:25:34,543 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-03 14:25:34,676 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cuda:0
2025-09-03 14:25:34,676 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-03 14:25:36,001 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-03 14:25:36,279 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-03 14:25:36,287 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-03 14:25:36,289 - services.qdrant_service - INFO - Found 10 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-03 14:25:36,289 - services.qdrant_service - INFO - Found 10 similar chunks for query: 'What are the navigation system requirements?...'
2025-09-03 14:25:36,374 - services.external_task_worker - INFO - Successfully completed task 61952501-88f3-11f0-bc34-0242ac160003
2025-09-03 14:25:36,388 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:25:36,389 - services.external_task_worker - INFO - Executing task 62bfe975-88f3-11f0-bc34-0242ac160003 for topic rerank-context
2025-09-03 14:25:36,389 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the navigation system requirements?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923934.2541115}', 'retrieved_chunks': '[{"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "content": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "source_document": "Navigation System Requirements", "similarity_score": 0.680192, "chunk_metadata": {"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 106, "text": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "content_preview": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint ...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "content": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "source_document": "Navigation System Requirements", "similarity_score": 0.6318933, "chunk_metadata": {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 102, "text": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "content_preview": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom leve...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "content": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "source_document": "Technical Specifications", "similarity_score": 0.60904396, "chunk_metadata": {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 86, "text": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "content_preview": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Pla...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.53267634, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.5096952, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "content": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "source_document": "Technical Specifications", "similarity_score": 0.47959125, "chunk_metadata": {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 7, "token_count": 76, "text": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "content_preview": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "06c184ad-d62e-4037-ae05-7399a54936e5", "content": "#### 2.2.1 System Failure Response\\n1. **Primary Navigation Failure**\\n   - Switch to backup navigation system immediately\\n   - Report failure to control station\\n   - Return to base using predetermined safe route\\n   - Do not continue mission without primary navigation", "source_document": "Safety Protocols", "similarity_score": 0.46008196, "chunk_metadata": {"chunk_id": "06c184ad-d62e-4037-ae05-7399a54936e5", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 5, "token_count": 66, "text": "#### 2.2.1 System Failure Response\\n1. **Primary Navigation Failure**\\n   - Switch to backup navigation system immediately\\n   - Report failure to control station\\n   - Return to base using predetermined safe route\\n   - Do not continue mission without primary navigation", "content_preview": "#### 2.2.1 System Failure Response\\n1. **Primary Navigation Failure**\\n   - Switch to backup navigation system immediately\\n   - Report failure to control station\\n   - Return to base using predetermined ...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "content": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "source_document": "Safety Protocols", "similarity_score": 0.45862547, "chunk_metadata": {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 3, "token_count": 55, "text": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "content_preview": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones ...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "49936670-8134-4076-b4db-76cd6bccdc03", "content": "### 3.1 Critical Functions\\n- **REQ-SAFETY-001**: Navigation system failures SHALL NOT affect primary vehicle systems\\n- **REQ-SAFETY-002**: The system SHALL provide audible alerts for critical navigation events\\n- **REQ-SAFETY-003**: Emergency stop functionality SHALL be available within 1 button press", "source_document": "Navigation System Requirements", "similarity_score": 0.4322413, "chunk_metadata": {"chunk_id": "49936670-8134-4076-b4db-76cd6bccdc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 5, "token_count": 75, "text": "### 3.1 Critical Functions\\n- **REQ-SAFETY-001**: Navigation system failures SHALL NOT affect primary vehicle systems\\n- **REQ-SAFETY-002**: The system SHALL provide audible alerts for critical navigation events\\n- **REQ-SAFETY-003**: Emergency stop functionality SHALL be available within 1 button press", "content_preview": "### 3.1 Critical Functions\\n- **REQ-SAFETY-001**: Navigation system failures SHALL NOT affect primary vehicle systems\\n- **REQ-SAFETY-002**: The system SHALL provide audible alerts for critical navigati...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "f493bbf3-d99a-4c4e-90be-a173b0cadfb4", "content": "3. **Communication Systems**\\n   - Radio check with control station\\n   - Verify emergency communication channels\\n   - Test data link connectivity", "source_document": "Safety Protocols", "similarity_score": 0.4016766, "chunk_metadata": {"chunk_id": "f493bbf3-d99a-4c4e-90be-a173b0cadfb4", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 2, "token_count": 36, "text": "3. **Communication Systems**\\n   - Radio check with control station\\n   - Verify emergency communication channels\\n   - Test data link connectivity", "content_preview": "3. **Communication Systems**\\n   - Radio check with control station\\n   - Verify emergency communication channels\\n   - Test data link connectivity", "source_asset": "Safety Protocols", "document_type": "safety"}}]', 'processed_query': '{"original_query": "What are the navigation system requirements?", "cleaned_query": "What are the navigation system requirements?", "key_terms": ["what", "navigation", "system", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements", "system"], "word_count": 6, "char_count": 44, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923934.2541115}, "processing_timestamp": 1756923934.4033735}', 'search_parameters': '{"primary_terms": ["what", "navigation", "system", "requirements"], "secondary_terms": [], "search_boost_terms": ["requirements", "system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:25:36,404 - services.external_task_worker - INFO - Successfully completed task 62bfe975-88f3-11f0-bc34-0242ac160003
2025-09-03 14:25:36,419 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:25:36,420 - services.external_task_worker - INFO - Executing task 62c4f29c-88f3-11f0-bc34-0242ac160003 for topic fallback-search
2025-09-03 14:25:36,420 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the navigation system requirements?', 'context_quality_score': 0.59270016, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923934.2541115}', 'reranked_context': '[{"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "content": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "source_document": "Navigation System Requirements", "similarity_score": 0.680192, "chunk_metadata": {"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 106, "text": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "content_preview": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint ...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "content": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "source_document": "Navigation System Requirements", "similarity_score": 0.6318933, "chunk_metadata": {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 102, "text": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "content_preview": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom leve...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "content": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "source_document": "Technical Specifications", "similarity_score": 0.60904396, "chunk_metadata": {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 86, "text": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "content_preview": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Pla...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.53267634, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.5096952, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "content": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "source_document": "Navigation System Requirements", "similarity_score": 0.680192, "chunk_metadata": {"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 106, "text": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "content_preview": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint ...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "content": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "source_document": "Navigation System Requirements", "similarity_score": 0.6318933, "chunk_metadata": {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 102, "text": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "content_preview": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom leve...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "content": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "source_document": "Technical Specifications", "similarity_score": 0.60904396, "chunk_metadata": {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 86, "text": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "content_preview": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Pla...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.53267634, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.5096952, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "content": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "source_document": "Technical Specifications", "similarity_score": 0.47959125, "chunk_metadata": {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 7, "token_count": 76, "text": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "content_preview": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "06c184ad-d62e-4037-ae05-7399a54936e5", "content": "#### 2.2.1 System Failure Response\\n1. **Primary Navigation Failure**\\n   - Switch to backup navigation system immediately\\n   - Report failure to control station\\n   - Return to base using predetermined safe route\\n   - Do not continue mission without primary navigation", "source_document": "Safety Protocols", "similarity_score": 0.46008196, "chunk_metadata": {"chunk_id": "06c184ad-d62e-4037-ae05-7399a54936e5", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 5, "token_count": 66, "text": "#### 2.2.1 System Failure Response\\n1. **Primary Navigation Failure**\\n   - Switch to backup navigation system immediately\\n   - Report failure to control station\\n   - Return to base using predetermined safe route\\n   - Do not continue mission without primary navigation", "content_preview": "#### 2.2.1 System Failure Response\\n1. **Primary Navigation Failure**\\n   - Switch to backup navigation system immediately\\n   - Report failure to control station\\n   - Return to base using predetermined ...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "content": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "source_document": "Safety Protocols", "similarity_score": 0.45862547, "chunk_metadata": {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 3, "token_count": 55, "text": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "content_preview": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones ...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "49936670-8134-4076-b4db-76cd6bccdc03", "content": "### 3.1 Critical Functions\\n- **REQ-SAFETY-001**: Navigation system failures SHALL NOT affect primary vehicle systems\\n- **REQ-SAFETY-002**: The system SHALL provide audible alerts for critical navigation events\\n- **REQ-SAFETY-003**: Emergency stop functionality SHALL be available within 1 button press", "source_document": "Navigation System Requirements", "similarity_score": 0.4322413, "chunk_metadata": {"chunk_id": "49936670-8134-4076-b4db-76cd6bccdc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 5, "token_count": 75, "text": "### 3.1 Critical Functions\\n- **REQ-SAFETY-001**: Navigation system failures SHALL NOT affect primary vehicle systems\\n- **REQ-SAFETY-002**: The system SHALL provide audible alerts for critical navigation events\\n- **REQ-SAFETY-003**: Emergency stop functionality SHALL be available within 1 button press", "content_preview": "### 3.1 Critical Functions\\n- **REQ-SAFETY-001**: Navigation system failures SHALL NOT affect primary vehicle systems\\n- **REQ-SAFETY-002**: The system SHALL provide audible alerts for critical navigati...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "f493bbf3-d99a-4c4e-90be-a173b0cadfb4", "content": "3. **Communication Systems**\\n   - Radio check with control station\\n   - Verify emergency communication channels\\n   - Test data link connectivity", "source_document": "Safety Protocols", "similarity_score": 0.4016766, "chunk_metadata": {"chunk_id": "f493bbf3-d99a-4c4e-90be-a173b0cadfb4", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 2, "token_count": 36, "text": "3. **Communication Systems**\\n   - Radio check with control station\\n   - Verify emergency communication channels\\n   - Test data link connectivity", "content_preview": "3. **Communication Systems**\\n   - Radio check with control station\\n   - Verify emergency communication channels\\n   - Test data link connectivity", "source_asset": "Safety Protocols", "document_type": "safety"}}]', 'processed_query': '{"original_query": "What are the navigation system requirements?", "cleaned_query": "What are the navigation system requirements?", "key_terms": ["what", "navigation", "system", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements", "system"], "word_count": 6, "char_count": 44, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923934.2541115}, "processing_timestamp": 1756923934.4033735}', 'search_parameters': '{"primary_terms": ["what", "navigation", "system", "requirements"], "secondary_terms": [], "search_boost_terms": ["requirements", "system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:25:36,433 - services.external_task_worker - INFO - Successfully completed task 62c4f29c-88f3-11f0-bc34-0242ac160003
2025-09-03 14:25:36,449 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:25:36,449 - services.external_task_worker - INFO - Executing task 62c98691-88f3-11f0-bc34-0242ac160003 for topic construct-prompt
2025-09-03 14:25:36,449 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the navigation system requirements?', 'context_quality_score': 0.59270016, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923934.2541115}', 'reranked_context': '[{"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "content": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "source_document": "Navigation System Requirements", "similarity_score": 0.680192, "chunk_metadata": {"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 106, "text": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "content_preview": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint ...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "content": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "source_document": "Navigation System Requirements", "similarity_score": 0.6318933, "chunk_metadata": {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 102, "text": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "content_preview": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom leve...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "content": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "source_document": "Technical Specifications", "similarity_score": 0.60904396, "chunk_metadata": {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 86, "text": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "content_preview": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Pla...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.53267634, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.5096952, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What are the navigation system requirements?", "cleaned_query": "What are the navigation system requirements?", "key_terms": ["what", "navigation", "system", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements", "system"], "word_count": 6, "char_count": 44, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923934.2541115}, "processing_timestamp": 1756923934.4033735}', 'search_parameters': '{"primary_terms": ["what", "navigation", "system", "requirements"], "secondary_terms": [], "search_boost_terms": ["requirements", "system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:25:36,471 - services.external_task_worker - INFO - Successfully completed task 62c98691-88f3-11f0-bc34-0242ac160003
2025-09-03 14:25:36,484 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:25:36,484 - services.external_task_worker - INFO - Executing task 62ce8fb4-88f3-11f0-bc34-0242ac160003 for topic llm-generation
2025-09-03 14:25:36,485 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 1.1 Core Navigation Functions\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)\n[Context 2]: ### 1.2 User Interface Requirements  \n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup\n[Context 3]: ### 2.2 Navigation Software Stack\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation\n\nUser Question: What are the navigation system requirements?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What are the navigation system requirements?', 'context_quality_score': 0.59270016, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923934.2541115}', 'reranked_context': '[{"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "content": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "source_document": "Navigation System Requirements", "similarity_score": 0.680192, "chunk_metadata": {"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 106, "text": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "content_preview": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint ...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "content": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "source_document": "Navigation System Requirements", "similarity_score": 0.6318933, "chunk_metadata": {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 102, "text": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "content_preview": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom leve...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "content": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "source_document": "Technical Specifications", "similarity_score": 0.60904396, "chunk_metadata": {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 86, "text": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "content_preview": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Pla...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.53267634, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.5096952, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What are the navigation system requirements?", "cleaned_query": "What are the navigation system requirements?", "key_terms": ["what", "navigation", "system", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements", "system"], "word_count": 6, "char_count": 44, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923934.2541115}, "processing_timestamp": 1756923934.4033735}', 'search_parameters': '{"primary_terms": ["what", "navigation", "system", "requirements"], "secondary_terms": [], "search_boost_terms": ["requirements", "system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:25:36,499 - services.external_task_worker - INFO - Successfully completed task 62ce8fb4-88f3-11f0-bc34-0242ac160003
2025-09-03 14:25:36,512 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:25:36,512 - services.external_task_worker - INFO - Executing task 62d371c5-88f3-11f0-bc34-0242ac160003 for topic process-response
2025-09-03 14:25:36,512 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 1.1 Core Navigation Functions\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)\n[Context 2]: ### 1.2 User Interface Requirements  \n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup\n[Context 3]: ### 2.2 Navigation Software Stack\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation\n\nUser Question: What are the navigation system requirements?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What are the navigation system requirements?', 'context_quality_score': 0.59270016, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923934.2541115}', 'reranked_context': '[{"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "content": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "source_document": "Navigation System Requirements", "similarity_score": 0.680192, "chunk_metadata": {"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 106, "text": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "content_preview": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint ...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "content": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "source_document": "Navigation System Requirements", "similarity_score": 0.6318933, "chunk_metadata": {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 102, "text": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "content_preview": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom leve...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "content": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "source_document": "Technical Specifications", "similarity_score": 0.60904396, "chunk_metadata": {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 86, "text": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "content_preview": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Pla...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.53267634, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.5096952, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What are the navigation system requirements?", "cleaned_query": "What are the navigation system requirements?", "key_terms": ["what", "navigation", "system", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements", "system"], "word_count": 6, "char_count": 44, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923934.2541115}, "processing_timestamp": 1756923934.4033735}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 1.1 Core Navigation Functions\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)\n[Context 2]: ### 1.2 User Interface Requirements\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup\n[Context 3]: ### 2.2 Navigation Software Stack\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["what", "navigation", "system", "requirements"], "secondary_terms": [], "search_boost_terms": ["requirements", "system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:25:36,525 - services.external_task_worker - INFO - Successfully completed task 62d371c5-88f3-11f0-bc34-0242ac160003
2025-09-03 14:25:36,535 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:25:36,535 - services.external_task_worker - INFO - Executing task 62d7426b-88f3-11f0-bc34-0242ac160003 for topic log-interaction
2025-09-03 14:25:36,535 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 1.1 Core Navigation Functions\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)\n[Context 2]: ### 1.2 User Interface Requirements  \n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup\n[Context 3]: ### 2.2 Navigation Software Stack\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation\n\nUser Question: What are the navigation system requirements?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What are the navigation system requirements?', 'context_quality_score': 0.59270016, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923934.2541115}', 'reranked_context': '[{"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "content": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "source_document": "Navigation System Requirements", "similarity_score": 0.680192, "chunk_metadata": {"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 106, "text": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "content_preview": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint ...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "content": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "source_document": "Navigation System Requirements", "similarity_score": 0.6318933, "chunk_metadata": {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 102, "text": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "content_preview": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom leve...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "content": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "source_document": "Technical Specifications", "similarity_score": 0.60904396, "chunk_metadata": {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 86, "text": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "content_preview": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Pla...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.53267634, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.5096952, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 1.1 Core Navigation Functions\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)\n[Context 2]: ### 1.2 User Interface Requirements\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup\n[Context 3]: ### 2.2 Navigation Software Stack\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation\n\nThis response is based on the relevant documentation found in your knowledge assets.\n\nSources:\n[1] Navigation System Requirements\n[2] Navigation System Requirements\n[3] Technical Specifications\n', 'processed_query': '{"original_query": "What are the navigation system requirements?", "cleaned_query": "What are the navigation system requirements?", "key_terms": ["what", "navigation", "system", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements", "system"], "word_count": 6, "char_count": 44, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923934.2541115}, "processing_timestamp": 1756923934.4033735}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 1.1 Core Navigation Functions\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)\n[Context 2]: ### 1.2 User Interface Requirements\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup\n[Context 3]: ### 2.2 Navigation Software Stack\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["what", "navigation", "system", "requirements"], "secondary_terms": [], "search_boost_terms": ["requirements", "system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:25:36,553 - services.external_task_worker - INFO - Successfully completed task 62d7426b-88f3-11f0-bc34-0242ac160003
2025-09-03 14:25:40,592 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:25:40,592 - services.external_task_worker - INFO - Executing task 650aea65-88f3-11f0-bc34-0242ac160003 for topic process-user-query
2025-09-03 14:25:40,592 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923940.1914601}'}
2025-09-03 14:25:40,603 - services.external_task_worker - INFO - Successfully completed task 650aea65-88f3-11f0-bc34-0242ac160003
2025-09-03 14:25:40,614 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:25:40,615 - services.external_task_worker - INFO - Executing task 6545d0a0-88f3-11f0-bc34-0242ac160003 for topic retrieve-context
2025-09-03 14:25:40,615 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923940.1914601}', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923940.1914601}, "processing_timestamp": 1756923940.5925283}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:25:40,617 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-03 14:25:40,665 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-03 14:25:40,675 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-03 14:25:40,676 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-03 14:25:40,702 - services.embedding_service - INFO - Embedding service initialized
2025-09-03 14:25:40,702 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-03 14:25:40,703 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cuda:0
2025-09-03 14:25:40,703 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-03 14:25:41,649 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-03 14:25:41,658 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-03 14:25:41,664 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-03 14:25:41,664 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-03 14:25:41,664 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'What is the required position accuracy?...'
2025-09-03 14:25:41,678 - services.external_task_worker - INFO - Successfully completed task 6545d0a0-88f3-11f0-bc34-0242ac160003
2025-09-03 14:25:41,683 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:25:41,684 - services.external_task_worker - INFO - Executing task 65e9fff4-88f3-11f0-bc34-0242ac160003 for topic rerank-context
2025-09-03 14:25:41,684 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923940.1914601}', 'retrieved_chunks': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923940.1914601}, "processing_timestamp": 1756923940.5925283}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:25:41,692 - services.external_task_worker - INFO - Successfully completed task 65e9fff4-88f3-11f0-bc34-0242ac160003
2025-09-03 14:25:41,699 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:25:41,699 - services.external_task_worker - INFO - Executing task 65ebfbdb-88f3-11f0-bc34-0242ac160003 for topic fallback-search
2025-09-03 14:25:41,699 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923940.1914601}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923940.1914601}, "processing_timestamp": 1756923940.5925283}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:25:41,708 - services.external_task_worker - INFO - Successfully completed task 65ebfbdb-88f3-11f0-bc34-0242ac160003
2025-09-03 14:25:41,715 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:25:41,715 - services.external_task_worker - INFO - Executing task 65ee6cf0-88f3-11f0-bc34-0242ac160003 for topic construct-prompt
2025-09-03 14:25:41,715 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923940.1914601}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923940.1914601}, "processing_timestamp": 1756923940.5925283}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:25:41,724 - services.external_task_worker - INFO - Successfully completed task 65ee6cf0-88f3-11f0-bc34-0242ac160003
2025-09-03 14:25:41,731 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:25:41,731 - services.external_task_worker - INFO - Executing task 65f0b6f3-88f3-11f0-bc34-0242ac160003 for topic llm-generation
2025-09-03 14:25:41,731 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923940.1914601}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923940.1914601}, "processing_timestamp": 1756923940.5925283}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:25:41,739 - services.external_task_worker - INFO - Successfully completed task 65f0b6f3-88f3-11f0-bc34-0242ac160003
2025-09-03 14:25:41,747 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:25:41,747 - services.external_task_worker - INFO - Executing task 65f32804-88f3-11f0-bc34-0242ac160003 for topic process-response
2025-09-03 14:25:41,747 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923940.1914601}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923940.1914601}, "processing_timestamp": 1756923940.5925283}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:25:41,756 - services.external_task_worker - INFO - Successfully completed task 65f32804-88f3-11f0-bc34-0242ac160003
2025-09-03 14:25:41,764 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:25:41,764 - services.external_task_worker - INFO - Executing task 65f5991a-88f3-11f0-bc34-0242ac160003 for topic log-interaction
2025-09-03 14:25:41,764 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923940.1914601}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nThis response is based on the relevant documentation found in your knowledge assets.\n\nSources:\n[1] Navigation System Requirements\n', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923940.1914601}, "processing_timestamp": 1756923940.5925283}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:25:41,777 - services.external_task_worker - INFO - Successfully completed task 65f5991a-88f3-11f0-bc34-0242ac160003
2025-09-03 14:25:45,811 - __main__ - INFO - Received signal 2, shutting down worker...
2025-09-03 14:25:45,812 - __main__ - INFO - Received signal 15, shutting down worker...
2025-09-03 14:26:15,080 - services.external_task_worker - INFO - Starting external task worker: odras-worker-1756923975
2025-09-03 14:26:29,377 - __main__ - INFO - Received signal 2, shutting down worker...
2025-09-03 14:26:29,378 - __main__ - INFO - Received signal 15, shutting down worker...
2025-09-03 14:26:54,734 - services.external_task_worker - INFO - Starting external task worker: odras-worker-1756924014
2025-09-03 14:26:54,742 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:26:54,742 - services.external_task_worker - INFO - Executing task 8258e6e4-88f3-11f0-bc34-0242ac160003 for topic process-user-query
2025-09-03 14:26:54,742 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the navigation system requirements?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923989.3484495}'}
2025-09-03 14:26:54,749 - services.external_task_worker - INFO - Successfully completed task 8258e6e4-88f3-11f0-bc34-0242ac160003
2025-09-03 14:26:54,755 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:26:54,755 - services.external_task_worker - INFO - Executing task 9177c07f-88f3-11f0-bc34-0242ac160003 for topic retrieve-context
2025-09-03 14:26:54,755 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the navigation system requirements?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923989.3484495}', 'processed_query': '{"original_query": "What are the navigation system requirements?", "cleaned_query": "What are the navigation system requirements?", "key_terms": ["what", "navigation", "system", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements", "system"], "word_count": 6, "char_count": 44, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923989.3484495}, "processing_timestamp": 1756924014.7431371}', 'search_parameters': '{"primary_terms": ["what", "navigation", "system", "requirements"], "secondary_terms": [], "search_boost_terms": ["requirements", "system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:26:54,765 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-03 14:26:54,823 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-03 14:26:54,826 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-03 14:26:54,826 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-03 14:26:54,839 - services.embedding_service - INFO - Embedding service initialized
2025-09-03 14:26:54,839 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-03 14:26:57,355 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cuda:0
2025-09-03 14:26:57,355 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-03 14:26:59,357 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-03 14:26:59,660 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-03 14:26:59,683 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-03 14:26:59,684 - services.qdrant_service - INFO - Found 10 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-03 14:26:59,684 - services.qdrant_service - INFO - Found 10 similar chunks for query: 'What are the navigation system requirements?...'
2025-09-03 14:26:59,717 - services.external_task_worker - INFO - Successfully completed task 9177c07f-88f3-11f0-bc34-0242ac160003
2025-09-03 14:26:59,722 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:26:59,722 - services.external_task_worker - INFO - Executing task 946dcf13-88f3-11f0-bc34-0242ac160003 for topic rerank-context
2025-09-03 14:26:59,723 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the navigation system requirements?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923989.3484495}', 'retrieved_chunks': '[{"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "content": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "source_document": "Navigation System Requirements", "similarity_score": 0.680192, "chunk_metadata": {"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 106, "text": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "content_preview": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint ...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "content": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "source_document": "Navigation System Requirements", "similarity_score": 0.6318933, "chunk_metadata": {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 102, "text": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "content_preview": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom leve...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "content": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "source_document": "Technical Specifications", "similarity_score": 0.60904396, "chunk_metadata": {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 86, "text": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "content_preview": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Pla...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.53267634, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.5096952, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "content": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "source_document": "Technical Specifications", "similarity_score": 0.47959125, "chunk_metadata": {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 7, "token_count": 76, "text": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "content_preview": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "06c184ad-d62e-4037-ae05-7399a54936e5", "content": "#### 2.2.1 System Failure Response\\n1. **Primary Navigation Failure**\\n   - Switch to backup navigation system immediately\\n   - Report failure to control station\\n   - Return to base using predetermined safe route\\n   - Do not continue mission without primary navigation", "source_document": "Safety Protocols", "similarity_score": 0.46008196, "chunk_metadata": {"chunk_id": "06c184ad-d62e-4037-ae05-7399a54936e5", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 5, "token_count": 66, "text": "#### 2.2.1 System Failure Response\\n1. **Primary Navigation Failure**\\n   - Switch to backup navigation system immediately\\n   - Report failure to control station\\n   - Return to base using predetermined safe route\\n   - Do not continue mission without primary navigation", "content_preview": "#### 2.2.1 System Failure Response\\n1. **Primary Navigation Failure**\\n   - Switch to backup navigation system immediately\\n   - Report failure to control station\\n   - Return to base using predetermined ...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "content": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "source_document": "Safety Protocols", "similarity_score": 0.45862547, "chunk_metadata": {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 3, "token_count": 55, "text": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "content_preview": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones ...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "49936670-8134-4076-b4db-76cd6bccdc03", "content": "### 3.1 Critical Functions\\n- **REQ-SAFETY-001**: Navigation system failures SHALL NOT affect primary vehicle systems\\n- **REQ-SAFETY-002**: The system SHALL provide audible alerts for critical navigation events\\n- **REQ-SAFETY-003**: Emergency stop functionality SHALL be available within 1 button press", "source_document": "Navigation System Requirements", "similarity_score": 0.4322413, "chunk_metadata": {"chunk_id": "49936670-8134-4076-b4db-76cd6bccdc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 5, "token_count": 75, "text": "### 3.1 Critical Functions\\n- **REQ-SAFETY-001**: Navigation system failures SHALL NOT affect primary vehicle systems\\n- **REQ-SAFETY-002**: The system SHALL provide audible alerts for critical navigation events\\n- **REQ-SAFETY-003**: Emergency stop functionality SHALL be available within 1 button press", "content_preview": "### 3.1 Critical Functions\\n- **REQ-SAFETY-001**: Navigation system failures SHALL NOT affect primary vehicle systems\\n- **REQ-SAFETY-002**: The system SHALL provide audible alerts for critical navigati...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "f493bbf3-d99a-4c4e-90be-a173b0cadfb4", "content": "3. **Communication Systems**\\n   - Radio check with control station\\n   - Verify emergency communication channels\\n   - Test data link connectivity", "source_document": "Safety Protocols", "similarity_score": 0.4016766, "chunk_metadata": {"chunk_id": "f493bbf3-d99a-4c4e-90be-a173b0cadfb4", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 2, "token_count": 36, "text": "3. **Communication Systems**\\n   - Radio check with control station\\n   - Verify emergency communication channels\\n   - Test data link connectivity", "content_preview": "3. **Communication Systems**\\n   - Radio check with control station\\n   - Verify emergency communication channels\\n   - Test data link connectivity", "source_asset": "Safety Protocols", "document_type": "safety"}}]', 'processed_query': '{"original_query": "What are the navigation system requirements?", "cleaned_query": "What are the navigation system requirements?", "key_terms": ["what", "navigation", "system", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements", "system"], "word_count": 6, "char_count": 44, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923989.3484495}, "processing_timestamp": 1756924014.7431371}', 'search_parameters': '{"primary_terms": ["what", "navigation", "system", "requirements"], "secondary_terms": [], "search_boost_terms": ["requirements", "system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:26:59,730 - services.external_task_worker - INFO - Successfully completed task 946dcf13-88f3-11f0-bc34-0242ac160003
2025-09-03 14:26:59,737 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:26:59,737 - services.external_task_worker - INFO - Executing task 946fc9fa-88f3-11f0-bc34-0242ac160003 for topic fallback-search
2025-09-03 14:26:59,737 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the navigation system requirements?', 'context_quality_score': 0.59270016, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923989.3484495}', 'reranked_context': '[{"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "content": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "source_document": "Navigation System Requirements", "similarity_score": 0.680192, "chunk_metadata": {"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 106, "text": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "content_preview": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint ...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "content": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "source_document": "Navigation System Requirements", "similarity_score": 0.6318933, "chunk_metadata": {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 102, "text": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "content_preview": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom leve...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "content": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "source_document": "Technical Specifications", "similarity_score": 0.60904396, "chunk_metadata": {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 86, "text": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "content_preview": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Pla...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.53267634, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.5096952, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "content": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "source_document": "Navigation System Requirements", "similarity_score": 0.680192, "chunk_metadata": {"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 106, "text": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "content_preview": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint ...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "content": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "source_document": "Navigation System Requirements", "similarity_score": 0.6318933, "chunk_metadata": {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 102, "text": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "content_preview": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom leve...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "content": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "source_document": "Technical Specifications", "similarity_score": 0.60904396, "chunk_metadata": {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 86, "text": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "content_preview": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Pla...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.53267634, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.5096952, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "content": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "source_document": "Technical Specifications", "similarity_score": 0.47959125, "chunk_metadata": {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 7, "token_count": 76, "text": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "content_preview": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "06c184ad-d62e-4037-ae05-7399a54936e5", "content": "#### 2.2.1 System Failure Response\\n1. **Primary Navigation Failure**\\n   - Switch to backup navigation system immediately\\n   - Report failure to control station\\n   - Return to base using predetermined safe route\\n   - Do not continue mission without primary navigation", "source_document": "Safety Protocols", "similarity_score": 0.46008196, "chunk_metadata": {"chunk_id": "06c184ad-d62e-4037-ae05-7399a54936e5", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 5, "token_count": 66, "text": "#### 2.2.1 System Failure Response\\n1. **Primary Navigation Failure**\\n   - Switch to backup navigation system immediately\\n   - Report failure to control station\\n   - Return to base using predetermined safe route\\n   - Do not continue mission without primary navigation", "content_preview": "#### 2.2.1 System Failure Response\\n1. **Primary Navigation Failure**\\n   - Switch to backup navigation system immediately\\n   - Report failure to control station\\n   - Return to base using predetermined ...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "content": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "source_document": "Safety Protocols", "similarity_score": 0.45862547, "chunk_metadata": {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 3, "token_count": 55, "text": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "content_preview": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones ...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "49936670-8134-4076-b4db-76cd6bccdc03", "content": "### 3.1 Critical Functions\\n- **REQ-SAFETY-001**: Navigation system failures SHALL NOT affect primary vehicle systems\\n- **REQ-SAFETY-002**: The system SHALL provide audible alerts for critical navigation events\\n- **REQ-SAFETY-003**: Emergency stop functionality SHALL be available within 1 button press", "source_document": "Navigation System Requirements", "similarity_score": 0.4322413, "chunk_metadata": {"chunk_id": "49936670-8134-4076-b4db-76cd6bccdc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 5, "token_count": 75, "text": "### 3.1 Critical Functions\\n- **REQ-SAFETY-001**: Navigation system failures SHALL NOT affect primary vehicle systems\\n- **REQ-SAFETY-002**: The system SHALL provide audible alerts for critical navigation events\\n- **REQ-SAFETY-003**: Emergency stop functionality SHALL be available within 1 button press", "content_preview": "### 3.1 Critical Functions\\n- **REQ-SAFETY-001**: Navigation system failures SHALL NOT affect primary vehicle systems\\n- **REQ-SAFETY-002**: The system SHALL provide audible alerts for critical navigati...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "f493bbf3-d99a-4c4e-90be-a173b0cadfb4", "content": "3. **Communication Systems**\\n   - Radio check with control station\\n   - Verify emergency communication channels\\n   - Test data link connectivity", "source_document": "Safety Protocols", "similarity_score": 0.4016766, "chunk_metadata": {"chunk_id": "f493bbf3-d99a-4c4e-90be-a173b0cadfb4", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 2, "token_count": 36, "text": "3. **Communication Systems**\\n   - Radio check with control station\\n   - Verify emergency communication channels\\n   - Test data link connectivity", "content_preview": "3. **Communication Systems**\\n   - Radio check with control station\\n   - Verify emergency communication channels\\n   - Test data link connectivity", "source_asset": "Safety Protocols", "document_type": "safety"}}]', 'processed_query': '{"original_query": "What are the navigation system requirements?", "cleaned_query": "What are the navigation system requirements?", "key_terms": ["what", "navigation", "system", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements", "system"], "word_count": 6, "char_count": 44, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923989.3484495}, "processing_timestamp": 1756924014.7431371}', 'search_parameters': '{"primary_terms": ["what", "navigation", "system", "requirements"], "secondary_terms": [], "search_boost_terms": ["requirements", "system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:26:59,744 - services.external_task_worker - INFO - Successfully completed task 946fc9fa-88f3-11f0-bc34-0242ac160003
2025-09-03 14:26:59,749 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:26:59,750 - services.external_task_worker - INFO - Executing task 9471ecef-88f3-11f0-bc34-0242ac160003 for topic construct-prompt
2025-09-03 14:26:59,750 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the navigation system requirements?', 'context_quality_score': 0.59270016, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923989.3484495}', 'reranked_context': '[{"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "content": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "source_document": "Navigation System Requirements", "similarity_score": 0.680192, "chunk_metadata": {"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 106, "text": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "content_preview": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint ...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "content": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "source_document": "Navigation System Requirements", "similarity_score": 0.6318933, "chunk_metadata": {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 102, "text": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "content_preview": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom leve...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "content": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "source_document": "Technical Specifications", "similarity_score": 0.60904396, "chunk_metadata": {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 86, "text": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "content_preview": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Pla...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.53267634, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.5096952, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What are the navigation system requirements?", "cleaned_query": "What are the navigation system requirements?", "key_terms": ["what", "navigation", "system", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements", "system"], "word_count": 6, "char_count": 44, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923989.3484495}, "processing_timestamp": 1756924014.7431371}', 'search_parameters': '{"primary_terms": ["what", "navigation", "system", "requirements"], "secondary_terms": [], "search_boost_terms": ["requirements", "system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:26:59,759 - services.external_task_worker - INFO - Successfully completed task 9471ecef-88f3-11f0-bc34-0242ac160003
2025-09-03 14:26:59,767 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:26:59,767 - services.external_task_worker - INFO - Executing task 9473e8d2-88f3-11f0-bc34-0242ac160003 for topic llm-generation
2025-09-03 14:26:59,767 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 1.1 Core Navigation Functions\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)\n[Context 2]: ### 1.2 User Interface Requirements  \n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup\n[Context 3]: ### 2.2 Navigation Software Stack\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation\n\nUser Question: What are the navigation system requirements?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What are the navigation system requirements?', 'context_quality_score': 0.59270016, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923989.3484495}', 'reranked_context': '[{"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "content": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "source_document": "Navigation System Requirements", "similarity_score": 0.680192, "chunk_metadata": {"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 106, "text": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "content_preview": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint ...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "content": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "source_document": "Navigation System Requirements", "similarity_score": 0.6318933, "chunk_metadata": {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 102, "text": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "content_preview": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom leve...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "content": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "source_document": "Technical Specifications", "similarity_score": 0.60904396, "chunk_metadata": {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 86, "text": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "content_preview": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Pla...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.53267634, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.5096952, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What are the navigation system requirements?", "cleaned_query": "What are the navigation system requirements?", "key_terms": ["what", "navigation", "system", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements", "system"], "word_count": 6, "char_count": 44, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923989.3484495}, "processing_timestamp": 1756924014.7431371}', 'search_parameters': '{"primary_terms": ["what", "navigation", "system", "requirements"], "secondary_terms": [], "search_boost_terms": ["requirements", "system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:26:59,775 - services.external_task_worker - INFO - Successfully completed task 9473e8d2-88f3-11f0-bc34-0242ac160003
2025-09-03 14:26:59,784 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:26:59,784 - services.external_task_worker - INFO - Executing task 947680f3-88f3-11f0-bc34-0242ac160003 for topic process-response
2025-09-03 14:26:59,784 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 1.1 Core Navigation Functions\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)\n[Context 2]: ### 1.2 User Interface Requirements  \n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup\n[Context 3]: ### 2.2 Navigation Software Stack\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation\n\nUser Question: What are the navigation system requirements?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What are the navigation system requirements?', 'context_quality_score': 0.59270016, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923989.3484495}', 'reranked_context': '[{"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "content": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "source_document": "Navigation System Requirements", "similarity_score": 0.680192, "chunk_metadata": {"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 106, "text": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "content_preview": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint ...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "content": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "source_document": "Navigation System Requirements", "similarity_score": 0.6318933, "chunk_metadata": {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 102, "text": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "content_preview": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom leve...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "content": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "source_document": "Technical Specifications", "similarity_score": 0.60904396, "chunk_metadata": {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 86, "text": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "content_preview": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Pla...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.53267634, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.5096952, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What are the navigation system requirements?", "cleaned_query": "What are the navigation system requirements?", "key_terms": ["what", "navigation", "system", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements", "system"], "word_count": 6, "char_count": 44, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923989.3484495}, "processing_timestamp": 1756924014.7431371}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 1.1 Core Navigation Functions\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)\n[Context 2]: ### 1.2 User Interface Requirements\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup\n[Context 3]: ### 2.2 Navigation Software Stack\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["what", "navigation", "system", "requirements"], "secondary_terms": [], "search_boost_terms": ["requirements", "system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:26:59,792 - services.external_task_worker - INFO - Successfully completed task 947680f3-88f3-11f0-bc34-0242ac160003
2025-09-03 14:26:59,804 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:26:59,804 - services.external_task_worker - INFO - Executing task 94791919-88f3-11f0-bc34-0242ac160003 for topic log-interaction
2025-09-03 14:26:59,804 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 1.1 Core Navigation Functions\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)\n[Context 2]: ### 1.2 User Interface Requirements  \n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup\n[Context 3]: ### 2.2 Navigation Software Stack\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation\n\nUser Question: What are the navigation system requirements?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What are the navigation system requirements?', 'context_quality_score': 0.59270016, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923989.3484495}', 'reranked_context': '[{"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "content": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "source_document": "Navigation System Requirements", "similarity_score": 0.680192, "chunk_metadata": {"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 106, "text": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "content_preview": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint ...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "content": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "source_document": "Navigation System Requirements", "similarity_score": 0.6318933, "chunk_metadata": {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 102, "text": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "content_preview": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom leve...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "content": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "source_document": "Technical Specifications", "similarity_score": 0.60904396, "chunk_metadata": {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 86, "text": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "content_preview": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Pla...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.53267634, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.5096952, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 1.1 Core Navigation Functions\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)\n[Context 2]: ### 1.2 User Interface Requirements\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup\n[Context 3]: ### 2.2 Navigation Software Stack\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation\n\nThis response is based on the relevant documentation found in your knowledge assets.\n\nSources:\n[1] Navigation System Requirements\n[2] Navigation System Requirements\n[3] Technical Specifications\n', 'processed_query': '{"original_query": "What are the navigation system requirements?", "cleaned_query": "What are the navigation system requirements?", "key_terms": ["what", "navigation", "system", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements", "system"], "word_count": 6, "char_count": 44, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756923989.3484495}, "processing_timestamp": 1756924014.7431371}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 1.1 Core Navigation Functions\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)\n[Context 2]: ### 1.2 User Interface Requirements\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup\n[Context 3]: ### 2.2 Navigation Software Stack\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["what", "navigation", "system", "requirements"], "secondary_terms": [], "search_boost_terms": ["requirements", "system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:26:59,817 - services.external_task_worker - INFO - Successfully completed task 94791919-88f3-11f0-bc34-0242ac160003
2025-09-03 14:27:07,891 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:27:07,891 - services.external_task_worker - INFO - Executing task 98f838b3-88f3-11f0-bc34-0242ac160003 for topic process-user-query
2025-09-03 14:27:07,891 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the navigation system requirements?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924027.311389}'}
2025-09-03 14:27:07,897 - services.external_task_worker - INFO - Successfully completed task 98f838b3-88f3-11f0-bc34-0242ac160003
2025-09-03 14:27:07,902 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:27:07,902 - services.external_task_worker - INFO - Executing task 994e20fe-88f3-11f0-bc34-0242ac160003 for topic retrieve-context
2025-09-03 14:27:07,902 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the navigation system requirements?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924027.311389}', 'processed_query': '{"original_query": "What are the navigation system requirements?", "cleaned_query": "What are the navigation system requirements?", "key_terms": ["what", "navigation", "system", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements", "system"], "word_count": 6, "char_count": 44, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924027.311389}, "processing_timestamp": 1756924027.8917356}', 'search_parameters': '{"primary_terms": ["what", "navigation", "system", "requirements"], "secondary_terms": [], "search_boost_terms": ["requirements", "system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:27:07,904 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-03 14:27:07,965 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-03 14:27:07,971 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-03 14:27:07,971 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-03 14:27:08,005 - services.embedding_service - INFO - Embedding service initialized
2025-09-03 14:27:08,005 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-03 14:27:08,005 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cuda:0
2025-09-03 14:27:08,005 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-03 14:27:09,024 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-03 14:27:09,031 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-03 14:27:09,036 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-03 14:27:09,037 - services.qdrant_service - INFO - Found 10 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-03 14:27:09,037 - services.qdrant_service - INFO - Found 10 similar chunks for query: 'What are the navigation system requirements?...'
2025-09-03 14:27:09,078 - services.external_task_worker - INFO - Successfully completed task 994e20fe-88f3-11f0-bc34-0242ac160003
2025-09-03 14:27:09,085 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:27:09,085 - services.external_task_worker - INFO - Executing task 9a022ed2-88f3-11f0-bc34-0242ac160003 for topic rerank-context
2025-09-03 14:27:09,085 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the navigation system requirements?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924027.311389}', 'retrieved_chunks': '[{"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "content": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "source_document": "Navigation System Requirements", "similarity_score": 0.680192, "chunk_metadata": {"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 106, "text": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "content_preview": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint ...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "content": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "source_document": "Navigation System Requirements", "similarity_score": 0.6318933, "chunk_metadata": {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 102, "text": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "content_preview": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom leve...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "content": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "source_document": "Technical Specifications", "similarity_score": 0.60904396, "chunk_metadata": {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 86, "text": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "content_preview": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Pla...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.53267634, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.5096952, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "content": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "source_document": "Technical Specifications", "similarity_score": 0.47959125, "chunk_metadata": {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 7, "token_count": 76, "text": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "content_preview": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "06c184ad-d62e-4037-ae05-7399a54936e5", "content": "#### 2.2.1 System Failure Response\\n1. **Primary Navigation Failure**\\n   - Switch to backup navigation system immediately\\n   - Report failure to control station\\n   - Return to base using predetermined safe route\\n   - Do not continue mission without primary navigation", "source_document": "Safety Protocols", "similarity_score": 0.46008196, "chunk_metadata": {"chunk_id": "06c184ad-d62e-4037-ae05-7399a54936e5", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 5, "token_count": 66, "text": "#### 2.2.1 System Failure Response\\n1. **Primary Navigation Failure**\\n   - Switch to backup navigation system immediately\\n   - Report failure to control station\\n   - Return to base using predetermined safe route\\n   - Do not continue mission without primary navigation", "content_preview": "#### 2.2.1 System Failure Response\\n1. **Primary Navigation Failure**\\n   - Switch to backup navigation system immediately\\n   - Report failure to control station\\n   - Return to base using predetermined ...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "content": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "source_document": "Safety Protocols", "similarity_score": 0.45862547, "chunk_metadata": {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 3, "token_count": 55, "text": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "content_preview": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones ...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "49936670-8134-4076-b4db-76cd6bccdc03", "content": "### 3.1 Critical Functions\\n- **REQ-SAFETY-001**: Navigation system failures SHALL NOT affect primary vehicle systems\\n- **REQ-SAFETY-002**: The system SHALL provide audible alerts for critical navigation events\\n- **REQ-SAFETY-003**: Emergency stop functionality SHALL be available within 1 button press", "source_document": "Navigation System Requirements", "similarity_score": 0.4322413, "chunk_metadata": {"chunk_id": "49936670-8134-4076-b4db-76cd6bccdc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 5, "token_count": 75, "text": "### 3.1 Critical Functions\\n- **REQ-SAFETY-001**: Navigation system failures SHALL NOT affect primary vehicle systems\\n- **REQ-SAFETY-002**: The system SHALL provide audible alerts for critical navigation events\\n- **REQ-SAFETY-003**: Emergency stop functionality SHALL be available within 1 button press", "content_preview": "### 3.1 Critical Functions\\n- **REQ-SAFETY-001**: Navigation system failures SHALL NOT affect primary vehicle systems\\n- **REQ-SAFETY-002**: The system SHALL provide audible alerts for critical navigati...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "f493bbf3-d99a-4c4e-90be-a173b0cadfb4", "content": "3. **Communication Systems**\\n   - Radio check with control station\\n   - Verify emergency communication channels\\n   - Test data link connectivity", "source_document": "Safety Protocols", "similarity_score": 0.4016766, "chunk_metadata": {"chunk_id": "f493bbf3-d99a-4c4e-90be-a173b0cadfb4", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 2, "token_count": 36, "text": "3. **Communication Systems**\\n   - Radio check with control station\\n   - Verify emergency communication channels\\n   - Test data link connectivity", "content_preview": "3. **Communication Systems**\\n   - Radio check with control station\\n   - Verify emergency communication channels\\n   - Test data link connectivity", "source_asset": "Safety Protocols", "document_type": "safety"}}]', 'processed_query': '{"original_query": "What are the navigation system requirements?", "cleaned_query": "What are the navigation system requirements?", "key_terms": ["what", "navigation", "system", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements", "system"], "word_count": 6, "char_count": 44, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924027.311389}, "processing_timestamp": 1756924027.8917356}', 'search_parameters': '{"primary_terms": ["what", "navigation", "system", "requirements"], "secondary_terms": [], "search_boost_terms": ["requirements", "system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:27:09,102 - services.external_task_worker - INFO - Successfully completed task 9a022ed2-88f3-11f0-bc34-0242ac160003
2025-09-03 14:27:09,111 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:27:09,111 - services.external_task_worker - INFO - Executing task 9a0478d9-88f3-11f0-bc34-0242ac160003 for topic fallback-search
2025-09-03 14:27:09,111 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the navigation system requirements?', 'context_quality_score': 0.59270016, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924027.311389}', 'reranked_context': '[{"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "content": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "source_document": "Navigation System Requirements", "similarity_score": 0.680192, "chunk_metadata": {"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 106, "text": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "content_preview": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint ...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "content": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "source_document": "Navigation System Requirements", "similarity_score": 0.6318933, "chunk_metadata": {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 102, "text": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "content_preview": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom leve...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "content": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "source_document": "Technical Specifications", "similarity_score": 0.60904396, "chunk_metadata": {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 86, "text": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "content_preview": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Pla...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.53267634, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.5096952, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "content": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "source_document": "Navigation System Requirements", "similarity_score": 0.680192, "chunk_metadata": {"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 106, "text": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "content_preview": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint ...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "content": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "source_document": "Navigation System Requirements", "similarity_score": 0.6318933, "chunk_metadata": {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 102, "text": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "content_preview": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom leve...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "content": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "source_document": "Technical Specifications", "similarity_score": 0.60904396, "chunk_metadata": {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 86, "text": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "content_preview": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Pla...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.53267634, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.5096952, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "content": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "source_document": "Technical Specifications", "similarity_score": 0.47959125, "chunk_metadata": {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 7, "token_count": 76, "text": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "content_preview": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "06c184ad-d62e-4037-ae05-7399a54936e5", "content": "#### 2.2.1 System Failure Response\\n1. **Primary Navigation Failure**\\n   - Switch to backup navigation system immediately\\n   - Report failure to control station\\n   - Return to base using predetermined safe route\\n   - Do not continue mission without primary navigation", "source_document": "Safety Protocols", "similarity_score": 0.46008196, "chunk_metadata": {"chunk_id": "06c184ad-d62e-4037-ae05-7399a54936e5", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 5, "token_count": 66, "text": "#### 2.2.1 System Failure Response\\n1. **Primary Navigation Failure**\\n   - Switch to backup navigation system immediately\\n   - Report failure to control station\\n   - Return to base using predetermined safe route\\n   - Do not continue mission without primary navigation", "content_preview": "#### 2.2.1 System Failure Response\\n1. **Primary Navigation Failure**\\n   - Switch to backup navigation system immediately\\n   - Report failure to control station\\n   - Return to base using predetermined ...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "content": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "source_document": "Safety Protocols", "similarity_score": 0.45862547, "chunk_metadata": {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 3, "token_count": 55, "text": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "content_preview": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones ...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "49936670-8134-4076-b4db-76cd6bccdc03", "content": "### 3.1 Critical Functions\\n- **REQ-SAFETY-001**: Navigation system failures SHALL NOT affect primary vehicle systems\\n- **REQ-SAFETY-002**: The system SHALL provide audible alerts for critical navigation events\\n- **REQ-SAFETY-003**: Emergency stop functionality SHALL be available within 1 button press", "source_document": "Navigation System Requirements", "similarity_score": 0.4322413, "chunk_metadata": {"chunk_id": "49936670-8134-4076-b4db-76cd6bccdc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 5, "token_count": 75, "text": "### 3.1 Critical Functions\\n- **REQ-SAFETY-001**: Navigation system failures SHALL NOT affect primary vehicle systems\\n- **REQ-SAFETY-002**: The system SHALL provide audible alerts for critical navigation events\\n- **REQ-SAFETY-003**: Emergency stop functionality SHALL be available within 1 button press", "content_preview": "### 3.1 Critical Functions\\n- **REQ-SAFETY-001**: Navigation system failures SHALL NOT affect primary vehicle systems\\n- **REQ-SAFETY-002**: The system SHALL provide audible alerts for critical navigati...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "f493bbf3-d99a-4c4e-90be-a173b0cadfb4", "content": "3. **Communication Systems**\\n   - Radio check with control station\\n   - Verify emergency communication channels\\n   - Test data link connectivity", "source_document": "Safety Protocols", "similarity_score": 0.4016766, "chunk_metadata": {"chunk_id": "f493bbf3-d99a-4c4e-90be-a173b0cadfb4", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 2, "token_count": 36, "text": "3. **Communication Systems**\\n   - Radio check with control station\\n   - Verify emergency communication channels\\n   - Test data link connectivity", "content_preview": "3. **Communication Systems**\\n   - Radio check with control station\\n   - Verify emergency communication channels\\n   - Test data link connectivity", "source_asset": "Safety Protocols", "document_type": "safety"}}]', 'processed_query': '{"original_query": "What are the navigation system requirements?", "cleaned_query": "What are the navigation system requirements?", "key_terms": ["what", "navigation", "system", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements", "system"], "word_count": 6, "char_count": 44, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924027.311389}, "processing_timestamp": 1756924027.8917356}', 'search_parameters': '{"primary_terms": ["what", "navigation", "system", "requirements"], "secondary_terms": [], "search_boost_terms": ["requirements", "system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:27:09,119 - services.external_task_worker - INFO - Successfully completed task 9a0478d9-88f3-11f0-bc34-0242ac160003
2025-09-03 14:27:09,127 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:27:09,127 - services.external_task_worker - INFO - Executing task 9a08497e-88f3-11f0-bc34-0242ac160003 for topic construct-prompt
2025-09-03 14:27:09,128 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the navigation system requirements?', 'context_quality_score': 0.59270016, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924027.311389}', 'reranked_context': '[{"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "content": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "source_document": "Navigation System Requirements", "similarity_score": 0.680192, "chunk_metadata": {"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 106, "text": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "content_preview": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint ...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "content": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "source_document": "Navigation System Requirements", "similarity_score": 0.6318933, "chunk_metadata": {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 102, "text": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "content_preview": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom leve...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "content": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "source_document": "Technical Specifications", "similarity_score": 0.60904396, "chunk_metadata": {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 86, "text": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "content_preview": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Pla...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.53267634, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.5096952, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What are the navigation system requirements?", "cleaned_query": "What are the navigation system requirements?", "key_terms": ["what", "navigation", "system", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements", "system"], "word_count": 6, "char_count": 44, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924027.311389}, "processing_timestamp": 1756924027.8917356}', 'search_parameters': '{"primary_terms": ["what", "navigation", "system", "requirements"], "secondary_terms": [], "search_boost_terms": ["requirements", "system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:27:09,139 - services.external_task_worker - INFO - Successfully completed task 9a08497e-88f3-11f0-bc34-0242ac160003
2025-09-03 14:27:09,148 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:27:09,148 - services.external_task_worker - INFO - Executing task 9a0b08b1-88f3-11f0-bc34-0242ac160003 for topic llm-generation
2025-09-03 14:27:09,148 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 1.1 Core Navigation Functions\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)\n[Context 2]: ### 1.2 User Interface Requirements  \n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup\n[Context 3]: ### 2.2 Navigation Software Stack\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation\n\nUser Question: What are the navigation system requirements?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What are the navigation system requirements?', 'context_quality_score': 0.59270016, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924027.311389}', 'reranked_context': '[{"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "content": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "source_document": "Navigation System Requirements", "similarity_score": 0.680192, "chunk_metadata": {"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 106, "text": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "content_preview": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint ...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "content": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "source_document": "Navigation System Requirements", "similarity_score": 0.6318933, "chunk_metadata": {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 102, "text": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "content_preview": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom leve...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "content": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "source_document": "Technical Specifications", "similarity_score": 0.60904396, "chunk_metadata": {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 86, "text": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "content_preview": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Pla...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.53267634, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.5096952, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What are the navigation system requirements?", "cleaned_query": "What are the navigation system requirements?", "key_terms": ["what", "navigation", "system", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements", "system"], "word_count": 6, "char_count": 44, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924027.311389}, "processing_timestamp": 1756924027.8917356}', 'search_parameters': '{"primary_terms": ["what", "navigation", "system", "requirements"], "secondary_terms": [], "search_boost_terms": ["requirements", "system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:27:09,157 - services.external_task_worker - INFO - Successfully completed task 9a0b08b1-88f3-11f0-bc34-0242ac160003
2025-09-03 14:27:09,166 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:27:09,166 - services.external_task_worker - INFO - Executing task 9a0e1602-88f3-11f0-bc34-0242ac160003 for topic process-response
2025-09-03 14:27:09,166 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 1.1 Core Navigation Functions\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)\n[Context 2]: ### 1.2 User Interface Requirements  \n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup\n[Context 3]: ### 2.2 Navigation Software Stack\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation\n\nUser Question: What are the navigation system requirements?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What are the navigation system requirements?', 'context_quality_score': 0.59270016, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924027.311389}', 'reranked_context': '[{"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "content": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "source_document": "Navigation System Requirements", "similarity_score": 0.680192, "chunk_metadata": {"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 106, "text": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "content_preview": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint ...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "content": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "source_document": "Navigation System Requirements", "similarity_score": 0.6318933, "chunk_metadata": {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 102, "text": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "content_preview": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom leve...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "content": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "source_document": "Technical Specifications", "similarity_score": 0.60904396, "chunk_metadata": {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 86, "text": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "content_preview": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Pla...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.53267634, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.5096952, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What are the navigation system requirements?", "cleaned_query": "What are the navigation system requirements?", "key_terms": ["what", "navigation", "system", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements", "system"], "word_count": 6, "char_count": 44, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924027.311389}, "processing_timestamp": 1756924027.8917356}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 1.1 Core Navigation Functions\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)\n[Context 2]: ### 1.2 User Interface Requirements\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup\n[Context 3]: ### 2.2 Navigation Software Stack\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["what", "navigation", "system", "requirements"], "secondary_terms": [], "search_boost_terms": ["requirements", "system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:27:09,175 - services.external_task_worker - INFO - Successfully completed task 9a0e1602-88f3-11f0-bc34-0242ac160003
2025-09-03 14:27:09,183 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:27:09,184 - services.external_task_worker - INFO - Executing task 9a10ae28-88f3-11f0-bc34-0242ac160003 for topic log-interaction
2025-09-03 14:27:09,184 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 1.1 Core Navigation Functions\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)\n[Context 2]: ### 1.2 User Interface Requirements  \n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup\n[Context 3]: ### 2.2 Navigation Software Stack\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation\n\nUser Question: What are the navigation system requirements?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What are the navigation system requirements?', 'context_quality_score': 0.59270016, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924027.311389}', 'reranked_context': '[{"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "content": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "source_document": "Navigation System Requirements", "similarity_score": 0.680192, "chunk_metadata": {"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 106, "text": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "content_preview": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint ...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "content": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "source_document": "Navigation System Requirements", "similarity_score": 0.6318933, "chunk_metadata": {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 102, "text": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "content_preview": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom leve...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "content": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "source_document": "Technical Specifications", "similarity_score": 0.60904396, "chunk_metadata": {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 86, "text": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "content_preview": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Pla...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.53267634, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.5096952, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 1.1 Core Navigation Functions\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)\n[Context 2]: ### 1.2 User Interface Requirements\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup\n[Context 3]: ### 2.2 Navigation Software Stack\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation\n\nThis response is based on the relevant documentation found in your knowledge assets.\n\nSources:\n[1] Navigation System Requirements\n[2] Navigation System Requirements\n[3] Technical Specifications\n', 'processed_query': '{"original_query": "What are the navigation system requirements?", "cleaned_query": "What are the navigation system requirements?", "key_terms": ["what", "navigation", "system", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements", "system"], "word_count": 6, "char_count": 44, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924027.311389}, "processing_timestamp": 1756924027.8917356}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 1.1 Core Navigation Functions\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)\n[Context 2]: ### 1.2 User Interface Requirements\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup\n[Context 3]: ### 2.2 Navigation Software Stack\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["what", "navigation", "system", "requirements"], "secondary_terms": [], "search_boost_terms": ["requirements", "system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:27:09,198 - services.external_task_worker - INFO - Successfully completed task 9a10ae28-88f3-11f0-bc34-0242ac160003
2025-09-03 14:27:12,228 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:27:12,228 - services.external_task_worker - INFO - Executing task 9ba6dda2-88f3-11f0-bc34-0242ac160003 for topic process-user-query
2025-09-03 14:27:12,228 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924031.813617}'}
2025-09-03 14:27:12,235 - services.external_task_worker - INFO - Successfully completed task 9ba6dda2-88f3-11f0-bc34-0242ac160003
2025-09-03 14:27:12,241 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:27:12,241 - services.external_task_worker - INFO - Executing task 9be3e6bd-88f3-11f0-bc34-0242ac160003 for topic retrieve-context
2025-09-03 14:27:12,241 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924031.813617}', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924031.813617}, "processing_timestamp": 1756924032.2284439}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:27:12,243 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-03 14:27:12,280 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-03 14:27:12,285 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-03 14:27:12,285 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-03 14:27:12,297 - services.embedding_service - INFO - Embedding service initialized
2025-09-03 14:27:12,297 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-03 14:27:12,297 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cuda:0
2025-09-03 14:27:12,297 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-03 14:27:13,623 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-03 14:27:13,632 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-03 14:27:13,640 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-03 14:27:13,641 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-03 14:27:13,641 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'What is the required position accuracy?...'
2025-09-03 14:27:13,657 - services.external_task_worker - INFO - Successfully completed task 9be3e6bd-88f3-11f0-bc34-0242ac160003
2025-09-03 14:27:13,665 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:27:13,665 - services.external_task_worker - INFO - Executing task 9cbce1b1-88f3-11f0-bc34-0242ac160003 for topic rerank-context
2025-09-03 14:27:13,666 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924031.813617}', 'retrieved_chunks': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924031.813617}, "processing_timestamp": 1756924032.2284439}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:27:13,676 - services.external_task_worker - INFO - Successfully completed task 9cbce1b1-88f3-11f0-bc34-0242ac160003
2025-09-03 14:27:13,684 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:27:13,684 - services.external_task_worker - INFO - Executing task 9cbfa0e8-88f3-11f0-bc34-0242ac160003 for topic fallback-search
2025-09-03 14:27:13,684 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924031.813617}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924031.813617}, "processing_timestamp": 1756924032.2284439}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:27:13,693 - services.external_task_worker - INFO - Successfully completed task 9cbfa0e8-88f3-11f0-bc34-0242ac160003
2025-09-03 14:27:13,700 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:27:13,700 - services.external_task_worker - INFO - Executing task 9cc2390d-88f3-11f0-bc34-0242ac160003 for topic construct-prompt
2025-09-03 14:27:13,700 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924031.813617}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924031.813617}, "processing_timestamp": 1756924032.2284439}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:27:13,710 - services.external_task_worker - INFO - Successfully completed task 9cc2390d-88f3-11f0-bc34-0242ac160003
2025-09-03 14:27:13,717 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:27:13,717 - services.external_task_worker - INFO - Executing task 9cc4d130-88f3-11f0-bc34-0242ac160003 for topic llm-generation
2025-09-03 14:27:13,718 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924031.813617}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924031.813617}, "processing_timestamp": 1756924032.2284439}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:27:13,727 - services.external_task_worker - INFO - Successfully completed task 9cc4d130-88f3-11f0-bc34-0242ac160003
2025-09-03 14:27:13,736 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:27:13,736 - services.external_task_worker - INFO - Executing task 9cc79061-88f3-11f0-bc34-0242ac160003 for topic process-response
2025-09-03 14:27:13,736 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924031.813617}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924031.813617}, "processing_timestamp": 1756924032.2284439}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:27:13,745 - services.external_task_worker - INFO - Successfully completed task 9cc79061-88f3-11f0-bc34-0242ac160003
2025-09-03 14:27:13,752 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:27:13,752 - services.external_task_worker - INFO - Executing task 9cca2887-88f3-11f0-bc34-0242ac160003 for topic log-interaction
2025-09-03 14:27:13,753 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924031.813617}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nThis response is based on the relevant documentation found in your knowledge assets.\n\nSources:\n[1] Navigation System Requirements\n', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924031.813617}, "processing_timestamp": 1756924032.2284439}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:27:13,766 - services.external_task_worker - INFO - Successfully completed task 9cca2887-88f3-11f0-bc34-0242ac160003
2025-09-03 14:27:14,666 - __main__ - INFO - Received signal 2, shutting down worker...
2025-09-03 14:27:14,667 - __main__ - INFO - Received signal 15, shutting down worker...
2025-09-03 14:29:10,865 - services.external_task_worker - INFO - Starting external task worker: odras-worker-1756924150
2025-09-03 14:29:31,028 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:29:31,028 - services.external_task_worker - INFO - Executing task ee938191-88f3-11f0-bc34-0242ac160003 for topic process-user-query
2025-09-03 14:29:31,028 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the navigation system requirements?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924170.9299603}'}
2025-09-03 14:29:31,038 - services.external_task_worker - INFO - Successfully completed task ee938191-88f3-11f0-bc34-0242ac160003
2025-09-03 14:29:31,047 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:29:31,047 - services.external_task_worker - INFO - Executing task ee9f417c-88f3-11f0-bc34-0242ac160003 for topic retrieve-context
2025-09-03 14:29:31,047 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the navigation system requirements?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924170.9299603}', 'processed_query': '{"original_query": "What are the navigation system requirements?", "cleaned_query": "What are the navigation system requirements?", "key_terms": ["what", "navigation", "system", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["system", "requirements"], "word_count": 6, "char_count": 44, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924170.9299603}, "processing_timestamp": 1756924171.0287678}', 'search_parameters': '{"primary_terms": ["what", "navigation", "system", "requirements"], "secondary_terms": [], "search_boost_terms": ["system", "requirements"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:29:31,059 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-03 14:29:31,135 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-03 14:29:31,142 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-03 14:29:31,143 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-03 14:29:31,165 - services.embedding_service - INFO - Embedding service initialized
2025-09-03 14:29:31,165 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-03 14:29:33,155 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cuda:0
2025-09-03 14:29:33,155 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-03 14:29:35,313 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-03 14:29:35,599 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-03 14:29:35,608 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-03 14:29:35,610 - services.qdrant_service - INFO - Found 10 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-03 14:29:35,610 - services.qdrant_service - INFO - Found 10 similar chunks for query: 'What are the navigation system requirements?...'
2025-09-03 14:29:35,677 - services.external_task_worker - INFO - Successfully completed task ee9f417c-88f3-11f0-bc34-0242ac160003
2025-09-03 14:29:35,685 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:29:35,686 - services.external_task_worker - INFO - Executing task f1631c80-88f3-11f0-bc34-0242ac160003 for topic rerank-context
2025-09-03 14:29:35,686 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the navigation system requirements?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924170.9299603}', 'retrieved_chunks': '[{"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "content": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "source_document": "Navigation System Requirements", "similarity_score": 0.680192, "chunk_metadata": {"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 106, "text": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "content_preview": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint ...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "content": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "source_document": "Navigation System Requirements", "similarity_score": 0.6318933, "chunk_metadata": {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 102, "text": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "content_preview": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom leve...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "content": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "source_document": "Technical Specifications", "similarity_score": 0.60904396, "chunk_metadata": {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 86, "text": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "content_preview": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Pla...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.53267634, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.5096952, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "content": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "source_document": "Technical Specifications", "similarity_score": 0.47959125, "chunk_metadata": {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 7, "token_count": 76, "text": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "content_preview": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "06c184ad-d62e-4037-ae05-7399a54936e5", "content": "#### 2.2.1 System Failure Response\\n1. **Primary Navigation Failure**\\n   - Switch to backup navigation system immediately\\n   - Report failure to control station\\n   - Return to base using predetermined safe route\\n   - Do not continue mission without primary navigation", "source_document": "Safety Protocols", "similarity_score": 0.46008196, "chunk_metadata": {"chunk_id": "06c184ad-d62e-4037-ae05-7399a54936e5", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 5, "token_count": 66, "text": "#### 2.2.1 System Failure Response\\n1. **Primary Navigation Failure**\\n   - Switch to backup navigation system immediately\\n   - Report failure to control station\\n   - Return to base using predetermined safe route\\n   - Do not continue mission without primary navigation", "content_preview": "#### 2.2.1 System Failure Response\\n1. **Primary Navigation Failure**\\n   - Switch to backup navigation system immediately\\n   - Report failure to control station\\n   - Return to base using predetermined ...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "content": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "source_document": "Safety Protocols", "similarity_score": 0.45862547, "chunk_metadata": {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 3, "token_count": 55, "text": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "content_preview": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones ...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "49936670-8134-4076-b4db-76cd6bccdc03", "content": "### 3.1 Critical Functions\\n- **REQ-SAFETY-001**: Navigation system failures SHALL NOT affect primary vehicle systems\\n- **REQ-SAFETY-002**: The system SHALL provide audible alerts for critical navigation events\\n- **REQ-SAFETY-003**: Emergency stop functionality SHALL be available within 1 button press", "source_document": "Navigation System Requirements", "similarity_score": 0.4322413, "chunk_metadata": {"chunk_id": "49936670-8134-4076-b4db-76cd6bccdc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 5, "token_count": 75, "text": "### 3.1 Critical Functions\\n- **REQ-SAFETY-001**: Navigation system failures SHALL NOT affect primary vehicle systems\\n- **REQ-SAFETY-002**: The system SHALL provide audible alerts for critical navigation events\\n- **REQ-SAFETY-003**: Emergency stop functionality SHALL be available within 1 button press", "content_preview": "### 3.1 Critical Functions\\n- **REQ-SAFETY-001**: Navigation system failures SHALL NOT affect primary vehicle systems\\n- **REQ-SAFETY-002**: The system SHALL provide audible alerts for critical navigati...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "f493bbf3-d99a-4c4e-90be-a173b0cadfb4", "content": "3. **Communication Systems**\\n   - Radio check with control station\\n   - Verify emergency communication channels\\n   - Test data link connectivity", "source_document": "Safety Protocols", "similarity_score": 0.4016766, "chunk_metadata": {"chunk_id": "f493bbf3-d99a-4c4e-90be-a173b0cadfb4", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 2, "token_count": 36, "text": "3. **Communication Systems**\\n   - Radio check with control station\\n   - Verify emergency communication channels\\n   - Test data link connectivity", "content_preview": "3. **Communication Systems**\\n   - Radio check with control station\\n   - Verify emergency communication channels\\n   - Test data link connectivity", "source_asset": "Safety Protocols", "document_type": "safety"}}]', 'processed_query': '{"original_query": "What are the navigation system requirements?", "cleaned_query": "What are the navigation system requirements?", "key_terms": ["what", "navigation", "system", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["system", "requirements"], "word_count": 6, "char_count": 44, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924170.9299603}, "processing_timestamp": 1756924171.0287678}', 'search_parameters': '{"primary_terms": ["what", "navigation", "system", "requirements"], "secondary_terms": [], "search_boost_terms": ["system", "requirements"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:29:35,698 - services.external_task_worker - INFO - Successfully completed task f1631c80-88f3-11f0-bc34-0242ac160003
2025-09-03 14:29:35,709 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:29:35,709 - services.external_task_worker - INFO - Executing task f1664fe7-88f3-11f0-bc34-0242ac160003 for topic fallback-search
2025-09-03 14:29:35,709 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the navigation system requirements?', 'context_quality_score': 0.59270016, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924170.9299603}', 'reranked_context': '[{"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "content": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "source_document": "Navigation System Requirements", "similarity_score": 0.680192, "chunk_metadata": {"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 106, "text": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "content_preview": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint ...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "content": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "source_document": "Navigation System Requirements", "similarity_score": 0.6318933, "chunk_metadata": {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 102, "text": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "content_preview": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom leve...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "content": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "source_document": "Technical Specifications", "similarity_score": 0.60904396, "chunk_metadata": {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 86, "text": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "content_preview": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Pla...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.53267634, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.5096952, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "content": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "source_document": "Navigation System Requirements", "similarity_score": 0.680192, "chunk_metadata": {"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 106, "text": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "content_preview": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint ...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "content": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "source_document": "Navigation System Requirements", "similarity_score": 0.6318933, "chunk_metadata": {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 102, "text": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "content_preview": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom leve...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "content": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "source_document": "Technical Specifications", "similarity_score": 0.60904396, "chunk_metadata": {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 86, "text": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "content_preview": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Pla...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.53267634, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.5096952, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "content": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "source_document": "Technical Specifications", "similarity_score": 0.47959125, "chunk_metadata": {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 7, "token_count": 76, "text": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "content_preview": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "06c184ad-d62e-4037-ae05-7399a54936e5", "content": "#### 2.2.1 System Failure Response\\n1. **Primary Navigation Failure**\\n   - Switch to backup navigation system immediately\\n   - Report failure to control station\\n   - Return to base using predetermined safe route\\n   - Do not continue mission without primary navigation", "source_document": "Safety Protocols", "similarity_score": 0.46008196, "chunk_metadata": {"chunk_id": "06c184ad-d62e-4037-ae05-7399a54936e5", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 5, "token_count": 66, "text": "#### 2.2.1 System Failure Response\\n1. **Primary Navigation Failure**\\n   - Switch to backup navigation system immediately\\n   - Report failure to control station\\n   - Return to base using predetermined safe route\\n   - Do not continue mission without primary navigation", "content_preview": "#### 2.2.1 System Failure Response\\n1. **Primary Navigation Failure**\\n   - Switch to backup navigation system immediately\\n   - Report failure to control station\\n   - Return to base using predetermined ...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "content": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "source_document": "Safety Protocols", "similarity_score": 0.45862547, "chunk_metadata": {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 3, "token_count": 55, "text": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "content_preview": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones ...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "49936670-8134-4076-b4db-76cd6bccdc03", "content": "### 3.1 Critical Functions\\n- **REQ-SAFETY-001**: Navigation system failures SHALL NOT affect primary vehicle systems\\n- **REQ-SAFETY-002**: The system SHALL provide audible alerts for critical navigation events\\n- **REQ-SAFETY-003**: Emergency stop functionality SHALL be available within 1 button press", "source_document": "Navigation System Requirements", "similarity_score": 0.4322413, "chunk_metadata": {"chunk_id": "49936670-8134-4076-b4db-76cd6bccdc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 5, "token_count": 75, "text": "### 3.1 Critical Functions\\n- **REQ-SAFETY-001**: Navigation system failures SHALL NOT affect primary vehicle systems\\n- **REQ-SAFETY-002**: The system SHALL provide audible alerts for critical navigation events\\n- **REQ-SAFETY-003**: Emergency stop functionality SHALL be available within 1 button press", "content_preview": "### 3.1 Critical Functions\\n- **REQ-SAFETY-001**: Navigation system failures SHALL NOT affect primary vehicle systems\\n- **REQ-SAFETY-002**: The system SHALL provide audible alerts for critical navigati...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "f493bbf3-d99a-4c4e-90be-a173b0cadfb4", "content": "3. **Communication Systems**\\n   - Radio check with control station\\n   - Verify emergency communication channels\\n   - Test data link connectivity", "source_document": "Safety Protocols", "similarity_score": 0.4016766, "chunk_metadata": {"chunk_id": "f493bbf3-d99a-4c4e-90be-a173b0cadfb4", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 2, "token_count": 36, "text": "3. **Communication Systems**\\n   - Radio check with control station\\n   - Verify emergency communication channels\\n   - Test data link connectivity", "content_preview": "3. **Communication Systems**\\n   - Radio check with control station\\n   - Verify emergency communication channels\\n   - Test data link connectivity", "source_asset": "Safety Protocols", "document_type": "safety"}}]', 'processed_query': '{"original_query": "What are the navigation system requirements?", "cleaned_query": "What are the navigation system requirements?", "key_terms": ["what", "navigation", "system", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["system", "requirements"], "word_count": 6, "char_count": 44, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924170.9299603}, "processing_timestamp": 1756924171.0287678}', 'search_parameters': '{"primary_terms": ["what", "navigation", "system", "requirements"], "secondary_terms": [], "search_boost_terms": ["system", "requirements"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:29:35,720 - services.external_task_worker - INFO - Successfully completed task f1664fe7-88f3-11f0-bc34-0242ac160003
2025-09-03 14:29:35,728 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:29:35,728 - services.external_task_worker - INFO - Executing task f169ab5c-88f3-11f0-bc34-0242ac160003 for topic construct-prompt
2025-09-03 14:29:35,729 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the navigation system requirements?', 'context_quality_score': 0.59270016, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924170.9299603}', 'reranked_context': '[{"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "content": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "source_document": "Navigation System Requirements", "similarity_score": 0.680192, "chunk_metadata": {"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 106, "text": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "content_preview": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint ...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "content": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "source_document": "Navigation System Requirements", "similarity_score": 0.6318933, "chunk_metadata": {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 102, "text": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "content_preview": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom leve...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "content": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "source_document": "Technical Specifications", "similarity_score": 0.60904396, "chunk_metadata": {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 86, "text": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "content_preview": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Pla...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.53267634, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.5096952, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What are the navigation system requirements?", "cleaned_query": "What are the navigation system requirements?", "key_terms": ["what", "navigation", "system", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["system", "requirements"], "word_count": 6, "char_count": 44, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924170.9299603}, "processing_timestamp": 1756924171.0287678}', 'search_parameters': '{"primary_terms": ["what", "navigation", "system", "requirements"], "secondary_terms": [], "search_boost_terms": ["system", "requirements"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:29:35,738 - services.external_task_worker - INFO - Successfully completed task f169ab5c-88f3-11f0-bc34-0242ac160003
2025-09-03 14:29:35,747 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:29:35,747 - services.external_task_worker - INFO - Executing task f16c6a8f-88f3-11f0-bc34-0242ac160003 for topic llm-generation
2025-09-03 14:29:35,747 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 1.1 Core Navigation Functions\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)\n[Context 2]: ### 1.2 User Interface Requirements  \n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup\n[Context 3]: ### 2.2 Navigation Software Stack\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation\n\nUser Question: What are the navigation system requirements?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What are the navigation system requirements?', 'context_quality_score': 0.59270016, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924170.9299603}', 'reranked_context': '[{"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "content": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "source_document": "Navigation System Requirements", "similarity_score": 0.680192, "chunk_metadata": {"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 106, "text": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "content_preview": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint ...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "content": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "source_document": "Navigation System Requirements", "similarity_score": 0.6318933, "chunk_metadata": {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 102, "text": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "content_preview": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom leve...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "content": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "source_document": "Technical Specifications", "similarity_score": 0.60904396, "chunk_metadata": {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 86, "text": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "content_preview": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Pla...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.53267634, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.5096952, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What are the navigation system requirements?", "cleaned_query": "What are the navigation system requirements?", "key_terms": ["what", "navigation", "system", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["system", "requirements"], "word_count": 6, "char_count": 44, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924170.9299603}, "processing_timestamp": 1756924171.0287678}', 'search_parameters': '{"primary_terms": ["what", "navigation", "system", "requirements"], "secondary_terms": [], "search_boost_terms": ["system", "requirements"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:29:35,757 - services.external_task_worker - INFO - Successfully completed task f16c6a8f-88f3-11f0-bc34-0242ac160003
2025-09-03 14:29:35,765 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:29:35,765 - services.external_task_worker - INFO - Executing task f16f77e0-88f3-11f0-bc34-0242ac160003 for topic process-response
2025-09-03 14:29:35,766 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 1.1 Core Navigation Functions\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)\n[Context 2]: ### 1.2 User Interface Requirements  \n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup\n[Context 3]: ### 2.2 Navigation Software Stack\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation\n\nUser Question: What are the navigation system requirements?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What are the navigation system requirements?', 'context_quality_score': 0.59270016, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924170.9299603}', 'reranked_context': '[{"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "content": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "source_document": "Navigation System Requirements", "similarity_score": 0.680192, "chunk_metadata": {"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 106, "text": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "content_preview": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint ...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "content": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "source_document": "Navigation System Requirements", "similarity_score": 0.6318933, "chunk_metadata": {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 102, "text": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "content_preview": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom leve...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "content": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "source_document": "Technical Specifications", "similarity_score": 0.60904396, "chunk_metadata": {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 86, "text": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "content_preview": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Pla...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.53267634, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.5096952, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What are the navigation system requirements?", "cleaned_query": "What are the navigation system requirements?", "key_terms": ["what", "navigation", "system", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["system", "requirements"], "word_count": 6, "char_count": 44, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924170.9299603}, "processing_timestamp": 1756924171.0287678}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 1.1 Core Navigation Functions\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)\n[Context 2]: ### 1.2 User Interface Requirements\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup\n[Context 3]: ### 2.2 Navigation Software Stack\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["what", "navigation", "system", "requirements"], "secondary_terms": [], "search_boost_terms": ["system", "requirements"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:29:35,776 - services.external_task_worker - INFO - Successfully completed task f16f77e0-88f3-11f0-bc34-0242ac160003
2025-09-03 14:29:35,783 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:29:35,783 - services.external_task_worker - INFO - Executing task f1723716-88f3-11f0-bc34-0242ac160003 for topic log-interaction
2025-09-03 14:29:35,783 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 1.1 Core Navigation Functions\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)\n[Context 2]: ### 1.2 User Interface Requirements  \n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup\n[Context 3]: ### 2.2 Navigation Software Stack\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation\n\nUser Question: What are the navigation system requirements?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What are the navigation system requirements?', 'context_quality_score': 0.59270016, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924170.9299603}', 'reranked_context': '[{"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "content": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "source_document": "Navigation System Requirements", "similarity_score": 0.680192, "chunk_metadata": {"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 106, "text": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "content_preview": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint ...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "content": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "source_document": "Navigation System Requirements", "similarity_score": 0.6318933, "chunk_metadata": {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 102, "text": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "content_preview": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom leve...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "content": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "source_document": "Technical Specifications", "similarity_score": 0.60904396, "chunk_metadata": {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 86, "text": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "content_preview": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Pla...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.53267634, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.5096952, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 1.1 Core Navigation Functions\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)\n[Context 2]: ### 1.2 User Interface Requirements\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup\n[Context 3]: ### 2.2 Navigation Software Stack\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation\n\nThis response is based on the relevant documentation found in your knowledge assets.\n\nSources:\n[1] Navigation System Requirements\n[2] Navigation System Requirements\n[3] Technical Specifications\n', 'processed_query': '{"original_query": "What are the navigation system requirements?", "cleaned_query": "What are the navigation system requirements?", "key_terms": ["what", "navigation", "system", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["system", "requirements"], "word_count": 6, "char_count": 44, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924170.9299603}, "processing_timestamp": 1756924171.0287678}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 1.1 Core Navigation Functions\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)\n[Context 2]: ### 1.2 User Interface Requirements\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup\n[Context 3]: ### 2.2 Navigation Software Stack\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["what", "navigation", "system", "requirements"], "secondary_terms": [], "search_boost_terms": ["system", "requirements"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:29:35,797 - services.external_task_worker - INFO - Successfully completed task f1723716-88f3-11f0-bc34-0242ac160003
2025-09-03 14:29:36,814 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:29:36,814 - services.external_task_worker - INFO - Executing task f1a41ca0-88f3-11f0-bc34-0242ac160003 for topic process-user-query
2025-09-03 14:29:36,814 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924176.0708761}'}
2025-09-03 14:29:36,825 - services.external_task_worker - INFO - Successfully completed task f1a41ca0-88f3-11f0-bc34-0242ac160003
2025-09-03 14:29:36,840 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:29:36,841 - services.external_task_worker - INFO - Executing task f21247db-88f3-11f0-bc34-0242ac160003 for topic retrieve-context
2025-09-03 14:29:36,841 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924176.0708761}', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924176.0708761}, "processing_timestamp": 1756924176.8148468}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:29:36,843 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-03 14:29:36,888 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-03 14:29:36,894 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-03 14:29:36,895 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-03 14:29:36,909 - services.embedding_service - INFO - Embedding service initialized
2025-09-03 14:29:36,910 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-03 14:29:36,910 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cuda:0
2025-09-03 14:29:36,910 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-03 14:29:37,845 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-03 14:29:37,851 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-03 14:29:37,857 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-03 14:29:37,857 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-03 14:29:37,858 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'What is the required position accuracy?...'
2025-09-03 14:29:37,869 - services.external_task_worker - INFO - Successfully completed task f21247db-88f3-11f0-bc34-0242ac160003
2025-09-03 14:29:37,876 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:29:37,876 - services.external_task_worker - INFO - Executing task f2b1e34f-88f3-11f0-bc34-0242ac160003 for topic rerank-context
2025-09-03 14:29:37,877 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924176.0708761}', 'retrieved_chunks': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924176.0708761}, "processing_timestamp": 1756924176.8148468}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:29:37,883 - services.external_task_worker - INFO - Successfully completed task f2b1e34f-88f3-11f0-bc34-0242ac160003
2025-09-03 14:29:37,892 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:29:37,892 - services.external_task_worker - INFO - Executing task f2b40646-88f3-11f0-bc34-0242ac160003 for topic fallback-search
2025-09-03 14:29:37,892 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924176.0708761}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924176.0708761}, "processing_timestamp": 1756924176.8148468}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:29:37,898 - services.external_task_worker - INFO - Successfully completed task f2b40646-88f3-11f0-bc34-0242ac160003
2025-09-03 14:29:37,906 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:29:37,906 - services.external_task_worker - INFO - Executing task f2b6504b-88f3-11f0-bc34-0242ac160003 for topic construct-prompt
2025-09-03 14:29:37,906 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924176.0708761}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924176.0708761}, "processing_timestamp": 1756924176.8148468}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:29:37,914 - services.external_task_worker - INFO - Successfully completed task f2b6504b-88f3-11f0-bc34-0242ac160003
2025-09-03 14:29:37,920 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:29:37,920 - services.external_task_worker - INFO - Executing task f2b8c15e-88f3-11f0-bc34-0242ac160003 for topic llm-generation
2025-09-03 14:29:37,920 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924176.0708761}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924176.0708761}, "processing_timestamp": 1756924176.8148468}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:29:37,929 - services.external_task_worker - INFO - Successfully completed task f2b8c15e-88f3-11f0-bc34-0242ac160003
2025-09-03 14:29:37,935 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:29:37,935 - services.external_task_worker - INFO - Executing task f2bae44f-88f3-11f0-bc34-0242ac160003 for topic process-response
2025-09-03 14:29:37,935 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924176.0708761}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924176.0708761}, "processing_timestamp": 1756924176.8148468}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:29:37,945 - services.external_task_worker - INFO - Successfully completed task f2bae44f-88f3-11f0-bc34-0242ac160003
2025-09-03 14:29:37,953 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:29:37,953 - services.external_task_worker - INFO - Executing task f2bd5465-88f3-11f0-bc34-0242ac160003 for topic log-interaction
2025-09-03 14:29:37,953 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924176.0708761}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nThis response is based on the relevant documentation found in your knowledge assets.\n\nSources:\n[1] Navigation System Requirements\n', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924176.0708761}, "processing_timestamp": 1756924176.8148468}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:29:37,970 - services.external_task_worker - INFO - Successfully completed task f2bd5465-88f3-11f0-bc34-0242ac160003
2025-09-03 14:29:38,986 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:29:38,986 - services.external_task_worker - INFO - Executing task f2e4647f-88f3-11f0-bc34-0242ac160003 for topic process-user-query
2025-09-03 14:29:38,986 - services.external_task_worker - INFO - Task variables: {'user_query': 'What safety procedures should be followed?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924178.1721087}'}
2025-09-03 14:29:38,993 - services.external_task_worker - INFO - Successfully completed task f2e4647f-88f3-11f0-bc34-0242ac160003
2025-09-03 14:29:39,000 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:29:39,000 - services.external_task_worker - INFO - Executing task f35d652a-88f3-11f0-bc34-0242ac160003 for topic retrieve-context
2025-09-03 14:29:39,000 - services.external_task_worker - INFO - Task variables: {'user_query': 'What safety procedures should be followed?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924178.1721087}', 'processed_query': '{"original_query": "What safety procedures should be followed?", "cleaned_query": "What safety procedures should be followed?", "key_terms": ["what", "safety", "procedures", "followed"], "question_intent": ["what"], "query_type": "question", "domain_terms": ["should"], "word_count": 6, "char_count": 42, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924178.1721087}, "processing_timestamp": 1756924178.9865403}', 'search_parameters': '{"primary_terms": ["what", "safety", "procedures", "followed"], "secondary_terms": [], "search_boost_terms": ["should"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:29:39,003 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-03 14:29:39,047 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-03 14:29:39,050 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-03 14:29:39,051 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-03 14:29:39,063 - services.embedding_service - INFO - Embedding service initialized
2025-09-03 14:29:39,063 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-03 14:29:39,063 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cuda:0
2025-09-03 14:29:39,063 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-03 14:29:40,089 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-03 14:29:40,096 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-03 14:29:40,101 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-03 14:29:40,101 - services.qdrant_service - INFO - Found 5 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-03 14:29:40,101 - services.qdrant_service - INFO - Found 5 similar chunks for query: 'What safety procedures should be followed?...'
2025-09-03 14:29:40,142 - services.external_task_worker - INFO - Successfully completed task f35d652a-88f3-11f0-bc34-0242ac160003
2025-09-03 14:29:40,149 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:29:40,149 - services.external_task_worker - INFO - Executing task f40cb80e-88f3-11f0-bc34-0242ac160003 for topic rerank-context
2025-09-03 14:29:40,149 - services.external_task_worker - INFO - Task variables: {'user_query': 'What safety procedures should be followed?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924178.1721087}', 'retrieved_chunks': '[{"chunk_id": "05087351-5cd1-4d1d-a711-96de15580877", "content": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimum 100m)", "source_document": "Safety Protocols", "similarity_score": 0.45991945, "chunk_metadata": {"chunk_id": "05087351-5cd1-4d1d-a711-96de15580877", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 51, "text": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimum 100m)", "content_preview": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimu...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "f7aea19c-4627-4849-bdea-f5668600f5fb", "content": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | Medium     | Major   | Action required within 24 hours |\\n| Medium     | Low        | Moderate| Action required within 1 week |\\n| Low        | Very Low   | Minor   | Monitor and review monthly |", "source_document": "Safety Protocols", "similarity_score": 0.45425004, "chunk_metadata": {"chunk_id": "f7aea19c-4627-4849-bdea-f5668600f5fb", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 10, "token_count": 98, "text": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | Medium     | Major   | Action required within 24 hours |\\n| Medium     | Low        | Moderate| Action required within 1 week |\\n| Low        | Very Low   | Minor   | Monitor and review monthly |", "content_preview": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | ...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "71331fe0-4b92-4e47-90a0-a7708353982d", "content": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance completion\\n- Document all maintenance activities in system logs", "source_document": "Safety Protocols", "similarity_score": 0.4409764, "chunk_metadata": {"chunk_id": "71331fe0-4b92-4e47-90a0-a7708353982d", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 8, "token_count": 65, "text": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance completion\\n- Document all maintenance activities in system logs", "content_preview": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance com...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.43016434, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "content": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "source_document": "Safety Protocols", "similarity_score": 0.40281257, "chunk_metadata": {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 3, "token_count": 55, "text": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "content_preview": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones ...", "source_asset": "Safety Protocols", "document_type": "safety"}}]', 'processed_query': '{"original_query": "What safety procedures should be followed?", "cleaned_query": "What safety procedures should be followed?", "key_terms": ["what", "safety", "procedures", "followed"], "question_intent": ["what"], "query_type": "question", "domain_terms": ["should"], "word_count": 6, "char_count": 42, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924178.1721087}, "processing_timestamp": 1756924178.9865403}', 'search_parameters': '{"primary_terms": ["what", "safety", "procedures", "followed"], "secondary_terms": [], "search_boost_terms": ["should"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:29:40,157 - services.external_task_worker - INFO - Successfully completed task f40cb80e-88f3-11f0-bc34-0242ac160003
2025-09-03 14:29:40,166 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:29:40,166 - services.external_task_worker - INFO - Executing task f40f0215-88f3-11f0-bc34-0242ac160003 for topic fallback-search
2025-09-03 14:29:40,166 - services.external_task_worker - INFO - Task variables: {'user_query': 'What safety procedures should be followed?', 'context_quality_score': 0.43762456, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924178.1721087}', 'reranked_context': '[{"chunk_id": "05087351-5cd1-4d1d-a711-96de15580877", "content": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimum 100m)", "source_document": "Safety Protocols", "similarity_score": 0.45991945, "chunk_metadata": {"chunk_id": "05087351-5cd1-4d1d-a711-96de15580877", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 51, "text": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimum 100m)", "content_preview": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimu...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "f7aea19c-4627-4849-bdea-f5668600f5fb", "content": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | Medium     | Major   | Action required within 24 hours |\\n| Medium     | Low        | Moderate| Action required within 1 week |\\n| Low        | Very Low   | Minor   | Monitor and review monthly |", "source_document": "Safety Protocols", "similarity_score": 0.45425004, "chunk_metadata": {"chunk_id": "f7aea19c-4627-4849-bdea-f5668600f5fb", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 10, "token_count": 98, "text": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | Medium     | Major   | Action required within 24 hours |\\n| Medium     | Low        | Moderate| Action required within 1 week |\\n| Low        | Very Low   | Minor   | Monitor and review monthly |", "content_preview": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | ...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "71331fe0-4b92-4e47-90a0-a7708353982d", "content": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance completion\\n- Document all maintenance activities in system logs", "source_document": "Safety Protocols", "similarity_score": 0.4409764, "chunk_metadata": {"chunk_id": "71331fe0-4b92-4e47-90a0-a7708353982d", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 8, "token_count": 65, "text": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance completion\\n- Document all maintenance activities in system logs", "content_preview": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance com...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.43016434, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "content": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "source_document": "Safety Protocols", "similarity_score": 0.40281257, "chunk_metadata": {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 3, "token_count": 55, "text": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "content_preview": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones ...", "source_asset": "Safety Protocols", "document_type": "safety"}}]', 'retrieved_chunks': '[{"chunk_id": "05087351-5cd1-4d1d-a711-96de15580877", "content": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimum 100m)", "source_document": "Safety Protocols", "similarity_score": 0.45991945, "chunk_metadata": {"chunk_id": "05087351-5cd1-4d1d-a711-96de15580877", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 51, "text": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimum 100m)", "content_preview": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimu...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "f7aea19c-4627-4849-bdea-f5668600f5fb", "content": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | Medium     | Major   | Action required within 24 hours |\\n| Medium     | Low        | Moderate| Action required within 1 week |\\n| Low        | Very Low   | Minor   | Monitor and review monthly |", "source_document": "Safety Protocols", "similarity_score": 0.45425004, "chunk_metadata": {"chunk_id": "f7aea19c-4627-4849-bdea-f5668600f5fb", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 10, "token_count": 98, "text": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | Medium     | Major   | Action required within 24 hours |\\n| Medium     | Low        | Moderate| Action required within 1 week |\\n| Low        | Very Low   | Minor   | Monitor and review monthly |", "content_preview": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | ...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "71331fe0-4b92-4e47-90a0-a7708353982d", "content": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance completion\\n- Document all maintenance activities in system logs", "source_document": "Safety Protocols", "similarity_score": 0.4409764, "chunk_metadata": {"chunk_id": "71331fe0-4b92-4e47-90a0-a7708353982d", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 8, "token_count": 65, "text": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance completion\\n- Document all maintenance activities in system logs", "content_preview": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance com...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.43016434, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "content": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "source_document": "Safety Protocols", "similarity_score": 0.40281257, "chunk_metadata": {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 3, "token_count": 55, "text": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "content_preview": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones ...", "source_asset": "Safety Protocols", "document_type": "safety"}}]', 'processed_query': '{"original_query": "What safety procedures should be followed?", "cleaned_query": "What safety procedures should be followed?", "key_terms": ["what", "safety", "procedures", "followed"], "question_intent": ["what"], "query_type": "question", "domain_terms": ["should"], "word_count": 6, "char_count": 42, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924178.1721087}, "processing_timestamp": 1756924178.9865403}', 'search_parameters': '{"primary_terms": ["what", "safety", "procedures", "followed"], "secondary_terms": [], "search_boost_terms": ["should"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:29:40,176 - services.external_task_worker - INFO - Successfully completed task f40f0215-88f3-11f0-bc34-0242ac160003
2025-09-03 14:29:40,184 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:29:40,185 - services.external_task_worker - INFO - Executing task f4119a3a-88f3-11f0-bc34-0242ac160003 for topic construct-prompt
2025-09-03 14:29:40,185 - services.external_task_worker - INFO - Task variables: {'user_query': 'What safety procedures should be followed?', 'context_quality_score': 0.43762456, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924178.1721087}', 'reranked_context': '[{"chunk_id": "05087351-5cd1-4d1d-a711-96de15580877", "content": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimum 100m)", "source_document": "Safety Protocols", "similarity_score": 0.45991945, "chunk_metadata": {"chunk_id": "05087351-5cd1-4d1d-a711-96de15580877", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 51, "text": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimum 100m)", "content_preview": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimu...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "f7aea19c-4627-4849-bdea-f5668600f5fb", "content": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | Medium     | Major   | Action required within 24 hours |\\n| Medium     | Low        | Moderate| Action required within 1 week |\\n| Low        | Very Low   | Minor   | Monitor and review monthly |", "source_document": "Safety Protocols", "similarity_score": 0.45425004, "chunk_metadata": {"chunk_id": "f7aea19c-4627-4849-bdea-f5668600f5fb", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 10, "token_count": 98, "text": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | Medium     | Major   | Action required within 24 hours |\\n| Medium     | Low        | Moderate| Action required within 1 week |\\n| Low        | Very Low   | Minor   | Monitor and review monthly |", "content_preview": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | ...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "71331fe0-4b92-4e47-90a0-a7708353982d", "content": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance completion\\n- Document all maintenance activities in system logs", "source_document": "Safety Protocols", "similarity_score": 0.4409764, "chunk_metadata": {"chunk_id": "71331fe0-4b92-4e47-90a0-a7708353982d", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 8, "token_count": 65, "text": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance completion\\n- Document all maintenance activities in system logs", "content_preview": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance com...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.43016434, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "content": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "source_document": "Safety Protocols", "similarity_score": 0.40281257, "chunk_metadata": {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 3, "token_count": 55, "text": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "content_preview": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones ...", "source_asset": "Safety Protocols", "document_type": "safety"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What safety procedures should be followed?", "cleaned_query": "What safety procedures should be followed?", "key_terms": ["what", "safety", "procedures", "followed"], "question_intent": ["what"], "query_type": "question", "domain_terms": ["should"], "word_count": 6, "char_count": 42, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924178.1721087}, "processing_timestamp": 1756924178.9865403}', 'search_parameters': '{"primary_terms": ["what", "safety", "procedures", "followed"], "secondary_terms": [], "search_boost_terms": ["should"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:29:40,197 - services.external_task_worker - INFO - Successfully completed task f4119a3a-88f3-11f0-bc34-0242ac160003
2025-09-03 14:29:40,206 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:29:40,206 - services.external_task_worker - INFO - Executing task f414a78d-88f3-11f0-bc34-0242ac160003 for topic llm-generation
2025-09-03 14:29:40,206 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.1 Normal Operations\n- Maintain continuous monitoring of all systems\n- Report position updates every 15 minutes\n- Monitor fuel/power consumption rates\n- Maintain safe separation distances (minimum 100m)\n[Context 2]: | Risk Level | Probability | Impact | Mitigation Required |\n|------------|-------------|---------|-------------------|\n| Critical   | High       | Severe  | Immediate action required |\n| High       | Medium     | Major   | Action required within 24 hours |\n| Medium     | Low        | Moderate| Action required within 1 week |\n| Low        | Very Low   | Minor   | Monitor and review monthly |\n[Context 3]: ### 3.1 Routine Maintenance\n- All maintenance SHALL be performed by certified personnel only\n- Use proper lockout/tagout procedures during maintenance\n- Verify all safety systems after maintenance completion\n- Document all maintenance activities in system logs\n\nUser Question: What safety procedures should be followed?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What safety procedures should be followed?', 'context_quality_score': 0.43762456, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924178.1721087}', 'reranked_context': '[{"chunk_id": "05087351-5cd1-4d1d-a711-96de15580877", "content": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimum 100m)", "source_document": "Safety Protocols", "similarity_score": 0.45991945, "chunk_metadata": {"chunk_id": "05087351-5cd1-4d1d-a711-96de15580877", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 51, "text": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimum 100m)", "content_preview": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimu...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "f7aea19c-4627-4849-bdea-f5668600f5fb", "content": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | Medium     | Major   | Action required within 24 hours |\\n| Medium     | Low        | Moderate| Action required within 1 week |\\n| Low        | Very Low   | Minor   | Monitor and review monthly |", "source_document": "Safety Protocols", "similarity_score": 0.45425004, "chunk_metadata": {"chunk_id": "f7aea19c-4627-4849-bdea-f5668600f5fb", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 10, "token_count": 98, "text": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | Medium     | Major   | Action required within 24 hours |\\n| Medium     | Low        | Moderate| Action required within 1 week |\\n| Low        | Very Low   | Minor   | Monitor and review monthly |", "content_preview": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | ...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "71331fe0-4b92-4e47-90a0-a7708353982d", "content": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance completion\\n- Document all maintenance activities in system logs", "source_document": "Safety Protocols", "similarity_score": 0.4409764, "chunk_metadata": {"chunk_id": "71331fe0-4b92-4e47-90a0-a7708353982d", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 8, "token_count": 65, "text": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance completion\\n- Document all maintenance activities in system logs", "content_preview": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance com...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.43016434, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "content": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "source_document": "Safety Protocols", "similarity_score": 0.40281257, "chunk_metadata": {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 3, "token_count": 55, "text": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "content_preview": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones ...", "source_asset": "Safety Protocols", "document_type": "safety"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What safety procedures should be followed?", "cleaned_query": "What safety procedures should be followed?", "key_terms": ["what", "safety", "procedures", "followed"], "question_intent": ["what"], "query_type": "question", "domain_terms": ["should"], "word_count": 6, "char_count": 42, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924178.1721087}, "processing_timestamp": 1756924178.9865403}', 'search_parameters': '{"primary_terms": ["what", "safety", "procedures", "followed"], "secondary_terms": [], "search_boost_terms": ["should"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:29:40,215 - services.external_task_worker - INFO - Successfully completed task f414a78d-88f3-11f0-bc34-0242ac160003
2025-09-03 14:29:40,223 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:29:40,224 - services.external_task_worker - INFO - Executing task f417dbee-88f3-11f0-bc34-0242ac160003 for topic process-response
2025-09-03 14:29:40,224 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.1 Normal Operations\n- Maintain continuous monitoring of all systems\n- Report position updates every 15 minutes\n- Monitor fuel/power consumption rates\n- Maintain safe separation distances (minimum 100m)\n[Context 2]: | Risk Level | Probability | Impact | Mitigation Required |\n|------------|-------------|---------|-------------------|\n| Critical   | High       | Severe  | Immediate action required |\n| High       | Medium     | Major   | Action required within 24 hours |\n| Medium     | Low        | Moderate| Action required within 1 week |\n| Low        | Very Low   | Minor   | Monitor and review monthly |\n[Context 3]: ### 3.1 Routine Maintenance\n- All maintenance SHALL be performed by certified personnel only\n- Use proper lockout/tagout procedures during maintenance\n- Verify all safety systems after maintenance completion\n- Document all maintenance activities in system logs\n\nUser Question: What safety procedures should be followed?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What safety procedures should be followed?', 'context_quality_score': 0.43762456, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924178.1721087}', 'reranked_context': '[{"chunk_id": "05087351-5cd1-4d1d-a711-96de15580877", "content": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimum 100m)", "source_document": "Safety Protocols", "similarity_score": 0.45991945, "chunk_metadata": {"chunk_id": "05087351-5cd1-4d1d-a711-96de15580877", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 51, "text": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimum 100m)", "content_preview": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimu...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "f7aea19c-4627-4849-bdea-f5668600f5fb", "content": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | Medium     | Major   | Action required within 24 hours |\\n| Medium     | Low        | Moderate| Action required within 1 week |\\n| Low        | Very Low   | Minor   | Monitor and review monthly |", "source_document": "Safety Protocols", "similarity_score": 0.45425004, "chunk_metadata": {"chunk_id": "f7aea19c-4627-4849-bdea-f5668600f5fb", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 10, "token_count": 98, "text": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | Medium     | Major   | Action required within 24 hours |\\n| Medium     | Low        | Moderate| Action required within 1 week |\\n| Low        | Very Low   | Minor   | Monitor and review monthly |", "content_preview": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | ...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "71331fe0-4b92-4e47-90a0-a7708353982d", "content": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance completion\\n- Document all maintenance activities in system logs", "source_document": "Safety Protocols", "similarity_score": 0.4409764, "chunk_metadata": {"chunk_id": "71331fe0-4b92-4e47-90a0-a7708353982d", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 8, "token_count": 65, "text": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance completion\\n- Document all maintenance activities in system logs", "content_preview": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance com...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.43016434, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "content": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "source_document": "Safety Protocols", "similarity_score": 0.40281257, "chunk_metadata": {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 3, "token_count": 55, "text": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "content_preview": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones ...", "source_asset": "Safety Protocols", "document_type": "safety"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What safety procedures should be followed?", "cleaned_query": "What safety procedures should be followed?", "key_terms": ["what", "safety", "procedures", "followed"], "question_intent": ["what"], "query_type": "question", "domain_terms": ["should"], "word_count": 6, "char_count": 42, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924178.1721087}, "processing_timestamp": 1756924178.9865403}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 2.1 Normal Operations\n- Maintain continuous monitoring of all systems\n- Report position updates every 15 minutes\n- Monitor fuel/power consumption rates\n- Maintain safe separation distances (minimum 100m)\n[Context 2]: | Risk Level | Probability | Impact | Mitigation Required |\n|------------|-------------|---------|-------------------|\n| Critical   | High       | Severe  | Immediate action required |\n| High       | Medium     | Major   | Action required within 24 hours |\n| Medium     | Low        | Moderate| Action required within 1 week |\n| Low        | Very Low   | Minor   | Monitor and review monthly |\n[Context 3]: ### 3.1 Routine Maintenance\n- All maintenance SHALL be performed by certified personnel only\n- Use proper lockout/tagout procedures during maintenance\n- Verify all safety systems after maintenance completion\n- Document all maintenance activities in system logs\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["what", "safety", "procedures", "followed"], "secondary_terms": [], "search_boost_terms": ["should"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:29:40,232 - services.external_task_worker - INFO - Successfully completed task f417dbee-88f3-11f0-bc34-0242ac160003
2025-09-03 14:29:40,242 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:29:40,242 - services.external_task_worker - INFO - Executing task f41a7414-88f3-11f0-bc34-0242ac160003 for topic log-interaction
2025-09-03 14:29:40,242 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.1 Normal Operations\n- Maintain continuous monitoring of all systems\n- Report position updates every 15 minutes\n- Monitor fuel/power consumption rates\n- Maintain safe separation distances (minimum 100m)\n[Context 2]: | Risk Level | Probability | Impact | Mitigation Required |\n|------------|-------------|---------|-------------------|\n| Critical   | High       | Severe  | Immediate action required |\n| High       | Medium     | Major   | Action required within 24 hours |\n| Medium     | Low        | Moderate| Action required within 1 week |\n| Low        | Very Low   | Minor   | Monitor and review monthly |\n[Context 3]: ### 3.1 Routine Maintenance\n- All maintenance SHALL be performed by certified personnel only\n- Use proper lockout/tagout procedures during maintenance\n- Verify all safety systems after maintenance completion\n- Document all maintenance activities in system logs\n\nUser Question: What safety procedures should be followed?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What safety procedures should be followed?', 'context_quality_score': 0.43762456, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924178.1721087}', 'reranked_context': '[{"chunk_id": "05087351-5cd1-4d1d-a711-96de15580877", "content": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimum 100m)", "source_document": "Safety Protocols", "similarity_score": 0.45991945, "chunk_metadata": {"chunk_id": "05087351-5cd1-4d1d-a711-96de15580877", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 51, "text": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimum 100m)", "content_preview": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimu...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "f7aea19c-4627-4849-bdea-f5668600f5fb", "content": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | Medium     | Major   | Action required within 24 hours |\\n| Medium     | Low        | Moderate| Action required within 1 week |\\n| Low        | Very Low   | Minor   | Monitor and review monthly |", "source_document": "Safety Protocols", "similarity_score": 0.45425004, "chunk_metadata": {"chunk_id": "f7aea19c-4627-4849-bdea-f5668600f5fb", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 10, "token_count": 98, "text": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | Medium     | Major   | Action required within 24 hours |\\n| Medium     | Low        | Moderate| Action required within 1 week |\\n| Low        | Very Low   | Minor   | Monitor and review monthly |", "content_preview": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | ...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "71331fe0-4b92-4e47-90a0-a7708353982d", "content": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance completion\\n- Document all maintenance activities in system logs", "source_document": "Safety Protocols", "similarity_score": 0.4409764, "chunk_metadata": {"chunk_id": "71331fe0-4b92-4e47-90a0-a7708353982d", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 8, "token_count": 65, "text": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance completion\\n- Document all maintenance activities in system logs", "content_preview": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance com...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.43016434, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "content": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "source_document": "Safety Protocols", "similarity_score": 0.40281257, "chunk_metadata": {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 3, "token_count": 55, "text": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "content_preview": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones ...", "source_asset": "Safety Protocols", "document_type": "safety"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 2.1 Normal Operations\n- Maintain continuous monitoring of all systems\n- Report position updates every 15 minutes\n- Monitor fuel/power consumption rates\n- Maintain safe separation distances (minimum 100m)\n[Context 2]: | Risk Level | Probability | Impact | Mitigation Required |\n|------------|-------------|---------|-------------------|\n| Critical   | High       | Severe  | Immediate action required |\n| High       | Medium     | Major   | Action required within 24 hours |\n| Medium     | Low        | Moderate| Action required within 1 week |\n| Low        | Very Low   | Minor   | Monitor and review monthly |\n[Context 3]: ### 3.1 Routine Maintenance\n- All maintenance SHALL be performed by certified personnel only\n- Use proper lockout/tagout procedures during maintenance\n- Verify all safety systems after maintenance completion\n- Document all maintenance activities in system logs\n\nThis response is based on the relevant documentation found in your knowledge assets.\n\nSources:\n[1] Safety Protocols\n[2] Safety Protocols\n[3] Safety Protocols\n', 'processed_query': '{"original_query": "What safety procedures should be followed?", "cleaned_query": "What safety procedures should be followed?", "key_terms": ["what", "safety", "procedures", "followed"], "question_intent": ["what"], "query_type": "question", "domain_terms": ["should"], "word_count": 6, "char_count": 42, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924178.1721087}, "processing_timestamp": 1756924178.9865403}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 2.1 Normal Operations\n- Maintain continuous monitoring of all systems\n- Report position updates every 15 minutes\n- Monitor fuel/power consumption rates\n- Maintain safe separation distances (minimum 100m)\n[Context 2]: | Risk Level | Probability | Impact | Mitigation Required |\n|------------|-------------|---------|-------------------|\n| Critical   | High       | Severe  | Immediate action required |\n| High       | Medium     | Major   | Action required within 24 hours |\n| Medium     | Low        | Moderate| Action required within 1 week |\n| Low        | Very Low   | Minor   | Monitor and review monthly |\n[Context 3]: ### 3.1 Routine Maintenance\n- All maintenance SHALL be performed by certified personnel only\n- Use proper lockout/tagout procedures during maintenance\n- Verify all safety systems after maintenance completion\n- Document all maintenance activities in system logs\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["what", "safety", "procedures", "followed"], "secondary_terms": [], "search_boost_terms": ["should"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:29:40,255 - services.external_task_worker - INFO - Successfully completed task f41a7414-88f3-11f0-bc34-0242ac160003
2025-09-03 14:29:42,276 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:29:42,276 - services.external_task_worker - INFO - Executing task f4bca79e-88f3-11f0-bc34-0242ac160003 for topic process-user-query
2025-09-03 14:29:42,276 - services.external_task_worker - INFO - Task variables: {'user_query': 'For Hardware Components what is our memory requirements', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924181.268691}'}
2025-09-03 14:29:42,282 - services.external_task_worker - INFO - Successfully completed task f4bca79e-88f3-11f0-bc34-0242ac160003
2025-09-03 14:29:42,289 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:29:42,289 - services.external_task_worker - INFO - Executing task f5536979-88f3-11f0-bc34-0242ac160003 for topic retrieve-context
2025-09-03 14:29:42,289 - services.external_task_worker - INFO - Task variables: {'user_query': 'For Hardware Components what is our memory requirements', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924181.268691}', 'processed_query': '{"original_query": "For Hardware Components what is our memory requirements", "cleaned_query": "For Hardware Components what is our memory requirements", "key_terms": ["hardware", "components", "what", "our", "memory", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements"], "word_count": 8, "char_count": 55, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924181.268691}, "processing_timestamp": 1756924182.276839}', 'search_parameters': '{"primary_terms": ["hardware", "components", "what", "our", "memory"], "secondary_terms": ["requirements"], "search_boost_terms": ["requirements"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:29:42,292 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-03 14:29:42,339 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-03 14:29:42,342 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-03 14:29:42,343 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-03 14:29:42,354 - services.embedding_service - INFO - Embedding service initialized
2025-09-03 14:29:42,355 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-03 14:29:42,355 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cuda:0
2025-09-03 14:29:42,355 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-03 14:29:43,499 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-03 14:29:43,507 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-03 14:29:43,512 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-03 14:29:43,512 - services.qdrant_service - INFO - Found 2 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-03 14:29:43,512 - services.qdrant_service - INFO - Found 2 similar chunks for query: 'For Hardware Components what is our memory require...'
2025-09-03 14:29:43,529 - services.external_task_worker - INFO - Successfully completed task f5536979-88f3-11f0-bc34-0242ac160003
2025-09-03 14:29:43,535 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:29:43,535 - services.external_task_worker - INFO - Executing task f611af7d-88f3-11f0-bc34-0242ac160003 for topic rerank-context
2025-09-03 14:29:43,535 - services.external_task_worker - INFO - Task variables: {'user_query': 'For Hardware Components what is our memory requirements', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924181.268691}', 'retrieved_chunks': '[{"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.54837537, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "content": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "source_document": "Technical Specifications", "similarity_score": 0.4863008, "chunk_metadata": {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 6, "token_count": 74, "text": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "content_preview": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write ...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'processed_query': '{"original_query": "For Hardware Components what is our memory requirements", "cleaned_query": "For Hardware Components what is our memory requirements", "key_terms": ["hardware", "components", "what", "our", "memory", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements"], "word_count": 8, "char_count": 55, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924181.268691}, "processing_timestamp": 1756924182.276839}', 'search_parameters': '{"primary_terms": ["hardware", "components", "what", "our", "memory"], "secondary_terms": ["requirements"], "search_boost_terms": ["requirements"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:29:43,544 - services.external_task_worker - INFO - Successfully completed task f611af7d-88f3-11f0-bc34-0242ac160003
2025-09-03 14:29:43,549 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:29:43,550 - services.external_task_worker - INFO - Executing task f613ab64-88f3-11f0-bc34-0242ac160003 for topic fallback-search
2025-09-03 14:29:43,550 - services.external_task_worker - INFO - Task variables: {'user_query': 'For Hardware Components what is our memory requirements', 'context_quality_score': 0.517338085, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924181.268691}', 'reranked_context': '[{"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.54837537, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "content": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "source_document": "Technical Specifications", "similarity_score": 0.4863008, "chunk_metadata": {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 6, "token_count": 74, "text": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "content_preview": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write ...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.54837537, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "content": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "source_document": "Technical Specifications", "similarity_score": 0.4863008, "chunk_metadata": {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 6, "token_count": 74, "text": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "content_preview": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write ...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'processed_query': '{"original_query": "For Hardware Components what is our memory requirements", "cleaned_query": "For Hardware Components what is our memory requirements", "key_terms": ["hardware", "components", "what", "our", "memory", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements"], "word_count": 8, "char_count": 55, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924181.268691}, "processing_timestamp": 1756924182.276839}', 'search_parameters': '{"primary_terms": ["hardware", "components", "what", "our", "memory"], "secondary_terms": ["requirements"], "search_boost_terms": ["requirements"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:29:43,559 - services.external_task_worker - INFO - Successfully completed task f613ab64-88f3-11f0-bc34-0242ac160003
2025-09-03 14:29:43,564 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:29:43,564 - services.external_task_worker - INFO - Executing task f615f569-88f3-11f0-bc34-0242ac160003 for topic construct-prompt
2025-09-03 14:29:43,564 - services.external_task_worker - INFO - Task variables: {'user_query': 'For Hardware Components what is our memory requirements', 'context_quality_score': 0.517338085, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924181.268691}', 'reranked_context': '[{"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.54837537, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "content": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "source_document": "Technical Specifications", "similarity_score": 0.4863008, "chunk_metadata": {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 6, "token_count": 74, "text": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "content_preview": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write ...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "For Hardware Components what is our memory requirements", "cleaned_query": "For Hardware Components what is our memory requirements", "key_terms": ["hardware", "components", "what", "our", "memory", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements"], "word_count": 8, "char_count": 55, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924181.268691}, "processing_timestamp": 1756924182.276839}', 'search_parameters': '{"primary_terms": ["hardware", "components", "what", "our", "memory"], "secondary_terms": ["requirements"], "search_boost_terms": ["requirements"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:29:43,572 - services.external_task_worker - INFO - Successfully completed task f615f569-88f3-11f0-bc34-0242ac160003
2025-09-03 14:29:43,586 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:29:43,587 - services.external_task_worker - INFO - Executing task f617f14c-88f3-11f0-bc34-0242ac160003 for topic llm-generation
2025-09-03 14:29:43,587 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': 'You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 1.1 Hardware Components\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\n- **Display**: 15.6" 1920x1080 sunlight-readable LCD touchscreen\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)\n[Context 2]: ### 3.1 Processing Performance\n- **CPU Utilization**: Maximum 80% under normal load\n- **Memory Usage**: Maximum 12 GB under normal operations\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications\n\nUser Question: For Hardware Components what is our memory requirements\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn\'t contain enough information to fully answer the question, acknowledge this and provide what information you can.', 'user_query': 'For Hardware Components what is our memory requirements', 'context_quality_score': 0.517338085, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924181.268691}', 'reranked_context': '[{"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.54837537, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "content": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "source_document": "Technical Specifications", "similarity_score": 0.4863008, "chunk_metadata": {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 6, "token_count": 74, "text": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "content_preview": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write ...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "For Hardware Components what is our memory requirements", "cleaned_query": "For Hardware Components what is our memory requirements", "key_terms": ["hardware", "components", "what", "our", "memory", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements"], "word_count": 8, "char_count": 55, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924181.268691}, "processing_timestamp": 1756924182.276839}', 'search_parameters': '{"primary_terms": ["hardware", "components", "what", "our", "memory"], "secondary_terms": ["requirements"], "search_boost_terms": ["requirements"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:29:43,597 - services.external_task_worker - INFO - Successfully completed task f617f14c-88f3-11f0-bc34-0242ac160003
2025-09-03 14:29:43,605 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:29:43,605 - services.external_task_worker - INFO - Executing task f61bc1ed-88f3-11f0-bc34-0242ac160003 for topic process-response
2025-09-03 14:29:43,605 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': 'You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 1.1 Hardware Components\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\n- **Display**: 15.6" 1920x1080 sunlight-readable LCD touchscreen\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)\n[Context 2]: ### 3.1 Processing Performance\n- **CPU Utilization**: Maximum 80% under normal load\n- **Memory Usage**: Maximum 12 GB under normal operations\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications\n\nUser Question: For Hardware Components what is our memory requirements\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn\'t contain enough information to fully answer the question, acknowledge this and provide what information you can.', 'user_query': 'For Hardware Components what is our memory requirements', 'context_quality_score': 0.517338085, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924181.268691}', 'reranked_context': '[{"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.54837537, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "content": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "source_document": "Technical Specifications", "similarity_score": 0.4863008, "chunk_metadata": {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 6, "token_count": 74, "text": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "content_preview": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write ...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "For Hardware Components what is our memory requirements", "cleaned_query": "For Hardware Components what is our memory requirements", "key_terms": ["hardware", "components", "what", "our", "memory", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements"], "word_count": 8, "char_count": 55, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924181.268691}, "processing_timestamp": 1756924182.276839}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 1.1 Hardware Components\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\n- **Display**: 15.6" 1920x1080 sunlight-readable LCD touchscreen\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)\n[Context 2]: ### 3.1 Processing Performance\n- **CPU Utilization**: Maximum 80% under normal load\n- **Memory Usage**: Maximum 12 GB under normal operations\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["hardware", "components", "what", "our", "memory"], "secondary_terms": ["requirements"], "search_boost_terms": ["requirements"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:29:43,614 - services.external_task_worker - INFO - Successfully completed task f61bc1ed-88f3-11f0-bc34-0242ac160003
2025-09-03 14:29:43,622 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:29:43,622 - services.external_task_worker - INFO - Executing task f61e5a13-88f3-11f0-bc34-0242ac160003 for topic log-interaction
2025-09-03 14:29:43,622 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': 'You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 1.1 Hardware Components\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\n- **Display**: 15.6" 1920x1080 sunlight-readable LCD touchscreen\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)\n[Context 2]: ### 3.1 Processing Performance\n- **CPU Utilization**: Maximum 80% under normal load\n- **Memory Usage**: Maximum 12 GB under normal operations\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications\n\nUser Question: For Hardware Components what is our memory requirements\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn\'t contain enough information to fully answer the question, acknowledge this and provide what information you can.', 'user_query': 'For Hardware Components what is our memory requirements', 'context_quality_score': 0.517338085, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924181.268691}', 'reranked_context': '[{"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.54837537, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "content": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "source_document": "Technical Specifications", "similarity_score": 0.4863008, "chunk_metadata": {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 6, "token_count": 74, "text": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "content_preview": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write ...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 1.1 Hardware Components\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\n- **Display**: 15.6" 1920x1080 sunlight-readable LCD touchscreen\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)\n[Context 2]: ### 3.1 Processing Performance\n- **CPU Utilization**: Maximum 80% under normal load\n- **Memory Usage**: Maximum 12 GB under normal operations\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications\n\nThis response is based on the relevant documentation found in your knowledge assets.\n\nSources:\n[1] Technical Specifications\n[2] Technical Specifications\n', 'processed_query': '{"original_query": "For Hardware Components what is our memory requirements", "cleaned_query": "For Hardware Components what is our memory requirements", "key_terms": ["hardware", "components", "what", "our", "memory", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements"], "word_count": 8, "char_count": 55, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924181.268691}, "processing_timestamp": 1756924182.276839}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 1.1 Hardware Components\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\n- **Display**: 15.6" 1920x1080 sunlight-readable LCD touchscreen\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)\n[Context 2]: ### 3.1 Processing Performance\n- **CPU Utilization**: Maximum 80% under normal load\n- **Memory Usage**: Maximum 12 GB under normal operations\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["hardware", "components", "what", "our", "memory"], "secondary_terms": ["requirements"], "search_boost_terms": ["requirements"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:29:43,637 - services.external_task_worker - INFO - Successfully completed task f61e5a13-88f3-11f0-bc34-0242ac160003
2025-09-03 14:29:44,652 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:29:44,652 - services.external_task_worker - INFO - Executing task f696494d-88f3-11f0-bc34-0242ac160003 for topic process-user-query
2025-09-03 14:29:44,652 - services.external_task_worker - INFO - Task variables: {'user_query': 'What frequency does the Communication Interfaces operate at?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924184.3720725}'}
2025-09-03 14:29:44,660 - services.external_task_worker - INFO - Successfully completed task f696494d-88f3-11f0-bc34-0242ac160003
2025-09-03 14:29:44,666 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:29:44,666 - services.external_task_worker - INFO - Executing task f6bdf5a8-88f3-11f0-bc34-0242ac160003 for topic retrieve-context
2025-09-03 14:29:44,666 - services.external_task_worker - INFO - Task variables: {'user_query': 'What frequency does the Communication Interfaces operate at?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924184.3720725}', 'processed_query': '{"original_query": "What frequency does the Communication Interfaces operate at?", "cleaned_query": "What frequency does the Communication Interfaces operate at?", "key_terms": ["what", "frequency", "communication", "interfaces", "operate"], "question_intent": ["what"], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 60, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924184.3720725}, "processing_timestamp": 1756924184.6526077}', 'search_parameters': '{"primary_terms": ["what", "frequency", "communication", "interfaces", "operate"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:29:44,669 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-03 14:29:44,713 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-03 14:29:44,717 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-03 14:29:44,717 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-03 14:29:44,729 - services.embedding_service - INFO - Embedding service initialized
2025-09-03 14:29:44,730 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-03 14:29:44,730 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cuda:0
2025-09-03 14:29:44,730 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-03 14:29:45,727 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-03 14:29:45,733 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-03 14:29:45,740 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-03 14:29:45,741 - services.qdrant_service - INFO - Found 2 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-03 14:29:45,741 - services.qdrant_service - INFO - Found 2 similar chunks for query: 'What frequency does the Communication Interfaces o...'
2025-09-03 14:29:45,761 - services.external_task_worker - INFO - Successfully completed task f6bdf5a8-88f3-11f0-bc34-0242ac160003
2025-09-03 14:29:45,768 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:29:45,768 - services.external_task_worker - INFO - Executing task f7661c9c-88f3-11f0-bc34-0242ac160003 for topic rerank-context
2025-09-03 14:29:45,768 - services.external_task_worker - INFO - Task variables: {'user_query': 'What frequency does the Communication Interfaces operate at?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924184.3720725}', 'retrieved_chunks': '[{"chunk_id": "a5b32041-e552-4e96-b3b4-3dec69c325ae", "content": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface", "source_document": "Technical Specifications", "similarity_score": 0.5399632, "chunk_metadata": {"chunk_id": "a5b32041-e552-4e96-b3b4-3dec69c325ae", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 77, "text": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface", "content_preview": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "content": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "source_document": "Technical Specifications", "similarity_score": 0.433985, "chunk_metadata": {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 7, "token_count": 76, "text": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "content_preview": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'processed_query': '{"original_query": "What frequency does the Communication Interfaces operate at?", "cleaned_query": "What frequency does the Communication Interfaces operate at?", "key_terms": ["what", "frequency", "communication", "interfaces", "operate"], "question_intent": ["what"], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 60, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924184.3720725}, "processing_timestamp": 1756924184.6526077}', 'search_parameters': '{"primary_terms": ["what", "frequency", "communication", "interfaces", "operate"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:29:45,777 - services.external_task_worker - INFO - Successfully completed task f7661c9c-88f3-11f0-bc34-0242ac160003
2025-09-03 14:29:45,783 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:29:45,783 - services.external_task_worker - INFO - Executing task f7688db3-88f3-11f0-bc34-0242ac160003 for topic fallback-search
2025-09-03 14:29:45,783 - services.external_task_worker - INFO - Task variables: {'user_query': 'What frequency does the Communication Interfaces operate at?', 'context_quality_score': 0.48697409999999997, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924184.3720725}', 'reranked_context': '[{"chunk_id": "a5b32041-e552-4e96-b3b4-3dec69c325ae", "content": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface", "source_document": "Technical Specifications", "similarity_score": 0.5399632, "chunk_metadata": {"chunk_id": "a5b32041-e552-4e96-b3b4-3dec69c325ae", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 77, "text": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface", "content_preview": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "content": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "source_document": "Technical Specifications", "similarity_score": 0.433985, "chunk_metadata": {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 7, "token_count": 76, "text": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "content_preview": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "a5b32041-e552-4e96-b3b4-3dec69c325ae", "content": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface", "source_document": "Technical Specifications", "similarity_score": 0.5399632, "chunk_metadata": {"chunk_id": "a5b32041-e552-4e96-b3b4-3dec69c325ae", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 77, "text": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface", "content_preview": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "content": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "source_document": "Technical Specifications", "similarity_score": 0.433985, "chunk_metadata": {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 7, "token_count": 76, "text": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "content_preview": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'processed_query': '{"original_query": "What frequency does the Communication Interfaces operate at?", "cleaned_query": "What frequency does the Communication Interfaces operate at?", "key_terms": ["what", "frequency", "communication", "interfaces", "operate"], "question_intent": ["what"], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 60, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924184.3720725}, "processing_timestamp": 1756924184.6526077}', 'search_parameters': '{"primary_terms": ["what", "frequency", "communication", "interfaces", "operate"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:29:45,793 - services.external_task_worker - INFO - Successfully completed task f7688db3-88f3-11f0-bc34-0242ac160003
2025-09-03 14:29:45,800 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:29:45,800 - services.external_task_worker - INFO - Executing task f76ab0a8-88f3-11f0-bc34-0242ac160003 for topic construct-prompt
2025-09-03 14:29:45,800 - services.external_task_worker - INFO - Task variables: {'user_query': 'What frequency does the Communication Interfaces operate at?', 'context_quality_score': 0.48697409999999997, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924184.3720725}', 'reranked_context': '[{"chunk_id": "a5b32041-e552-4e96-b3b4-3dec69c325ae", "content": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface", "source_document": "Technical Specifications", "similarity_score": 0.5399632, "chunk_metadata": {"chunk_id": "a5b32041-e552-4e96-b3b4-3dec69c325ae", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 77, "text": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface", "content_preview": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "content": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "source_document": "Technical Specifications", "similarity_score": 0.433985, "chunk_metadata": {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 7, "token_count": 76, "text": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "content_preview": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What frequency does the Communication Interfaces operate at?", "cleaned_query": "What frequency does the Communication Interfaces operate at?", "key_terms": ["what", "frequency", "communication", "interfaces", "operate"], "question_intent": ["what"], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 60, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924184.3720725}, "processing_timestamp": 1756924184.6526077}', 'search_parameters': '{"primary_terms": ["what", "frequency", "communication", "interfaces", "operate"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:29:45,809 - services.external_task_worker - INFO - Successfully completed task f76ab0a8-88f3-11f0-bc34-0242ac160003
2025-09-03 14:29:45,816 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:29:45,817 - services.external_task_worker - INFO - Executing task f76d48cb-88f3-11f0-bc34-0242ac160003 for topic llm-generation
2025-09-03 14:29:45,817 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 1.2 Communication Interfaces\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\n- **Data Link**: 4G LTE cellular modem with failover to satellite\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface\n[Context 2]: ### 3.2 Real-time Requirements\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\n- **Command Response Time**: Maximum 100ms for user interface interactions\n- **Emergency Response**: Maximum 50ms for safety-critical alerts\n\nUser Question: What frequency does the Communication Interfaces operate at?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What frequency does the Communication Interfaces operate at?', 'context_quality_score': 0.48697409999999997, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924184.3720725}', 'reranked_context': '[{"chunk_id": "a5b32041-e552-4e96-b3b4-3dec69c325ae", "content": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface", "source_document": "Technical Specifications", "similarity_score": 0.5399632, "chunk_metadata": {"chunk_id": "a5b32041-e552-4e96-b3b4-3dec69c325ae", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 77, "text": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface", "content_preview": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "content": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "source_document": "Technical Specifications", "similarity_score": 0.433985, "chunk_metadata": {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 7, "token_count": 76, "text": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "content_preview": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What frequency does the Communication Interfaces operate at?", "cleaned_query": "What frequency does the Communication Interfaces operate at?", "key_terms": ["what", "frequency", "communication", "interfaces", "operate"], "question_intent": ["what"], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 60, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924184.3720725}, "processing_timestamp": 1756924184.6526077}', 'search_parameters': '{"primary_terms": ["what", "frequency", "communication", "interfaces", "operate"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:29:45,827 - services.external_task_worker - INFO - Successfully completed task f76d48cb-88f3-11f0-bc34-0242ac160003
2025-09-03 14:29:45,834 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:29:45,834 - services.external_task_worker - INFO - Executing task f7702e0c-88f3-11f0-bc34-0242ac160003 for topic process-response
2025-09-03 14:29:45,834 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 1.2 Communication Interfaces\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\n- **Data Link**: 4G LTE cellular modem with failover to satellite\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface\n[Context 2]: ### 3.2 Real-time Requirements\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\n- **Command Response Time**: Maximum 100ms for user interface interactions\n- **Emergency Response**: Maximum 50ms for safety-critical alerts\n\nUser Question: What frequency does the Communication Interfaces operate at?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What frequency does the Communication Interfaces operate at?', 'context_quality_score': 0.48697409999999997, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924184.3720725}', 'reranked_context': '[{"chunk_id": "a5b32041-e552-4e96-b3b4-3dec69c325ae", "content": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface", "source_document": "Technical Specifications", "similarity_score": 0.5399632, "chunk_metadata": {"chunk_id": "a5b32041-e552-4e96-b3b4-3dec69c325ae", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 77, "text": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface", "content_preview": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "content": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "source_document": "Technical Specifications", "similarity_score": 0.433985, "chunk_metadata": {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 7, "token_count": 76, "text": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "content_preview": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What frequency does the Communication Interfaces operate at?", "cleaned_query": "What frequency does the Communication Interfaces operate at?", "key_terms": ["what", "frequency", "communication", "interfaces", "operate"], "question_intent": ["what"], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 60, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924184.3720725}, "processing_timestamp": 1756924184.6526077}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 1.2 Communication Interfaces\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\n- **Data Link**: 4G LTE cellular modem with failover to satellite\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface\n[Context 2]: ### 3.2 Real-time Requirements\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\n- **Command Response Time**: Maximum 100ms for user interface interactions\n- **Emergency Response**: Maximum 50ms for safety-critical alerts\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["what", "frequency", "communication", "interfaces", "operate"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:29:45,844 - services.external_task_worker - INFO - Successfully completed task f7702e0c-88f3-11f0-bc34-0242ac160003
2025-09-03 14:29:45,850 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:29:45,850 - services.external_task_worker - INFO - Executing task f7729f22-88f3-11f0-bc34-0242ac160003 for topic log-interaction
2025-09-03 14:29:45,850 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 1.2 Communication Interfaces\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\n- **Data Link**: 4G LTE cellular modem with failover to satellite\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface\n[Context 2]: ### 3.2 Real-time Requirements\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\n- **Command Response Time**: Maximum 100ms for user interface interactions\n- **Emergency Response**: Maximum 50ms for safety-critical alerts\n\nUser Question: What frequency does the Communication Interfaces operate at?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What frequency does the Communication Interfaces operate at?', 'context_quality_score': 0.48697409999999997, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924184.3720725}', 'reranked_context': '[{"chunk_id": "a5b32041-e552-4e96-b3b4-3dec69c325ae", "content": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface", "source_document": "Technical Specifications", "similarity_score": 0.5399632, "chunk_metadata": {"chunk_id": "a5b32041-e552-4e96-b3b4-3dec69c325ae", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 77, "text": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface", "content_preview": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "content": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "source_document": "Technical Specifications", "similarity_score": 0.433985, "chunk_metadata": {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 7, "token_count": 76, "text": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "content_preview": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 1.2 Communication Interfaces\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\n- **Data Link**: 4G LTE cellular modem with failover to satellite\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface\n[Context 2]: ### 3.2 Real-time Requirements\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\n- **Command Response Time**: Maximum 100ms for user interface interactions\n- **Emergency Response**: Maximum 50ms for safety-critical alerts\n\nThis response is based on the relevant documentation found in your knowledge assets.\n\nSources:\n[1] Technical Specifications\n[2] Technical Specifications\n', 'processed_query': '{"original_query": "What frequency does the Communication Interfaces operate at?", "cleaned_query": "What frequency does the Communication Interfaces operate at?", "key_terms": ["what", "frequency", "communication", "interfaces", "operate"], "question_intent": ["what"], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 60, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924184.3720725}, "processing_timestamp": 1756924184.6526077}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 1.2 Communication Interfaces\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\n- **Data Link**: 4G LTE cellular modem with failover to satellite\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface\n[Context 2]: ### 3.2 Real-time Requirements\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\n- **Command Response Time**: Maximum 100ms for user interface interactions\n- **Emergency Response**: Maximum 50ms for safety-critical alerts\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["what", "frequency", "communication", "interfaces", "operate"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:29:45,865 - services.external_task_worker - INFO - Successfully completed task f7729f22-88f3-11f0-bc34-0242ac160003
2025-09-03 14:29:46,429 - __main__ - INFO - Received signal 15, shutting down worker...
2025-09-03 14:30:17,019 - services.external_task_worker - INFO - Starting external task worker: odras-worker-1756924217
2025-09-03 14:30:35,169 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:30:35,169 - services.external_task_worker - INFO - Executing task 1469534c-88f4-11f0-bc34-0242ac160003 for topic process-user-query
2025-09-03 14:30:35,170 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the navigation system requirements?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924234.410978}'}
2025-09-03 14:30:35,179 - services.external_task_worker - INFO - Successfully completed task 1469534c-88f4-11f0-bc34-0242ac160003
2025-09-03 14:30:35,186 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:30:35,186 - services.external_task_worker - INFO - Executing task 14da8bc7-88f4-11f0-bc34-0242ac160003 for topic retrieve-context
2025-09-03 14:30:35,186 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the navigation system requirements?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924234.410978}', 'processed_query': '{"original_query": "What are the navigation system requirements?", "cleaned_query": "What are the navigation system requirements?", "key_terms": ["what", "navigation", "system", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["system", "requirements"], "word_count": 6, "char_count": 44, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924234.410978}, "processing_timestamp": 1756924235.17051}', 'search_parameters': '{"primary_terms": ["what", "navigation", "system", "requirements"], "secondary_terms": [], "search_boost_terms": ["system", "requirements"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:30:35,199 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-03 14:30:35,268 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-03 14:30:35,275 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-03 14:30:35,276 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-03 14:30:35,296 - services.embedding_service - INFO - Embedding service initialized
2025-09-03 14:30:35,296 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-03 14:30:35,395 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cuda:0
2025-09-03 14:30:35,395 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-03 14:30:36,578 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-03 14:30:36,858 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-03 14:30:36,866 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-03 14:30:36,867 - services.qdrant_service - INFO - Found 10 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-03 14:30:36,867 - services.qdrant_service - INFO - Found 10 similar chunks for query: 'What are the navigation system requirements?...'
2025-09-03 14:30:36,958 - services.external_task_worker - INFO - Successfully completed task 14da8bc7-88f4-11f0-bc34-0242ac160003
2025-09-03 14:30:36,967 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:30:36,967 - services.external_task_worker - INFO - Executing task 15e9b1eb-88f4-11f0-bc34-0242ac160003 for topic rerank-context
2025-09-03 14:30:36,967 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the navigation system requirements?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924234.410978}', 'retrieved_chunks': '[{"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "content": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "source_document": "Navigation System Requirements", "similarity_score": 0.680192, "chunk_metadata": {"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 106, "text": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "content_preview": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint ...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "content": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "source_document": "Navigation System Requirements", "similarity_score": 0.6318933, "chunk_metadata": {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 102, "text": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "content_preview": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom leve...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "content": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "source_document": "Technical Specifications", "similarity_score": 0.60904396, "chunk_metadata": {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 86, "text": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "content_preview": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Pla...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.53267634, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.5096952, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "content": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "source_document": "Technical Specifications", "similarity_score": 0.47959125, "chunk_metadata": {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 7, "token_count": 76, "text": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "content_preview": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "06c184ad-d62e-4037-ae05-7399a54936e5", "content": "#### 2.2.1 System Failure Response\\n1. **Primary Navigation Failure**\\n   - Switch to backup navigation system immediately\\n   - Report failure to control station\\n   - Return to base using predetermined safe route\\n   - Do not continue mission without primary navigation", "source_document": "Safety Protocols", "similarity_score": 0.46008196, "chunk_metadata": {"chunk_id": "06c184ad-d62e-4037-ae05-7399a54936e5", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 5, "token_count": 66, "text": "#### 2.2.1 System Failure Response\\n1. **Primary Navigation Failure**\\n   - Switch to backup navigation system immediately\\n   - Report failure to control station\\n   - Return to base using predetermined safe route\\n   - Do not continue mission without primary navigation", "content_preview": "#### 2.2.1 System Failure Response\\n1. **Primary Navigation Failure**\\n   - Switch to backup navigation system immediately\\n   - Report failure to control station\\n   - Return to base using predetermined ...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "content": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "source_document": "Safety Protocols", "similarity_score": 0.45862547, "chunk_metadata": {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 3, "token_count": 55, "text": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "content_preview": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones ...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "49936670-8134-4076-b4db-76cd6bccdc03", "content": "### 3.1 Critical Functions\\n- **REQ-SAFETY-001**: Navigation system failures SHALL NOT affect primary vehicle systems\\n- **REQ-SAFETY-002**: The system SHALL provide audible alerts for critical navigation events\\n- **REQ-SAFETY-003**: Emergency stop functionality SHALL be available within 1 button press", "source_document": "Navigation System Requirements", "similarity_score": 0.4322413, "chunk_metadata": {"chunk_id": "49936670-8134-4076-b4db-76cd6bccdc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 5, "token_count": 75, "text": "### 3.1 Critical Functions\\n- **REQ-SAFETY-001**: Navigation system failures SHALL NOT affect primary vehicle systems\\n- **REQ-SAFETY-002**: The system SHALL provide audible alerts for critical navigation events\\n- **REQ-SAFETY-003**: Emergency stop functionality SHALL be available within 1 button press", "content_preview": "### 3.1 Critical Functions\\n- **REQ-SAFETY-001**: Navigation system failures SHALL NOT affect primary vehicle systems\\n- **REQ-SAFETY-002**: The system SHALL provide audible alerts for critical navigati...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "f493bbf3-d99a-4c4e-90be-a173b0cadfb4", "content": "3. **Communication Systems**\\n   - Radio check with control station\\n   - Verify emergency communication channels\\n   - Test data link connectivity", "source_document": "Safety Protocols", "similarity_score": 0.4016766, "chunk_metadata": {"chunk_id": "f493bbf3-d99a-4c4e-90be-a173b0cadfb4", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 2, "token_count": 36, "text": "3. **Communication Systems**\\n   - Radio check with control station\\n   - Verify emergency communication channels\\n   - Test data link connectivity", "content_preview": "3. **Communication Systems**\\n   - Radio check with control station\\n   - Verify emergency communication channels\\n   - Test data link connectivity", "source_asset": "Safety Protocols", "document_type": "safety"}}]', 'processed_query': '{"original_query": "What are the navigation system requirements?", "cleaned_query": "What are the navigation system requirements?", "key_terms": ["what", "navigation", "system", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["system", "requirements"], "word_count": 6, "char_count": 44, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924234.410978}, "processing_timestamp": 1756924235.17051}', 'search_parameters': '{"primary_terms": ["what", "navigation", "system", "requirements"], "secondary_terms": [], "search_boost_terms": ["system", "requirements"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:30:36,979 - services.external_task_worker - INFO - Successfully completed task 15e9b1eb-88f4-11f0-bc34-0242ac160003
2025-09-03 14:30:36,989 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:30:36,989 - services.external_task_worker - INFO - Executing task 15ed3472-88f4-11f0-bc34-0242ac160003 for topic fallback-search
2025-09-03 14:30:36,989 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the navigation system requirements?', 'context_quality_score': 0.59270016, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924234.410978}', 'reranked_context': '[{"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "content": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "source_document": "Navigation System Requirements", "similarity_score": 0.680192, "chunk_metadata": {"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 106, "text": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "content_preview": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint ...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "content": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "source_document": "Navigation System Requirements", "similarity_score": 0.6318933, "chunk_metadata": {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 102, "text": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "content_preview": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom leve...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "content": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "source_document": "Technical Specifications", "similarity_score": 0.60904396, "chunk_metadata": {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 86, "text": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "content_preview": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Pla...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.53267634, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.5096952, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "content": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "source_document": "Navigation System Requirements", "similarity_score": 0.680192, "chunk_metadata": {"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 106, "text": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "content_preview": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint ...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "content": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "source_document": "Navigation System Requirements", "similarity_score": 0.6318933, "chunk_metadata": {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 102, "text": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "content_preview": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom leve...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "content": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "source_document": "Technical Specifications", "similarity_score": 0.60904396, "chunk_metadata": {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 86, "text": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "content_preview": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Pla...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.53267634, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.5096952, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "content": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "source_document": "Technical Specifications", "similarity_score": 0.47959125, "chunk_metadata": {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 7, "token_count": 76, "text": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "content_preview": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "06c184ad-d62e-4037-ae05-7399a54936e5", "content": "#### 2.2.1 System Failure Response\\n1. **Primary Navigation Failure**\\n   - Switch to backup navigation system immediately\\n   - Report failure to control station\\n   - Return to base using predetermined safe route\\n   - Do not continue mission without primary navigation", "source_document": "Safety Protocols", "similarity_score": 0.46008196, "chunk_metadata": {"chunk_id": "06c184ad-d62e-4037-ae05-7399a54936e5", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 5, "token_count": 66, "text": "#### 2.2.1 System Failure Response\\n1. **Primary Navigation Failure**\\n   - Switch to backup navigation system immediately\\n   - Report failure to control station\\n   - Return to base using predetermined safe route\\n   - Do not continue mission without primary navigation", "content_preview": "#### 2.2.1 System Failure Response\\n1. **Primary Navigation Failure**\\n   - Switch to backup navigation system immediately\\n   - Report failure to control station\\n   - Return to base using predetermined ...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "content": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "source_document": "Safety Protocols", "similarity_score": 0.45862547, "chunk_metadata": {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 3, "token_count": 55, "text": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "content_preview": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones ...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "49936670-8134-4076-b4db-76cd6bccdc03", "content": "### 3.1 Critical Functions\\n- **REQ-SAFETY-001**: Navigation system failures SHALL NOT affect primary vehicle systems\\n- **REQ-SAFETY-002**: The system SHALL provide audible alerts for critical navigation events\\n- **REQ-SAFETY-003**: Emergency stop functionality SHALL be available within 1 button press", "source_document": "Navigation System Requirements", "similarity_score": 0.4322413, "chunk_metadata": {"chunk_id": "49936670-8134-4076-b4db-76cd6bccdc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 5, "token_count": 75, "text": "### 3.1 Critical Functions\\n- **REQ-SAFETY-001**: Navigation system failures SHALL NOT affect primary vehicle systems\\n- **REQ-SAFETY-002**: The system SHALL provide audible alerts for critical navigation events\\n- **REQ-SAFETY-003**: Emergency stop functionality SHALL be available within 1 button press", "content_preview": "### 3.1 Critical Functions\\n- **REQ-SAFETY-001**: Navigation system failures SHALL NOT affect primary vehicle systems\\n- **REQ-SAFETY-002**: The system SHALL provide audible alerts for critical navigati...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "f493bbf3-d99a-4c4e-90be-a173b0cadfb4", "content": "3. **Communication Systems**\\n   - Radio check with control station\\n   - Verify emergency communication channels\\n   - Test data link connectivity", "source_document": "Safety Protocols", "similarity_score": 0.4016766, "chunk_metadata": {"chunk_id": "f493bbf3-d99a-4c4e-90be-a173b0cadfb4", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 2, "token_count": 36, "text": "3. **Communication Systems**\\n   - Radio check with control station\\n   - Verify emergency communication channels\\n   - Test data link connectivity", "content_preview": "3. **Communication Systems**\\n   - Radio check with control station\\n   - Verify emergency communication channels\\n   - Test data link connectivity", "source_asset": "Safety Protocols", "document_type": "safety"}}]', 'processed_query': '{"original_query": "What are the navigation system requirements?", "cleaned_query": "What are the navigation system requirements?", "key_terms": ["what", "navigation", "system", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["system", "requirements"], "word_count": 6, "char_count": 44, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924234.410978}, "processing_timestamp": 1756924235.17051}', 'search_parameters': '{"primary_terms": ["what", "navigation", "system", "requirements"], "secondary_terms": [], "search_boost_terms": ["system", "requirements"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:30:37,000 - services.external_task_worker - INFO - Successfully completed task 15ed3472-88f4-11f0-bc34-0242ac160003
2025-09-03 14:30:37,010 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:30:37,010 - services.external_task_worker - INFO - Executing task 15f041c7-88f4-11f0-bc34-0242ac160003 for topic construct-prompt
2025-09-03 14:30:37,010 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the navigation system requirements?', 'context_quality_score': 0.59270016, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924234.410978}', 'reranked_context': '[{"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "content": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "source_document": "Navigation System Requirements", "similarity_score": 0.680192, "chunk_metadata": {"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 106, "text": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "content_preview": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint ...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "content": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "source_document": "Navigation System Requirements", "similarity_score": 0.6318933, "chunk_metadata": {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 102, "text": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "content_preview": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom leve...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "content": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "source_document": "Technical Specifications", "similarity_score": 0.60904396, "chunk_metadata": {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 86, "text": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "content_preview": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Pla...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.53267634, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.5096952, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What are the navigation system requirements?", "cleaned_query": "What are the navigation system requirements?", "key_terms": ["what", "navigation", "system", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["system", "requirements"], "word_count": 6, "char_count": 44, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924234.410978}, "processing_timestamp": 1756924235.17051}', 'search_parameters': '{"primary_terms": ["what", "navigation", "system", "requirements"], "secondary_terms": [], "search_boost_terms": ["system", "requirements"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:30:37,020 - services.external_task_worker - INFO - Successfully completed task 15f041c7-88f4-11f0-bc34-0242ac160003
2025-09-03 14:30:37,029 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:30:37,029 - services.external_task_worker - INFO - Executing task 15f3762a-88f4-11f0-bc34-0242ac160003 for topic llm-generation
2025-09-03 14:30:37,029 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 1.1 Core Navigation Functions\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)\n[Context 2]: ### 1.2 User Interface Requirements  \n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup\n[Context 3]: ### 2.2 Navigation Software Stack\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation\n\nUser Question: What are the navigation system requirements?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What are the navigation system requirements?', 'context_quality_score': 0.59270016, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924234.410978}', 'reranked_context': '[{"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "content": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "source_document": "Navigation System Requirements", "similarity_score": 0.680192, "chunk_metadata": {"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 106, "text": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "content_preview": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint ...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "content": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "source_document": "Navigation System Requirements", "similarity_score": 0.6318933, "chunk_metadata": {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 102, "text": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "content_preview": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom leve...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "content": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "source_document": "Technical Specifications", "similarity_score": 0.60904396, "chunk_metadata": {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 86, "text": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "content_preview": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Pla...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.53267634, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.5096952, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What are the navigation system requirements?", "cleaned_query": "What are the navigation system requirements?", "key_terms": ["what", "navigation", "system", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["system", "requirements"], "word_count": 6, "char_count": 44, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924234.410978}, "processing_timestamp": 1756924235.17051}', 'search_parameters': '{"primary_terms": ["what", "navigation", "system", "requirements"], "secondary_terms": [], "search_boost_terms": ["system", "requirements"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:30:37,038 - services.external_task_worker - INFO - Successfully completed task 15f3762a-88f4-11f0-bc34-0242ac160003
2025-09-03 14:30:37,050 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:30:37,050 - services.external_task_worker - INFO - Executing task 15f6355b-88f4-11f0-bc34-0242ac160003 for topic process-response
2025-09-03 14:30:37,050 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 1.1 Core Navigation Functions\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)\n[Context 2]: ### 1.2 User Interface Requirements  \n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup\n[Context 3]: ### 2.2 Navigation Software Stack\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation\n\nUser Question: What are the navigation system requirements?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What are the navigation system requirements?', 'context_quality_score': 0.59270016, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924234.410978}', 'reranked_context': '[{"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "content": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "source_document": "Navigation System Requirements", "similarity_score": 0.680192, "chunk_metadata": {"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 106, "text": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "content_preview": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint ...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "content": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "source_document": "Navigation System Requirements", "similarity_score": 0.6318933, "chunk_metadata": {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 102, "text": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "content_preview": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom leve...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "content": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "source_document": "Technical Specifications", "similarity_score": 0.60904396, "chunk_metadata": {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 86, "text": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "content_preview": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Pla...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.53267634, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.5096952, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What are the navigation system requirements?", "cleaned_query": "What are the navigation system requirements?", "key_terms": ["what", "navigation", "system", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["system", "requirements"], "word_count": 6, "char_count": 44, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924234.410978}, "processing_timestamp": 1756924235.17051}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 1.1 Core Navigation Functions\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)\n[Context 2]: ### 1.2 User Interface Requirements\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup\n[Context 3]: ### 2.2 Navigation Software Stack\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["what", "navigation", "system", "requirements"], "secondary_terms": [], "search_boost_terms": ["system", "requirements"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:30:37,063 - services.external_task_worker - INFO - Successfully completed task 15f6355b-88f4-11f0-bc34-0242ac160003
2025-09-03 14:30:37,070 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:30:37,071 - services.external_task_worker - INFO - Executing task 15f9def1-88f4-11f0-bc34-0242ac160003 for topic log-interaction
2025-09-03 14:30:37,071 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 1.1 Core Navigation Functions\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)\n[Context 2]: ### 1.2 User Interface Requirements  \n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup\n[Context 3]: ### 2.2 Navigation Software Stack\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation\n\nUser Question: What are the navigation system requirements?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What are the navigation system requirements?', 'context_quality_score': 0.59270016, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924234.410978}', 'reranked_context': '[{"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "content": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "source_document": "Navigation System Requirements", "similarity_score": 0.680192, "chunk_metadata": {"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 106, "text": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "content_preview": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint ...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "content": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "source_document": "Navigation System Requirements", "similarity_score": 0.6318933, "chunk_metadata": {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 102, "text": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "content_preview": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom leve...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "content": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "source_document": "Technical Specifications", "similarity_score": 0.60904396, "chunk_metadata": {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 86, "text": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "content_preview": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Pla...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.53267634, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.5096952, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 1.1 Core Navigation Functions\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)\n[Context 2]: ### 1.2 User Interface Requirements\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup\n[Context 3]: ### 2.2 Navigation Software Stack\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation\n\nThis response is based on the relevant documentation found in your knowledge assets.\n\nSources:\n[1] Navigation System Requirements\n[2] Navigation System Requirements\n[3] Technical Specifications\n', 'processed_query': '{"original_query": "What are the navigation system requirements?", "cleaned_query": "What are the navigation system requirements?", "key_terms": ["what", "navigation", "system", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["system", "requirements"], "word_count": 6, "char_count": 44, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924234.410978}, "processing_timestamp": 1756924235.17051}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 1.1 Core Navigation Functions\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)\n[Context 2]: ### 1.2 User Interface Requirements\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup\n[Context 3]: ### 2.2 Navigation Software Stack\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["what", "navigation", "system", "requirements"], "secondary_terms": [], "search_boost_terms": ["system", "requirements"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:30:37,092 - services.external_task_worker - INFO - Successfully completed task 15f9def1-88f4-11f0-bc34-0242ac160003
2025-09-03 14:30:41,136 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:30:41,136 - services.external_task_worker - INFO - Executing task 180195eb-88f4-11f0-bc34-0242ac160003 for topic process-user-query
2025-09-03 14:30:41,137 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924240.438783}'}
2025-09-03 14:30:41,148 - services.external_task_worker - INFO - Successfully completed task 180195eb-88f4-11f0-bc34-0242ac160003
2025-09-03 14:30:41,162 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:30:41,162 - services.external_task_worker - INFO - Executing task 18693076-88f4-11f0-bc34-0242ac160003 for topic retrieve-context
2025-09-03 14:30:41,162 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924240.438783}', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924240.438783}, "processing_timestamp": 1756924241.1371942}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:30:41,164 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-03 14:30:41,211 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-03 14:30:41,216 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-03 14:30:41,216 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-03 14:30:41,231 - services.embedding_service - INFO - Embedding service initialized
2025-09-03 14:30:41,231 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-03 14:30:41,232 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cuda:0
2025-09-03 14:30:41,232 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-03 14:30:42,195 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-03 14:30:42,200 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-03 14:30:42,207 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-03 14:30:42,207 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-03 14:30:42,207 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'What is the required position accuracy?...'
2025-09-03 14:30:42,221 - services.external_task_worker - INFO - Successfully completed task 18693076-88f4-11f0-bc34-0242ac160003
2025-09-03 14:30:42,231 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:30:42,231 - services.external_task_worker - INFO - Executing task 190d11aa-88f4-11f0-bc34-0242ac160003 for topic rerank-context
2025-09-03 14:30:42,231 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924240.438783}', 'retrieved_chunks': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924240.438783}, "processing_timestamp": 1756924241.1371942}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:30:42,244 - services.external_task_worker - INFO - Successfully completed task 190d11aa-88f4-11f0-bc34-0242ac160003
2025-09-03 14:30:42,252 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:30:42,252 - services.external_task_worker - INFO - Executing task 190ff7f1-88f4-11f0-bc34-0242ac160003 for topic fallback-search
2025-09-03 14:30:42,252 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924240.438783}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924240.438783}, "processing_timestamp": 1756924241.1371942}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:30:42,263 - services.external_task_worker - INFO - Successfully completed task 190ff7f1-88f4-11f0-bc34-0242ac160003
2025-09-03 14:30:42,272 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:30:42,272 - services.external_task_worker - INFO - Executing task 19135366-88f4-11f0-bc34-0242ac160003 for topic construct-prompt
2025-09-03 14:30:42,272 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924240.438783}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924240.438783}, "processing_timestamp": 1756924241.1371942}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:30:42,282 - services.external_task_worker - INFO - Successfully completed task 19135366-88f4-11f0-bc34-0242ac160003
2025-09-03 14:30:42,290 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:30:42,290 - services.external_task_worker - INFO - Executing task 191660b9-88f4-11f0-bc34-0242ac160003 for topic llm-generation
2025-09-03 14:30:42,290 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924240.438783}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924240.438783}, "processing_timestamp": 1756924241.1371942}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:30:42,300 - services.external_task_worker - INFO - Successfully completed task 191660b9-88f4-11f0-bc34-0242ac160003
2025-09-03 14:30:42,310 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:30:42,310 - services.external_task_worker - INFO - Executing task 19191fea-88f4-11f0-bc34-0242ac160003 for topic process-response
2025-09-03 14:30:42,311 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924240.438783}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924240.438783}, "processing_timestamp": 1756924241.1371942}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:30:42,320 - services.external_task_worker - INFO - Successfully completed task 19191fea-88f4-11f0-bc34-0242ac160003
2025-09-03 14:30:42,329 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:30:42,329 - services.external_task_worker - INFO - Executing task 191c0630-88f4-11f0-bc34-0242ac160003 for topic log-interaction
2025-09-03 14:30:42,329 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924240.438783}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nThis response is based on the relevant documentation found in your knowledge assets.\n\nSources:\n[1] Navigation System Requirements\n', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924240.438783}, "processing_timestamp": 1756924241.1371942}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:30:42,346 - services.external_task_worker - INFO - Successfully completed task 191c0630-88f4-11f0-bc34-0242ac160003
2025-09-03 14:30:51,424 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:30:51,424 - services.external_task_worker - INFO - Executing task 1e1781ba-88f4-11f0-bc34-0242ac160003 for topic process-user-query
2025-09-03 14:30:51,424 - services.external_task_worker - INFO - Task variables: {'user_query': 'What safety procedures should be followed?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924250.649008}'}
2025-09-03 14:30:51,433 - services.external_task_worker - INFO - Successfully completed task 1e1781ba-88f4-11f0-bc34-0242ac160003
2025-09-03 14:30:51,445 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:30:51,445 - services.external_task_worker - INFO - Executing task 1e8add15-88f4-11f0-bc34-0242ac160003 for topic retrieve-context
2025-09-03 14:30:51,445 - services.external_task_worker - INFO - Task variables: {'user_query': 'What safety procedures should be followed?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924250.649008}', 'processed_query': '{"original_query": "What safety procedures should be followed?", "cleaned_query": "What safety procedures should be followed?", "key_terms": ["what", "safety", "procedures", "followed"], "question_intent": ["what"], "query_type": "question", "domain_terms": ["should"], "word_count": 6, "char_count": 42, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924250.649008}, "processing_timestamp": 1756924251.424905}', 'search_parameters': '{"primary_terms": ["what", "safety", "procedures", "followed"], "secondary_terms": [], "search_boost_terms": ["should"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:30:51,448 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-03 14:30:51,503 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-03 14:30:51,509 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-03 14:30:51,509 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-03 14:30:51,527 - services.embedding_service - INFO - Embedding service initialized
2025-09-03 14:30:51,527 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-03 14:30:51,528 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cuda:0
2025-09-03 14:30:51,528 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-03 14:30:52,413 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-03 14:30:52,422 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-03 14:30:52,429 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-03 14:30:52,429 - services.qdrant_service - INFO - Found 5 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-03 14:30:52,429 - services.qdrant_service - INFO - Found 5 similar chunks for query: 'What safety procedures should be followed?...'
2025-09-03 14:30:52,465 - services.external_task_worker - INFO - Successfully completed task 1e8add15-88f4-11f0-bc34-0242ac160003
2025-09-03 14:30:52,473 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:30:52,473 - services.external_task_worker - INFO - Executing task 1f2855a9-88f4-11f0-bc34-0242ac160003 for topic rerank-context
2025-09-03 14:30:52,473 - services.external_task_worker - INFO - Task variables: {'user_query': 'What safety procedures should be followed?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924250.649008}', 'retrieved_chunks': '[{"chunk_id": "05087351-5cd1-4d1d-a711-96de15580877", "content": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimum 100m)", "source_document": "Safety Protocols", "similarity_score": 0.45991945, "chunk_metadata": {"chunk_id": "05087351-5cd1-4d1d-a711-96de15580877", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 51, "text": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimum 100m)", "content_preview": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimu...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "f7aea19c-4627-4849-bdea-f5668600f5fb", "content": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | Medium     | Major   | Action required within 24 hours |\\n| Medium     | Low        | Moderate| Action required within 1 week |\\n| Low        | Very Low   | Minor   | Monitor and review monthly |", "source_document": "Safety Protocols", "similarity_score": 0.45425004, "chunk_metadata": {"chunk_id": "f7aea19c-4627-4849-bdea-f5668600f5fb", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 10, "token_count": 98, "text": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | Medium     | Major   | Action required within 24 hours |\\n| Medium     | Low        | Moderate| Action required within 1 week |\\n| Low        | Very Low   | Minor   | Monitor and review monthly |", "content_preview": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | ...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "71331fe0-4b92-4e47-90a0-a7708353982d", "content": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance completion\\n- Document all maintenance activities in system logs", "source_document": "Safety Protocols", "similarity_score": 0.4409764, "chunk_metadata": {"chunk_id": "71331fe0-4b92-4e47-90a0-a7708353982d", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 8, "token_count": 65, "text": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance completion\\n- Document all maintenance activities in system logs", "content_preview": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance com...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.43016434, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "content": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "source_document": "Safety Protocols", "similarity_score": 0.40281257, "chunk_metadata": {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 3, "token_count": 55, "text": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "content_preview": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones ...", "source_asset": "Safety Protocols", "document_type": "safety"}}]', 'processed_query': '{"original_query": "What safety procedures should be followed?", "cleaned_query": "What safety procedures should be followed?", "key_terms": ["what", "safety", "procedures", "followed"], "question_intent": ["what"], "query_type": "question", "domain_terms": ["should"], "word_count": 6, "char_count": 42, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924250.649008}, "processing_timestamp": 1756924251.424905}', 'search_parameters': '{"primary_terms": ["what", "safety", "procedures", "followed"], "secondary_terms": [], "search_boost_terms": ["should"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:30:52,481 - services.external_task_worker - INFO - Successfully completed task 1f2855a9-88f4-11f0-bc34-0242ac160003
2025-09-03 14:30:52,489 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:30:52,489 - services.external_task_worker - INFO - Executing task 1f2ac6c0-88f4-11f0-bc34-0242ac160003 for topic fallback-search
2025-09-03 14:30:52,489 - services.external_task_worker - INFO - Task variables: {'user_query': 'What safety procedures should be followed?', 'context_quality_score': 0.43762456, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924250.649008}', 'reranked_context': '[{"chunk_id": "05087351-5cd1-4d1d-a711-96de15580877", "content": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimum 100m)", "source_document": "Safety Protocols", "similarity_score": 0.45991945, "chunk_metadata": {"chunk_id": "05087351-5cd1-4d1d-a711-96de15580877", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 51, "text": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimum 100m)", "content_preview": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimu...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "f7aea19c-4627-4849-bdea-f5668600f5fb", "content": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | Medium     | Major   | Action required within 24 hours |\\n| Medium     | Low        | Moderate| Action required within 1 week |\\n| Low        | Very Low   | Minor   | Monitor and review monthly |", "source_document": "Safety Protocols", "similarity_score": 0.45425004, "chunk_metadata": {"chunk_id": "f7aea19c-4627-4849-bdea-f5668600f5fb", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 10, "token_count": 98, "text": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | Medium     | Major   | Action required within 24 hours |\\n| Medium     | Low        | Moderate| Action required within 1 week |\\n| Low        | Very Low   | Minor   | Monitor and review monthly |", "content_preview": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | ...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "71331fe0-4b92-4e47-90a0-a7708353982d", "content": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance completion\\n- Document all maintenance activities in system logs", "source_document": "Safety Protocols", "similarity_score": 0.4409764, "chunk_metadata": {"chunk_id": "71331fe0-4b92-4e47-90a0-a7708353982d", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 8, "token_count": 65, "text": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance completion\\n- Document all maintenance activities in system logs", "content_preview": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance com...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.43016434, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "content": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "source_document": "Safety Protocols", "similarity_score": 0.40281257, "chunk_metadata": {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 3, "token_count": 55, "text": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "content_preview": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones ...", "source_asset": "Safety Protocols", "document_type": "safety"}}]', 'retrieved_chunks': '[{"chunk_id": "05087351-5cd1-4d1d-a711-96de15580877", "content": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimum 100m)", "source_document": "Safety Protocols", "similarity_score": 0.45991945, "chunk_metadata": {"chunk_id": "05087351-5cd1-4d1d-a711-96de15580877", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 51, "text": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimum 100m)", "content_preview": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimu...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "f7aea19c-4627-4849-bdea-f5668600f5fb", "content": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | Medium     | Major   | Action required within 24 hours |\\n| Medium     | Low        | Moderate| Action required within 1 week |\\n| Low        | Very Low   | Minor   | Monitor and review monthly |", "source_document": "Safety Protocols", "similarity_score": 0.45425004, "chunk_metadata": {"chunk_id": "f7aea19c-4627-4849-bdea-f5668600f5fb", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 10, "token_count": 98, "text": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | Medium     | Major   | Action required within 24 hours |\\n| Medium     | Low        | Moderate| Action required within 1 week |\\n| Low        | Very Low   | Minor   | Monitor and review monthly |", "content_preview": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | ...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "71331fe0-4b92-4e47-90a0-a7708353982d", "content": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance completion\\n- Document all maintenance activities in system logs", "source_document": "Safety Protocols", "similarity_score": 0.4409764, "chunk_metadata": {"chunk_id": "71331fe0-4b92-4e47-90a0-a7708353982d", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 8, "token_count": 65, "text": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance completion\\n- Document all maintenance activities in system logs", "content_preview": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance com...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.43016434, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "content": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "source_document": "Safety Protocols", "similarity_score": 0.40281257, "chunk_metadata": {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 3, "token_count": 55, "text": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "content_preview": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones ...", "source_asset": "Safety Protocols", "document_type": "safety"}}]', 'processed_query': '{"original_query": "What safety procedures should be followed?", "cleaned_query": "What safety procedures should be followed?", "key_terms": ["what", "safety", "procedures", "followed"], "question_intent": ["what"], "query_type": "question", "domain_terms": ["should"], "word_count": 6, "char_count": 42, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924250.649008}, "processing_timestamp": 1756924251.424905}', 'search_parameters': '{"primary_terms": ["what", "safety", "procedures", "followed"], "secondary_terms": [], "search_boost_terms": ["should"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:30:52,497 - services.external_task_worker - INFO - Successfully completed task 1f2ac6c0-88f4-11f0-bc34-0242ac160003
2025-09-03 14:30:52,504 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:30:52,504 - services.external_task_worker - INFO - Executing task 1f2d37d5-88f4-11f0-bc34-0242ac160003 for topic construct-prompt
2025-09-03 14:30:52,504 - services.external_task_worker - INFO - Task variables: {'user_query': 'What safety procedures should be followed?', 'context_quality_score': 0.43762456, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924250.649008}', 'reranked_context': '[{"chunk_id": "05087351-5cd1-4d1d-a711-96de15580877", "content": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimum 100m)", "source_document": "Safety Protocols", "similarity_score": 0.45991945, "chunk_metadata": {"chunk_id": "05087351-5cd1-4d1d-a711-96de15580877", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 51, "text": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimum 100m)", "content_preview": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimu...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "f7aea19c-4627-4849-bdea-f5668600f5fb", "content": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | Medium     | Major   | Action required within 24 hours |\\n| Medium     | Low        | Moderate| Action required within 1 week |\\n| Low        | Very Low   | Minor   | Monitor and review monthly |", "source_document": "Safety Protocols", "similarity_score": 0.45425004, "chunk_metadata": {"chunk_id": "f7aea19c-4627-4849-bdea-f5668600f5fb", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 10, "token_count": 98, "text": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | Medium     | Major   | Action required within 24 hours |\\n| Medium     | Low        | Moderate| Action required within 1 week |\\n| Low        | Very Low   | Minor   | Monitor and review monthly |", "content_preview": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | ...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "71331fe0-4b92-4e47-90a0-a7708353982d", "content": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance completion\\n- Document all maintenance activities in system logs", "source_document": "Safety Protocols", "similarity_score": 0.4409764, "chunk_metadata": {"chunk_id": "71331fe0-4b92-4e47-90a0-a7708353982d", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 8, "token_count": 65, "text": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance completion\\n- Document all maintenance activities in system logs", "content_preview": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance com...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.43016434, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "content": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "source_document": "Safety Protocols", "similarity_score": 0.40281257, "chunk_metadata": {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 3, "token_count": 55, "text": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "content_preview": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones ...", "source_asset": "Safety Protocols", "document_type": "safety"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What safety procedures should be followed?", "cleaned_query": "What safety procedures should be followed?", "key_terms": ["what", "safety", "procedures", "followed"], "question_intent": ["what"], "query_type": "question", "domain_terms": ["should"], "word_count": 6, "char_count": 42, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924250.649008}, "processing_timestamp": 1756924251.424905}', 'search_parameters': '{"primary_terms": ["what", "safety", "procedures", "followed"], "secondary_terms": [], "search_boost_terms": ["should"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:30:52,515 - services.external_task_worker - INFO - Successfully completed task 1f2d37d5-88f4-11f0-bc34-0242ac160003
2025-09-03 14:30:52,523 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:30:52,523 - services.external_task_worker - INFO - Executing task 1f2fcef8-88f4-11f0-bc34-0242ac160003 for topic llm-generation
2025-09-03 14:30:52,523 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.1 Normal Operations\n- Maintain continuous monitoring of all systems\n- Report position updates every 15 minutes\n- Monitor fuel/power consumption rates\n- Maintain safe separation distances (minimum 100m)\n[Context 2]: | Risk Level | Probability | Impact | Mitigation Required |\n|------------|-------------|---------|-------------------|\n| Critical   | High       | Severe  | Immediate action required |\n| High       | Medium     | Major   | Action required within 24 hours |\n| Medium     | Low        | Moderate| Action required within 1 week |\n| Low        | Very Low   | Minor   | Monitor and review monthly |\n[Context 3]: ### 3.1 Routine Maintenance\n- All maintenance SHALL be performed by certified personnel only\n- Use proper lockout/tagout procedures during maintenance\n- Verify all safety systems after maintenance completion\n- Document all maintenance activities in system logs\n\nUser Question: What safety procedures should be followed?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What safety procedures should be followed?', 'context_quality_score': 0.43762456, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924250.649008}', 'reranked_context': '[{"chunk_id": "05087351-5cd1-4d1d-a711-96de15580877", "content": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimum 100m)", "source_document": "Safety Protocols", "similarity_score": 0.45991945, "chunk_metadata": {"chunk_id": "05087351-5cd1-4d1d-a711-96de15580877", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 51, "text": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimum 100m)", "content_preview": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimu...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "f7aea19c-4627-4849-bdea-f5668600f5fb", "content": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | Medium     | Major   | Action required within 24 hours |\\n| Medium     | Low        | Moderate| Action required within 1 week |\\n| Low        | Very Low   | Minor   | Monitor and review monthly |", "source_document": "Safety Protocols", "similarity_score": 0.45425004, "chunk_metadata": {"chunk_id": "f7aea19c-4627-4849-bdea-f5668600f5fb", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 10, "token_count": 98, "text": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | Medium     | Major   | Action required within 24 hours |\\n| Medium     | Low        | Moderate| Action required within 1 week |\\n| Low        | Very Low   | Minor   | Monitor and review monthly |", "content_preview": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | ...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "71331fe0-4b92-4e47-90a0-a7708353982d", "content": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance completion\\n- Document all maintenance activities in system logs", "source_document": "Safety Protocols", "similarity_score": 0.4409764, "chunk_metadata": {"chunk_id": "71331fe0-4b92-4e47-90a0-a7708353982d", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 8, "token_count": 65, "text": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance completion\\n- Document all maintenance activities in system logs", "content_preview": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance com...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.43016434, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "content": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "source_document": "Safety Protocols", "similarity_score": 0.40281257, "chunk_metadata": {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 3, "token_count": 55, "text": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "content_preview": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones ...", "source_asset": "Safety Protocols", "document_type": "safety"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What safety procedures should be followed?", "cleaned_query": "What safety procedures should be followed?", "key_terms": ["what", "safety", "procedures", "followed"], "question_intent": ["what"], "query_type": "question", "domain_terms": ["should"], "word_count": 6, "char_count": 42, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924250.649008}, "processing_timestamp": 1756924251.424905}', 'search_parameters': '{"primary_terms": ["what", "safety", "procedures", "followed"], "secondary_terms": [], "search_boost_terms": ["should"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:30:52,532 - services.external_task_worker - INFO - Successfully completed task 1f2fcef8-88f4-11f0-bc34-0242ac160003
2025-09-03 14:30:52,540 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:30:52,541 - services.external_task_worker - INFO - Executing task 1f326719-88f4-11f0-bc34-0242ac160003 for topic process-response
2025-09-03 14:30:52,541 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.1 Normal Operations\n- Maintain continuous monitoring of all systems\n- Report position updates every 15 minutes\n- Monitor fuel/power consumption rates\n- Maintain safe separation distances (minimum 100m)\n[Context 2]: | Risk Level | Probability | Impact | Mitigation Required |\n|------------|-------------|---------|-------------------|\n| Critical   | High       | Severe  | Immediate action required |\n| High       | Medium     | Major   | Action required within 24 hours |\n| Medium     | Low        | Moderate| Action required within 1 week |\n| Low        | Very Low   | Minor   | Monitor and review monthly |\n[Context 3]: ### 3.1 Routine Maintenance\n- All maintenance SHALL be performed by certified personnel only\n- Use proper lockout/tagout procedures during maintenance\n- Verify all safety systems after maintenance completion\n- Document all maintenance activities in system logs\n\nUser Question: What safety procedures should be followed?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What safety procedures should be followed?', 'context_quality_score': 0.43762456, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924250.649008}', 'reranked_context': '[{"chunk_id": "05087351-5cd1-4d1d-a711-96de15580877", "content": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimum 100m)", "source_document": "Safety Protocols", "similarity_score": 0.45991945, "chunk_metadata": {"chunk_id": "05087351-5cd1-4d1d-a711-96de15580877", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 51, "text": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimum 100m)", "content_preview": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimu...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "f7aea19c-4627-4849-bdea-f5668600f5fb", "content": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | Medium     | Major   | Action required within 24 hours |\\n| Medium     | Low        | Moderate| Action required within 1 week |\\n| Low        | Very Low   | Minor   | Monitor and review monthly |", "source_document": "Safety Protocols", "similarity_score": 0.45425004, "chunk_metadata": {"chunk_id": "f7aea19c-4627-4849-bdea-f5668600f5fb", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 10, "token_count": 98, "text": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | Medium     | Major   | Action required within 24 hours |\\n| Medium     | Low        | Moderate| Action required within 1 week |\\n| Low        | Very Low   | Minor   | Monitor and review monthly |", "content_preview": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | ...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "71331fe0-4b92-4e47-90a0-a7708353982d", "content": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance completion\\n- Document all maintenance activities in system logs", "source_document": "Safety Protocols", "similarity_score": 0.4409764, "chunk_metadata": {"chunk_id": "71331fe0-4b92-4e47-90a0-a7708353982d", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 8, "token_count": 65, "text": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance completion\\n- Document all maintenance activities in system logs", "content_preview": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance com...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.43016434, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "content": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "source_document": "Safety Protocols", "similarity_score": 0.40281257, "chunk_metadata": {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 3, "token_count": 55, "text": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "content_preview": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones ...", "source_asset": "Safety Protocols", "document_type": "safety"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What safety procedures should be followed?", "cleaned_query": "What safety procedures should be followed?", "key_terms": ["what", "safety", "procedures", "followed"], "question_intent": ["what"], "query_type": "question", "domain_terms": ["should"], "word_count": 6, "char_count": 42, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924250.649008}, "processing_timestamp": 1756924251.424905}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 2.1 Normal Operations\n- Maintain continuous monitoring of all systems\n- Report position updates every 15 minutes\n- Monitor fuel/power consumption rates\n- Maintain safe separation distances (minimum 100m)\n[Context 2]: | Risk Level | Probability | Impact | Mitigation Required |\n|------------|-------------|---------|-------------------|\n| Critical   | High       | Severe  | Immediate action required |\n| High       | Medium     | Major   | Action required within 24 hours |\n| Medium     | Low        | Moderate| Action required within 1 week |\n| Low        | Very Low   | Minor   | Monitor and review monthly |\n[Context 3]: ### 3.1 Routine Maintenance\n- All maintenance SHALL be performed by certified personnel only\n- Use proper lockout/tagout procedures during maintenance\n- Verify all safety systems after maintenance completion\n- Document all maintenance activities in system logs\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["what", "safety", "procedures", "followed"], "secondary_terms": [], "search_boost_terms": ["should"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:30:52,550 - services.external_task_worker - INFO - Successfully completed task 1f326719-88f4-11f0-bc34-0242ac160003
2025-09-03 14:30:52,560 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:30:52,560 - services.external_task_worker - INFO - Executing task 1f35264f-88f4-11f0-bc34-0242ac160003 for topic log-interaction
2025-09-03 14:30:52,560 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.1 Normal Operations\n- Maintain continuous monitoring of all systems\n- Report position updates every 15 minutes\n- Monitor fuel/power consumption rates\n- Maintain safe separation distances (minimum 100m)\n[Context 2]: | Risk Level | Probability | Impact | Mitigation Required |\n|------------|-------------|---------|-------------------|\n| Critical   | High       | Severe  | Immediate action required |\n| High       | Medium     | Major   | Action required within 24 hours |\n| Medium     | Low        | Moderate| Action required within 1 week |\n| Low        | Very Low   | Minor   | Monitor and review monthly |\n[Context 3]: ### 3.1 Routine Maintenance\n- All maintenance SHALL be performed by certified personnel only\n- Use proper lockout/tagout procedures during maintenance\n- Verify all safety systems after maintenance completion\n- Document all maintenance activities in system logs\n\nUser Question: What safety procedures should be followed?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What safety procedures should be followed?', 'context_quality_score': 0.43762456, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924250.649008}', 'reranked_context': '[{"chunk_id": "05087351-5cd1-4d1d-a711-96de15580877", "content": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimum 100m)", "source_document": "Safety Protocols", "similarity_score": 0.45991945, "chunk_metadata": {"chunk_id": "05087351-5cd1-4d1d-a711-96de15580877", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 51, "text": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimum 100m)", "content_preview": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimu...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "f7aea19c-4627-4849-bdea-f5668600f5fb", "content": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | Medium     | Major   | Action required within 24 hours |\\n| Medium     | Low        | Moderate| Action required within 1 week |\\n| Low        | Very Low   | Minor   | Monitor and review monthly |", "source_document": "Safety Protocols", "similarity_score": 0.45425004, "chunk_metadata": {"chunk_id": "f7aea19c-4627-4849-bdea-f5668600f5fb", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 10, "token_count": 98, "text": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | Medium     | Major   | Action required within 24 hours |\\n| Medium     | Low        | Moderate| Action required within 1 week |\\n| Low        | Very Low   | Minor   | Monitor and review monthly |", "content_preview": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | ...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "71331fe0-4b92-4e47-90a0-a7708353982d", "content": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance completion\\n- Document all maintenance activities in system logs", "source_document": "Safety Protocols", "similarity_score": 0.4409764, "chunk_metadata": {"chunk_id": "71331fe0-4b92-4e47-90a0-a7708353982d", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 8, "token_count": 65, "text": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance completion\\n- Document all maintenance activities in system logs", "content_preview": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance com...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.43016434, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "content": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "source_document": "Safety Protocols", "similarity_score": 0.40281257, "chunk_metadata": {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 3, "token_count": 55, "text": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "content_preview": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones ...", "source_asset": "Safety Protocols", "document_type": "safety"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 2.1 Normal Operations\n- Maintain continuous monitoring of all systems\n- Report position updates every 15 minutes\n- Monitor fuel/power consumption rates\n- Maintain safe separation distances (minimum 100m)\n[Context 2]: | Risk Level | Probability | Impact | Mitigation Required |\n|------------|-------------|---------|-------------------|\n| Critical   | High       | Severe  | Immediate action required |\n| High       | Medium     | Major   | Action required within 24 hours |\n| Medium     | Low        | Moderate| Action required within 1 week |\n| Low        | Very Low   | Minor   | Monitor and review monthly |\n[Context 3]: ### 3.1 Routine Maintenance\n- All maintenance SHALL be performed by certified personnel only\n- Use proper lockout/tagout procedures during maintenance\n- Verify all safety systems after maintenance completion\n- Document all maintenance activities in system logs\n\nThis response is based on the relevant documentation found in your knowledge assets.\n\nSources:\n[1] Safety Protocols\n[2] Safety Protocols\n[3] Safety Protocols\n', 'processed_query': '{"original_query": "What safety procedures should be followed?", "cleaned_query": "What safety procedures should be followed?", "key_terms": ["what", "safety", "procedures", "followed"], "question_intent": ["what"], "query_type": "question", "domain_terms": ["should"], "word_count": 6, "char_count": 42, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924250.649008}, "processing_timestamp": 1756924251.424905}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 2.1 Normal Operations\n- Maintain continuous monitoring of all systems\n- Report position updates every 15 minutes\n- Monitor fuel/power consumption rates\n- Maintain safe separation distances (minimum 100m)\n[Context 2]: | Risk Level | Probability | Impact | Mitigation Required |\n|------------|-------------|---------|-------------------|\n| Critical   | High       | Severe  | Immediate action required |\n| High       | Medium     | Major   | Action required within 24 hours |\n| Medium     | Low        | Moderate| Action required within 1 week |\n| Low        | Very Low   | Minor   | Monitor and review monthly |\n[Context 3]: ### 3.1 Routine Maintenance\n- All maintenance SHALL be performed by certified personnel only\n- Use proper lockout/tagout procedures during maintenance\n- Verify all safety systems after maintenance completion\n- Document all maintenance activities in system logs\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["what", "safety", "procedures", "followed"], "secondary_terms": [], "search_boost_terms": ["should"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:30:52,575 - services.external_task_worker - INFO - Successfully completed task 1f35264f-88f4-11f0-bc34-0242ac160003
2025-09-03 14:30:56,611 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:30:56,611 - services.external_task_worker - INFO - Executing task 2195aba9-88f4-11f0-bc34-0242ac160003 for topic process-user-query
2025-09-03 14:30:56,611 - services.external_task_worker - INFO - Task variables: {'user_query': 'For Hardware Components what is our memory requirements', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924256.5123458}'}
2025-09-03 14:30:56,618 - services.external_task_worker - INFO - Successfully completed task 2195aba9-88f4-11f0-bc34-0242ac160003
2025-09-03 14:30:56,626 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:30:56,626 - services.external_task_worker - INFO - Executing task 21a207d4-88f4-11f0-bc34-0242ac160003 for topic retrieve-context
2025-09-03 14:30:56,626 - services.external_task_worker - INFO - Task variables: {'user_query': 'For Hardware Components what is our memory requirements', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924256.5123458}', 'processed_query': '{"original_query": "For Hardware Components what is our memory requirements", "cleaned_query": "For Hardware Components what is our memory requirements", "key_terms": ["hardware", "components", "what", "our", "memory", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements"], "word_count": 8, "char_count": 55, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924256.5123458}, "processing_timestamp": 1756924256.611791}', 'search_parameters': '{"primary_terms": ["hardware", "components", "what", "our", "memory"], "secondary_terms": ["requirements"], "search_boost_terms": ["requirements"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:30:56,629 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-03 14:30:56,676 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-03 14:30:56,681 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-03 14:30:56,681 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-03 14:30:56,700 - services.embedding_service - INFO - Embedding service initialized
2025-09-03 14:30:56,700 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-03 14:30:56,700 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cuda:0
2025-09-03 14:30:56,700 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-03 14:30:57,650 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-03 14:30:57,664 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-03 14:30:57,673 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-03 14:30:57,674 - services.qdrant_service - INFO - Found 2 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-03 14:30:57,674 - services.qdrant_service - INFO - Found 2 similar chunks for query: 'For Hardware Components what is our memory require...'
2025-09-03 14:30:57,708 - services.external_task_worker - INFO - Successfully completed task 21a207d4-88f4-11f0-bc34-0242ac160003
2025-09-03 14:30:57,717 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:30:57,717 - services.external_task_worker - INFO - Executing task 2247e4d8-88f4-11f0-bc34-0242ac160003 for topic rerank-context
2025-09-03 14:30:57,717 - services.external_task_worker - INFO - Task variables: {'user_query': 'For Hardware Components what is our memory requirements', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924256.5123458}', 'retrieved_chunks': '[{"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.54837537, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "content": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "source_document": "Technical Specifications", "similarity_score": 0.4863008, "chunk_metadata": {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 6, "token_count": 74, "text": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "content_preview": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write ...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'processed_query': '{"original_query": "For Hardware Components what is our memory requirements", "cleaned_query": "For Hardware Components what is our memory requirements", "key_terms": ["hardware", "components", "what", "our", "memory", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements"], "word_count": 8, "char_count": 55, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924256.5123458}, "processing_timestamp": 1756924256.611791}', 'search_parameters': '{"primary_terms": ["hardware", "components", "what", "our", "memory"], "secondary_terms": ["requirements"], "search_boost_terms": ["requirements"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:30:57,743 - services.external_task_worker - INFO - Successfully completed task 2247e4d8-88f4-11f0-bc34-0242ac160003
2025-09-03 14:30:57,755 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:30:57,755 - services.external_task_worker - INFO - Executing task 224b8e6f-88f4-11f0-bc34-0242ac160003 for topic fallback-search
2025-09-03 14:30:57,755 - services.external_task_worker - INFO - Task variables: {'user_query': 'For Hardware Components what is our memory requirements', 'context_quality_score': 0.517338085, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924256.5123458}', 'reranked_context': '[{"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.54837537, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "content": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "source_document": "Technical Specifications", "similarity_score": 0.4863008, "chunk_metadata": {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 6, "token_count": 74, "text": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "content_preview": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write ...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.54837537, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "content": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "source_document": "Technical Specifications", "similarity_score": 0.4863008, "chunk_metadata": {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 6, "token_count": 74, "text": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "content_preview": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write ...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'processed_query': '{"original_query": "For Hardware Components what is our memory requirements", "cleaned_query": "For Hardware Components what is our memory requirements", "key_terms": ["hardware", "components", "what", "our", "memory", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements"], "word_count": 8, "char_count": 55, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924256.5123458}, "processing_timestamp": 1756924256.611791}', 'search_parameters': '{"primary_terms": ["hardware", "components", "what", "our", "memory"], "secondary_terms": ["requirements"], "search_boost_terms": ["requirements"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:30:57,767 - services.external_task_worker - INFO - Successfully completed task 224b8e6f-88f4-11f0-bc34-0242ac160003
2025-09-03 14:30:57,778 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:30:57,778 - services.external_task_worker - INFO - Executing task 225133d4-88f4-11f0-bc34-0242ac160003 for topic construct-prompt
2025-09-03 14:30:57,778 - services.external_task_worker - INFO - Task variables: {'user_query': 'For Hardware Components what is our memory requirements', 'context_quality_score': 0.517338085, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924256.5123458}', 'reranked_context': '[{"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.54837537, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "content": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "source_document": "Technical Specifications", "similarity_score": 0.4863008, "chunk_metadata": {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 6, "token_count": 74, "text": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "content_preview": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write ...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "For Hardware Components what is our memory requirements", "cleaned_query": "For Hardware Components what is our memory requirements", "key_terms": ["hardware", "components", "what", "our", "memory", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements"], "word_count": 8, "char_count": 55, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924256.5123458}, "processing_timestamp": 1756924256.611791}', 'search_parameters': '{"primary_terms": ["hardware", "components", "what", "our", "memory"], "secondary_terms": ["requirements"], "search_boost_terms": ["requirements"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:30:57,795 - services.external_task_worker - INFO - Successfully completed task 225133d4-88f4-11f0-bc34-0242ac160003
2025-09-03 14:30:57,806 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:30:57,806 - services.external_task_worker - INFO - Executing task 22550477-88f4-11f0-bc34-0242ac160003 for topic llm-generation
2025-09-03 14:30:57,807 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': 'You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 1.1 Hardware Components\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\n- **Display**: 15.6" 1920x1080 sunlight-readable LCD touchscreen\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)\n[Context 2]: ### 3.1 Processing Performance\n- **CPU Utilization**: Maximum 80% under normal load\n- **Memory Usage**: Maximum 12 GB under normal operations\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications\n\nUser Question: For Hardware Components what is our memory requirements\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn\'t contain enough information to fully answer the question, acknowledge this and provide what information you can.', 'user_query': 'For Hardware Components what is our memory requirements', 'context_quality_score': 0.517338085, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924256.5123458}', 'reranked_context': '[{"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.54837537, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "content": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "source_document": "Technical Specifications", "similarity_score": 0.4863008, "chunk_metadata": {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 6, "token_count": 74, "text": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "content_preview": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write ...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "For Hardware Components what is our memory requirements", "cleaned_query": "For Hardware Components what is our memory requirements", "key_terms": ["hardware", "components", "what", "our", "memory", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements"], "word_count": 8, "char_count": 55, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924256.5123458}, "processing_timestamp": 1756924256.611791}', 'search_parameters': '{"primary_terms": ["hardware", "components", "what", "our", "memory"], "secondary_terms": ["requirements"], "search_boost_terms": ["requirements"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:30:57,817 - services.external_task_worker - INFO - Successfully completed task 22550477-88f4-11f0-bc34-0242ac160003
2025-09-03 14:30:57,828 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:30:57,828 - services.external_task_worker - INFO - Executing task 2258d518-88f4-11f0-bc34-0242ac160003 for topic process-response
2025-09-03 14:30:57,828 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': 'You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 1.1 Hardware Components\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\n- **Display**: 15.6" 1920x1080 sunlight-readable LCD touchscreen\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)\n[Context 2]: ### 3.1 Processing Performance\n- **CPU Utilization**: Maximum 80% under normal load\n- **Memory Usage**: Maximum 12 GB under normal operations\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications\n\nUser Question: For Hardware Components what is our memory requirements\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn\'t contain enough information to fully answer the question, acknowledge this and provide what information you can.', 'user_query': 'For Hardware Components what is our memory requirements', 'context_quality_score': 0.517338085, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924256.5123458}', 'reranked_context': '[{"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.54837537, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "content": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "source_document": "Technical Specifications", "similarity_score": 0.4863008, "chunk_metadata": {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 6, "token_count": 74, "text": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "content_preview": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write ...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "For Hardware Components what is our memory requirements", "cleaned_query": "For Hardware Components what is our memory requirements", "key_terms": ["hardware", "components", "what", "our", "memory", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements"], "word_count": 8, "char_count": 55, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924256.5123458}, "processing_timestamp": 1756924256.611791}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 1.1 Hardware Components\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\n- **Display**: 15.6" 1920x1080 sunlight-readable LCD touchscreen\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)\n[Context 2]: ### 3.1 Processing Performance\n- **CPU Utilization**: Maximum 80% under normal load\n- **Memory Usage**: Maximum 12 GB under normal operations\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["hardware", "components", "what", "our", "memory"], "secondary_terms": ["requirements"], "search_boost_terms": ["requirements"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:30:57,841 - services.external_task_worker - INFO - Successfully completed task 2258d518-88f4-11f0-bc34-0242ac160003
2025-09-03 14:30:57,852 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:30:57,853 - services.external_task_worker - INFO - Executing task 225c308e-88f4-11f0-bc34-0242ac160003 for topic log-interaction
2025-09-03 14:30:57,853 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': 'You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 1.1 Hardware Components\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\n- **Display**: 15.6" 1920x1080 sunlight-readable LCD touchscreen\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)\n[Context 2]: ### 3.1 Processing Performance\n- **CPU Utilization**: Maximum 80% under normal load\n- **Memory Usage**: Maximum 12 GB under normal operations\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications\n\nUser Question: For Hardware Components what is our memory requirements\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn\'t contain enough information to fully answer the question, acknowledge this and provide what information you can.', 'user_query': 'For Hardware Components what is our memory requirements', 'context_quality_score': 0.517338085, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924256.5123458}', 'reranked_context': '[{"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.54837537, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "content": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "source_document": "Technical Specifications", "similarity_score": 0.4863008, "chunk_metadata": {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 6, "token_count": 74, "text": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "content_preview": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write ...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 1.1 Hardware Components\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\n- **Display**: 15.6" 1920x1080 sunlight-readable LCD touchscreen\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)\n[Context 2]: ### 3.1 Processing Performance\n- **CPU Utilization**: Maximum 80% under normal load\n- **Memory Usage**: Maximum 12 GB under normal operations\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications\n\nThis response is based on the relevant documentation found in your knowledge assets.\n\nSources:\n[1] Technical Specifications\n[2] Technical Specifications\n', 'processed_query': '{"original_query": "For Hardware Components what is our memory requirements", "cleaned_query": "For Hardware Components what is our memory requirements", "key_terms": ["hardware", "components", "what", "our", "memory", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements"], "word_count": 8, "char_count": 55, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924256.5123458}, "processing_timestamp": 1756924256.611791}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 1.1 Hardware Components\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\n- **Display**: 15.6" 1920x1080 sunlight-readable LCD touchscreen\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)\n[Context 2]: ### 3.1 Processing Performance\n- **CPU Utilization**: Maximum 80% under normal load\n- **Memory Usage**: Maximum 12 GB under normal operations\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["hardware", "components", "what", "our", "memory"], "secondary_terms": ["requirements"], "search_boost_terms": ["requirements"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:30:57,869 - services.external_task_worker - INFO - Successfully completed task 225c308e-88f4-11f0-bc34-0242ac160003
2025-09-03 14:31:05,943 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:31:05,944 - services.external_task_worker - INFO - Executing task 26eb0798-88f4-11f0-bc34-0242ac160003 for topic process-user-query
2025-09-03 14:31:05,944 - services.external_task_worker - INFO - Task variables: {'user_query': 'What frequency does the Communication Interfaces operate at?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924265.4589338}'}
2025-09-03 14:31:05,953 - services.external_task_worker - INFO - Successfully completed task 26eb0798-88f4-11f0-bc34-0242ac160003
2025-09-03 14:31:05,961 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:31:05,961 - services.external_task_worker - INFO - Executing task 273221d3-88f4-11f0-bc34-0242ac160003 for topic retrieve-context
2025-09-03 14:31:05,961 - services.external_task_worker - INFO - Task variables: {'user_query': 'What frequency does the Communication Interfaces operate at?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924265.4589338}', 'processed_query': '{"original_query": "What frequency does the Communication Interfaces operate at?", "cleaned_query": "What frequency does the Communication Interfaces operate at?", "key_terms": ["what", "frequency", "communication", "interfaces", "operate"], "question_intent": ["what"], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 60, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924265.4589338}, "processing_timestamp": 1756924265.9442124}', 'search_parameters': '{"primary_terms": ["what", "frequency", "communication", "interfaces", "operate"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:31:05,963 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-03 14:31:06,012 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-03 14:31:06,018 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-03 14:31:06,018 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-03 14:31:06,035 - services.embedding_service - INFO - Embedding service initialized
2025-09-03 14:31:06,035 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-03 14:31:06,036 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cuda:0
2025-09-03 14:31:06,036 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-03 14:31:07,016 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-03 14:31:07,025 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-03 14:31:07,030 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-03 14:31:07,031 - services.qdrant_service - INFO - Found 2 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-03 14:31:07,031 - services.qdrant_service - INFO - Found 2 similar chunks for query: 'What frequency does the Communication Interfaces o...'
2025-09-03 14:31:07,048 - services.external_task_worker - INFO - Successfully completed task 273221d3-88f4-11f0-bc34-0242ac160003
2025-09-03 14:31:07,055 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:31:07,056 - services.external_task_worker - INFO - Executing task 27d98577-88f4-11f0-bc34-0242ac160003 for topic rerank-context
2025-09-03 14:31:07,056 - services.external_task_worker - INFO - Task variables: {'user_query': 'What frequency does the Communication Interfaces operate at?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924265.4589338}', 'retrieved_chunks': '[{"chunk_id": "a5b32041-e552-4e96-b3b4-3dec69c325ae", "content": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface", "source_document": "Technical Specifications", "similarity_score": 0.5399632, "chunk_metadata": {"chunk_id": "a5b32041-e552-4e96-b3b4-3dec69c325ae", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 77, "text": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface", "content_preview": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "content": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "source_document": "Technical Specifications", "similarity_score": 0.433985, "chunk_metadata": {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 7, "token_count": 76, "text": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "content_preview": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'processed_query': '{"original_query": "What frequency does the Communication Interfaces operate at?", "cleaned_query": "What frequency does the Communication Interfaces operate at?", "key_terms": ["what", "frequency", "communication", "interfaces", "operate"], "question_intent": ["what"], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 60, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924265.4589338}, "processing_timestamp": 1756924265.9442124}', 'search_parameters': '{"primary_terms": ["what", "frequency", "communication", "interfaces", "operate"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:31:07,064 - services.external_task_worker - INFO - Successfully completed task 27d98577-88f4-11f0-bc34-0242ac160003
2025-09-03 14:31:07,071 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:31:07,071 - services.external_task_worker - INFO - Executing task 27dbf68e-88f4-11f0-bc34-0242ac160003 for topic fallback-search
2025-09-03 14:31:07,071 - services.external_task_worker - INFO - Task variables: {'user_query': 'What frequency does the Communication Interfaces operate at?', 'context_quality_score': 0.48697409999999997, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924265.4589338}', 'reranked_context': '[{"chunk_id": "a5b32041-e552-4e96-b3b4-3dec69c325ae", "content": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface", "source_document": "Technical Specifications", "similarity_score": 0.5399632, "chunk_metadata": {"chunk_id": "a5b32041-e552-4e96-b3b4-3dec69c325ae", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 77, "text": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface", "content_preview": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "content": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "source_document": "Technical Specifications", "similarity_score": 0.433985, "chunk_metadata": {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 7, "token_count": 76, "text": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "content_preview": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "a5b32041-e552-4e96-b3b4-3dec69c325ae", "content": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface", "source_document": "Technical Specifications", "similarity_score": 0.5399632, "chunk_metadata": {"chunk_id": "a5b32041-e552-4e96-b3b4-3dec69c325ae", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 77, "text": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface", "content_preview": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "content": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "source_document": "Technical Specifications", "similarity_score": 0.433985, "chunk_metadata": {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 7, "token_count": 76, "text": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "content_preview": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'processed_query': '{"original_query": "What frequency does the Communication Interfaces operate at?", "cleaned_query": "What frequency does the Communication Interfaces operate at?", "key_terms": ["what", "frequency", "communication", "interfaces", "operate"], "question_intent": ["what"], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 60, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924265.4589338}, "processing_timestamp": 1756924265.9442124}', 'search_parameters': '{"primary_terms": ["what", "frequency", "communication", "interfaces", "operate"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:31:07,079 - services.external_task_worker - INFO - Successfully completed task 27dbf68e-88f4-11f0-bc34-0242ac160003
2025-09-03 14:31:07,087 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:31:07,087 - services.external_task_worker - INFO - Executing task 27de4093-88f4-11f0-bc34-0242ac160003 for topic construct-prompt
2025-09-03 14:31:07,087 - services.external_task_worker - INFO - Task variables: {'user_query': 'What frequency does the Communication Interfaces operate at?', 'context_quality_score': 0.48697409999999997, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924265.4589338}', 'reranked_context': '[{"chunk_id": "a5b32041-e552-4e96-b3b4-3dec69c325ae", "content": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface", "source_document": "Technical Specifications", "similarity_score": 0.5399632, "chunk_metadata": {"chunk_id": "a5b32041-e552-4e96-b3b4-3dec69c325ae", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 77, "text": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface", "content_preview": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "content": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "source_document": "Technical Specifications", "similarity_score": 0.433985, "chunk_metadata": {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 7, "token_count": 76, "text": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "content_preview": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What frequency does the Communication Interfaces operate at?", "cleaned_query": "What frequency does the Communication Interfaces operate at?", "key_terms": ["what", "frequency", "communication", "interfaces", "operate"], "question_intent": ["what"], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 60, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924265.4589338}, "processing_timestamp": 1756924265.9442124}', 'search_parameters': '{"primary_terms": ["what", "frequency", "communication", "interfaces", "operate"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:31:07,097 - services.external_task_worker - INFO - Successfully completed task 27de4093-88f4-11f0-bc34-0242ac160003
2025-09-03 14:31:07,106 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:31:07,106 - services.external_task_worker - INFO - Executing task 27e0b1a6-88f4-11f0-bc34-0242ac160003 for topic llm-generation
2025-09-03 14:31:07,106 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 1.2 Communication Interfaces\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\n- **Data Link**: 4G LTE cellular modem with failover to satellite\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface\n[Context 2]: ### 3.2 Real-time Requirements\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\n- **Command Response Time**: Maximum 100ms for user interface interactions\n- **Emergency Response**: Maximum 50ms for safety-critical alerts\n\nUser Question: What frequency does the Communication Interfaces operate at?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What frequency does the Communication Interfaces operate at?', 'context_quality_score': 0.48697409999999997, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924265.4589338}', 'reranked_context': '[{"chunk_id": "a5b32041-e552-4e96-b3b4-3dec69c325ae", "content": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface", "source_document": "Technical Specifications", "similarity_score": 0.5399632, "chunk_metadata": {"chunk_id": "a5b32041-e552-4e96-b3b4-3dec69c325ae", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 77, "text": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface", "content_preview": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "content": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "source_document": "Technical Specifications", "similarity_score": 0.433985, "chunk_metadata": {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 7, "token_count": 76, "text": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "content_preview": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What frequency does the Communication Interfaces operate at?", "cleaned_query": "What frequency does the Communication Interfaces operate at?", "key_terms": ["what", "frequency", "communication", "interfaces", "operate"], "question_intent": ["what"], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 60, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924265.4589338}, "processing_timestamp": 1756924265.9442124}', 'search_parameters': '{"primary_terms": ["what", "frequency", "communication", "interfaces", "operate"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:31:07,115 - services.external_task_worker - INFO - Successfully completed task 27e0b1a6-88f4-11f0-bc34-0242ac160003
2025-09-03 14:31:07,123 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:31:07,124 - services.external_task_worker - INFO - Executing task 27e397e7-88f4-11f0-bc34-0242ac160003 for topic process-response
2025-09-03 14:31:07,124 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 1.2 Communication Interfaces\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\n- **Data Link**: 4G LTE cellular modem with failover to satellite\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface\n[Context 2]: ### 3.2 Real-time Requirements\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\n- **Command Response Time**: Maximum 100ms for user interface interactions\n- **Emergency Response**: Maximum 50ms for safety-critical alerts\n\nUser Question: What frequency does the Communication Interfaces operate at?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What frequency does the Communication Interfaces operate at?', 'context_quality_score': 0.48697409999999997, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924265.4589338}', 'reranked_context': '[{"chunk_id": "a5b32041-e552-4e96-b3b4-3dec69c325ae", "content": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface", "source_document": "Technical Specifications", "similarity_score": 0.5399632, "chunk_metadata": {"chunk_id": "a5b32041-e552-4e96-b3b4-3dec69c325ae", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 77, "text": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface", "content_preview": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "content": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "source_document": "Technical Specifications", "similarity_score": 0.433985, "chunk_metadata": {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 7, "token_count": 76, "text": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "content_preview": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What frequency does the Communication Interfaces operate at?", "cleaned_query": "What frequency does the Communication Interfaces operate at?", "key_terms": ["what", "frequency", "communication", "interfaces", "operate"], "question_intent": ["what"], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 60, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924265.4589338}, "processing_timestamp": 1756924265.9442124}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 1.2 Communication Interfaces\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\n- **Data Link**: 4G LTE cellular modem with failover to satellite\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface\n[Context 2]: ### 3.2 Real-time Requirements\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\n- **Command Response Time**: Maximum 100ms for user interface interactions\n- **Emergency Response**: Maximum 50ms for safety-critical alerts\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["what", "frequency", "communication", "interfaces", "operate"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:31:07,136 - services.external_task_worker - INFO - Successfully completed task 27e397e7-88f4-11f0-bc34-0242ac160003
2025-09-03 14:31:07,146 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:31:07,146 - services.external_task_worker - INFO - Executing task 27e6571d-88f4-11f0-bc34-0242ac160003 for topic log-interaction
2025-09-03 14:31:07,146 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 1.2 Communication Interfaces\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\n- **Data Link**: 4G LTE cellular modem with failover to satellite\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface\n[Context 2]: ### 3.2 Real-time Requirements\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\n- **Command Response Time**: Maximum 100ms for user interface interactions\n- **Emergency Response**: Maximum 50ms for safety-critical alerts\n\nUser Question: What frequency does the Communication Interfaces operate at?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What frequency does the Communication Interfaces operate at?', 'context_quality_score': 0.48697409999999997, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924265.4589338}', 'reranked_context': '[{"chunk_id": "a5b32041-e552-4e96-b3b4-3dec69c325ae", "content": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface", "source_document": "Technical Specifications", "similarity_score": 0.5399632, "chunk_metadata": {"chunk_id": "a5b32041-e552-4e96-b3b4-3dec69c325ae", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 77, "text": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface", "content_preview": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "content": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "source_document": "Technical Specifications", "similarity_score": 0.433985, "chunk_metadata": {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 7, "token_count": 76, "text": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "content_preview": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 1.2 Communication Interfaces\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\n- **Data Link**: 4G LTE cellular modem with failover to satellite\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface\n[Context 2]: ### 3.2 Real-time Requirements\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\n- **Command Response Time**: Maximum 100ms for user interface interactions\n- **Emergency Response**: Maximum 50ms for safety-critical alerts\n\nThis response is based on the relevant documentation found in your knowledge assets.\n\nSources:\n[1] Technical Specifications\n[2] Technical Specifications\n', 'processed_query': '{"original_query": "What frequency does the Communication Interfaces operate at?", "cleaned_query": "What frequency does the Communication Interfaces operate at?", "key_terms": ["what", "frequency", "communication", "interfaces", "operate"], "question_intent": ["what"], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 60, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924265.4589338}, "processing_timestamp": 1756924265.9442124}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 1.2 Communication Interfaces\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\n- **Data Link**: 4G LTE cellular modem with failover to satellite\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface\n[Context 2]: ### 3.2 Real-time Requirements\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\n- **Command Response Time**: Maximum 100ms for user interface interactions\n- **Emergency Response**: Maximum 50ms for safety-critical alerts\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["what", "frequency", "communication", "interfaces", "operate"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:31:07,160 - services.external_task_worker - INFO - Successfully completed task 27e6571d-88f4-11f0-bc34-0242ac160003
2025-09-03 14:31:07,522 - __main__ - INFO - Received signal 15, shutting down worker...
2025-09-03 14:31:37,441 - services.external_task_worker - INFO - Starting external task worker: odras-worker-1756924297
2025-09-03 14:31:43,438 - __main__ - INFO - Received signal 15, shutting down worker...
2025-09-03 14:31:49,221 - services.external_task_worker - INFO - Starting external task worker: odras-worker-1756924309
2025-09-03 14:31:49,229 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:31:49,230 - services.external_task_worker - INFO - Executing task 3f66ba93-88f4-11f0-bc34-0242ac160003 for topic process-user-query
2025-09-03 14:31:49,230 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the navigation system requirements?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924306.5313447}'}
2025-09-03 14:31:49,239 - services.external_task_worker - INFO - Successfully completed task 3f66ba93-88f4-11f0-bc34-0242ac160003
2025-09-03 14:31:49,246 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:31:49,246 - services.external_task_worker - INFO - Executing task 40ff34fe-88f4-11f0-bc34-0242ac160003 for topic retrieve-context
2025-09-03 14:31:49,246 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the navigation system requirements?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924306.5313447}', 'processed_query': '{"original_query": "What are the navigation system requirements?", "cleaned_query": "What are the navigation system requirements?", "key_terms": ["what", "navigation", "system", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements", "system"], "word_count": 6, "char_count": 44, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924306.5313447}, "processing_timestamp": 1756924309.230638}', 'search_parameters': '{"primary_terms": ["what", "navigation", "system", "requirements"], "secondary_terms": [], "search_boost_terms": ["requirements", "system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:31:49,258 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-03 14:31:49,326 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-03 14:31:49,330 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-03 14:31:49,331 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-03 14:31:49,345 - services.embedding_service - INFO - Embedding service initialized
2025-09-03 14:31:49,346 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-03 14:31:49,420 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cuda:0
2025-09-03 14:31:49,420 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-03 14:31:50,624 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-03 14:31:50,896 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-03 14:31:50,908 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-03 14:31:50,909 - services.qdrant_service - INFO - Found 10 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-03 14:31:50,909 - services.qdrant_service - INFO - Found 10 similar chunks for query: 'What are the navigation system requirements?...'
2025-09-03 14:31:50,970 - services.external_task_worker - INFO - Successfully completed task 40ff34fe-88f4-11f0-bc34-0242ac160003
2025-09-03 14:31:50,978 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:31:50,978 - services.external_task_worker - INFO - Executing task 42075642-88f4-11f0-bc34-0242ac160003 for topic rerank-context
2025-09-03 14:31:50,978 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the navigation system requirements?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924306.5313447}', 'retrieved_chunks': '[{"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "content": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "source_document": "Navigation System Requirements", "similarity_score": 0.680192, "chunk_metadata": {"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 106, "text": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "content_preview": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint ...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "content": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "source_document": "Navigation System Requirements", "similarity_score": 0.6318933, "chunk_metadata": {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 102, "text": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "content_preview": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom leve...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "content": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "source_document": "Technical Specifications", "similarity_score": 0.60904396, "chunk_metadata": {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 86, "text": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "content_preview": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Pla...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.53267634, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.5096952, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "content": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "source_document": "Technical Specifications", "similarity_score": 0.47959125, "chunk_metadata": {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 7, "token_count": 76, "text": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "content_preview": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "06c184ad-d62e-4037-ae05-7399a54936e5", "content": "#### 2.2.1 System Failure Response\\n1. **Primary Navigation Failure**\\n   - Switch to backup navigation system immediately\\n   - Report failure to control station\\n   - Return to base using predetermined safe route\\n   - Do not continue mission without primary navigation", "source_document": "Safety Protocols", "similarity_score": 0.46008196, "chunk_metadata": {"chunk_id": "06c184ad-d62e-4037-ae05-7399a54936e5", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 5, "token_count": 66, "text": "#### 2.2.1 System Failure Response\\n1. **Primary Navigation Failure**\\n   - Switch to backup navigation system immediately\\n   - Report failure to control station\\n   - Return to base using predetermined safe route\\n   - Do not continue mission without primary navigation", "content_preview": "#### 2.2.1 System Failure Response\\n1. **Primary Navigation Failure**\\n   - Switch to backup navigation system immediately\\n   - Report failure to control station\\n   - Return to base using predetermined ...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "content": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "source_document": "Safety Protocols", "similarity_score": 0.45862547, "chunk_metadata": {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 3, "token_count": 55, "text": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "content_preview": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones ...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "49936670-8134-4076-b4db-76cd6bccdc03", "content": "### 3.1 Critical Functions\\n- **REQ-SAFETY-001**: Navigation system failures SHALL NOT affect primary vehicle systems\\n- **REQ-SAFETY-002**: The system SHALL provide audible alerts for critical navigation events\\n- **REQ-SAFETY-003**: Emergency stop functionality SHALL be available within 1 button press", "source_document": "Navigation System Requirements", "similarity_score": 0.4322413, "chunk_metadata": {"chunk_id": "49936670-8134-4076-b4db-76cd6bccdc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 5, "token_count": 75, "text": "### 3.1 Critical Functions\\n- **REQ-SAFETY-001**: Navigation system failures SHALL NOT affect primary vehicle systems\\n- **REQ-SAFETY-002**: The system SHALL provide audible alerts for critical navigation events\\n- **REQ-SAFETY-003**: Emergency stop functionality SHALL be available within 1 button press", "content_preview": "### 3.1 Critical Functions\\n- **REQ-SAFETY-001**: Navigation system failures SHALL NOT affect primary vehicle systems\\n- **REQ-SAFETY-002**: The system SHALL provide audible alerts for critical navigati...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "f493bbf3-d99a-4c4e-90be-a173b0cadfb4", "content": "3. **Communication Systems**\\n   - Radio check with control station\\n   - Verify emergency communication channels\\n   - Test data link connectivity", "source_document": "Safety Protocols", "similarity_score": 0.4016766, "chunk_metadata": {"chunk_id": "f493bbf3-d99a-4c4e-90be-a173b0cadfb4", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 2, "token_count": 36, "text": "3. **Communication Systems**\\n   - Radio check with control station\\n   - Verify emergency communication channels\\n   - Test data link connectivity", "content_preview": "3. **Communication Systems**\\n   - Radio check with control station\\n   - Verify emergency communication channels\\n   - Test data link connectivity", "source_asset": "Safety Protocols", "document_type": "safety"}}]', 'processed_query': '{"original_query": "What are the navigation system requirements?", "cleaned_query": "What are the navigation system requirements?", "key_terms": ["what", "navigation", "system", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements", "system"], "word_count": 6, "char_count": 44, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924306.5313447}, "processing_timestamp": 1756924309.230638}', 'search_parameters': '{"primary_terms": ["what", "navigation", "system", "requirements"], "secondary_terms": [], "search_boost_terms": ["requirements", "system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:31:50,986 - services.external_task_worker - INFO - Successfully completed task 42075642-88f4-11f0-bc34-0242ac160003
2025-09-03 14:31:50,995 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:31:50,995 - services.external_task_worker - INFO - Executing task 4209ee69-88f4-11f0-bc34-0242ac160003 for topic fallback-search
2025-09-03 14:31:50,996 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the navigation system requirements?', 'context_quality_score': 0.59270016, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924306.5313447}', 'reranked_context': '[{"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "content": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "source_document": "Navigation System Requirements", "similarity_score": 0.680192, "chunk_metadata": {"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 106, "text": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "content_preview": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint ...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "content": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "source_document": "Navigation System Requirements", "similarity_score": 0.6318933, "chunk_metadata": {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 102, "text": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "content_preview": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom leve...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "content": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "source_document": "Technical Specifications", "similarity_score": 0.60904396, "chunk_metadata": {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 86, "text": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "content_preview": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Pla...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.53267634, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.5096952, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "content": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "source_document": "Navigation System Requirements", "similarity_score": 0.680192, "chunk_metadata": {"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 106, "text": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "content_preview": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint ...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "content": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "source_document": "Navigation System Requirements", "similarity_score": 0.6318933, "chunk_metadata": {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 102, "text": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "content_preview": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom leve...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "content": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "source_document": "Technical Specifications", "similarity_score": 0.60904396, "chunk_metadata": {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 86, "text": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "content_preview": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Pla...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.53267634, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.5096952, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "content": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "source_document": "Technical Specifications", "similarity_score": 0.47959125, "chunk_metadata": {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 7, "token_count": 76, "text": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "content_preview": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "06c184ad-d62e-4037-ae05-7399a54936e5", "content": "#### 2.2.1 System Failure Response\\n1. **Primary Navigation Failure**\\n   - Switch to backup navigation system immediately\\n   - Report failure to control station\\n   - Return to base using predetermined safe route\\n   - Do not continue mission without primary navigation", "source_document": "Safety Protocols", "similarity_score": 0.46008196, "chunk_metadata": {"chunk_id": "06c184ad-d62e-4037-ae05-7399a54936e5", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 5, "token_count": 66, "text": "#### 2.2.1 System Failure Response\\n1. **Primary Navigation Failure**\\n   - Switch to backup navigation system immediately\\n   - Report failure to control station\\n   - Return to base using predetermined safe route\\n   - Do not continue mission without primary navigation", "content_preview": "#### 2.2.1 System Failure Response\\n1. **Primary Navigation Failure**\\n   - Switch to backup navigation system immediately\\n   - Report failure to control station\\n   - Return to base using predetermined ...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "content": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "source_document": "Safety Protocols", "similarity_score": 0.45862547, "chunk_metadata": {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 3, "token_count": 55, "text": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "content_preview": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones ...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "49936670-8134-4076-b4db-76cd6bccdc03", "content": "### 3.1 Critical Functions\\n- **REQ-SAFETY-001**: Navigation system failures SHALL NOT affect primary vehicle systems\\n- **REQ-SAFETY-002**: The system SHALL provide audible alerts for critical navigation events\\n- **REQ-SAFETY-003**: Emergency stop functionality SHALL be available within 1 button press", "source_document": "Navigation System Requirements", "similarity_score": 0.4322413, "chunk_metadata": {"chunk_id": "49936670-8134-4076-b4db-76cd6bccdc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 5, "token_count": 75, "text": "### 3.1 Critical Functions\\n- **REQ-SAFETY-001**: Navigation system failures SHALL NOT affect primary vehicle systems\\n- **REQ-SAFETY-002**: The system SHALL provide audible alerts for critical navigation events\\n- **REQ-SAFETY-003**: Emergency stop functionality SHALL be available within 1 button press", "content_preview": "### 3.1 Critical Functions\\n- **REQ-SAFETY-001**: Navigation system failures SHALL NOT affect primary vehicle systems\\n- **REQ-SAFETY-002**: The system SHALL provide audible alerts for critical navigati...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "f493bbf3-d99a-4c4e-90be-a173b0cadfb4", "content": "3. **Communication Systems**\\n   - Radio check with control station\\n   - Verify emergency communication channels\\n   - Test data link connectivity", "source_document": "Safety Protocols", "similarity_score": 0.4016766, "chunk_metadata": {"chunk_id": "f493bbf3-d99a-4c4e-90be-a173b0cadfb4", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 2, "token_count": 36, "text": "3. **Communication Systems**\\n   - Radio check with control station\\n   - Verify emergency communication channels\\n   - Test data link connectivity", "content_preview": "3. **Communication Systems**\\n   - Radio check with control station\\n   - Verify emergency communication channels\\n   - Test data link connectivity", "source_asset": "Safety Protocols", "document_type": "safety"}}]', 'processed_query': '{"original_query": "What are the navigation system requirements?", "cleaned_query": "What are the navigation system requirements?", "key_terms": ["what", "navigation", "system", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements", "system"], "word_count": 6, "char_count": 44, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924306.5313447}, "processing_timestamp": 1756924309.230638}', 'search_parameters': '{"primary_terms": ["what", "navigation", "system", "requirements"], "secondary_terms": [], "search_boost_terms": ["requirements", "system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:31:51,004 - services.external_task_worker - INFO - Successfully completed task 4209ee69-88f4-11f0-bc34-0242ac160003
2025-09-03 14:31:51,013 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:31:51,013 - services.external_task_worker - INFO - Executing task 420c858e-88f4-11f0-bc34-0242ac160003 for topic construct-prompt
2025-09-03 14:31:51,013 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the navigation system requirements?', 'context_quality_score': 0.59270016, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924306.5313447}', 'reranked_context': '[{"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "content": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "source_document": "Navigation System Requirements", "similarity_score": 0.680192, "chunk_metadata": {"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 106, "text": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "content_preview": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint ...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "content": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "source_document": "Navigation System Requirements", "similarity_score": 0.6318933, "chunk_metadata": {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 102, "text": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "content_preview": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom leve...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "content": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "source_document": "Technical Specifications", "similarity_score": 0.60904396, "chunk_metadata": {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 86, "text": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "content_preview": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Pla...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.53267634, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.5096952, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What are the navigation system requirements?", "cleaned_query": "What are the navigation system requirements?", "key_terms": ["what", "navigation", "system", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements", "system"], "word_count": 6, "char_count": 44, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924306.5313447}, "processing_timestamp": 1756924309.230638}', 'search_parameters': '{"primary_terms": ["what", "navigation", "system", "requirements"], "secondary_terms": [], "search_boost_terms": ["requirements", "system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:31:51,023 - services.external_task_worker - INFO - Successfully completed task 420c858e-88f4-11f0-bc34-0242ac160003
2025-09-03 14:31:51,031 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:31:51,031 - services.external_task_worker - INFO - Executing task 420f1db1-88f4-11f0-bc34-0242ac160003 for topic llm-generation
2025-09-03 14:31:51,031 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 1.1 Core Navigation Functions\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)\n[Context 2]: ### 1.2 User Interface Requirements  \n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup\n[Context 3]: ### 2.2 Navigation Software Stack\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation\n\nUser Question: What are the navigation system requirements?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What are the navigation system requirements?', 'context_quality_score': 0.59270016, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924306.5313447}', 'reranked_context': '[{"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "content": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "source_document": "Navigation System Requirements", "similarity_score": 0.680192, "chunk_metadata": {"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 106, "text": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "content_preview": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint ...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "content": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "source_document": "Navigation System Requirements", "similarity_score": 0.6318933, "chunk_metadata": {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 102, "text": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "content_preview": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom leve...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "content": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "source_document": "Technical Specifications", "similarity_score": 0.60904396, "chunk_metadata": {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 86, "text": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "content_preview": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Pla...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.53267634, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.5096952, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What are the navigation system requirements?", "cleaned_query": "What are the navigation system requirements?", "key_terms": ["what", "navigation", "system", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements", "system"], "word_count": 6, "char_count": 44, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924306.5313447}, "processing_timestamp": 1756924309.230638}', 'search_parameters': '{"primary_terms": ["what", "navigation", "system", "requirements"], "secondary_terms": [], "search_boost_terms": ["requirements", "system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:31:51,041 - services.external_task_worker - INFO - Successfully completed task 420f1db1-88f4-11f0-bc34-0242ac160003
2025-09-03 14:31:51,050 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:31:51,050 - services.external_task_worker - INFO - Executing task 421203f2-88f4-11f0-bc34-0242ac160003 for topic process-response
2025-09-03 14:31:51,051 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 1.1 Core Navigation Functions\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)\n[Context 2]: ### 1.2 User Interface Requirements  \n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup\n[Context 3]: ### 2.2 Navigation Software Stack\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation\n\nUser Question: What are the navigation system requirements?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What are the navigation system requirements?', 'context_quality_score': 0.59270016, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924306.5313447}', 'reranked_context': '[{"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "content": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "source_document": "Navigation System Requirements", "similarity_score": 0.680192, "chunk_metadata": {"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 106, "text": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "content_preview": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint ...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "content": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "source_document": "Navigation System Requirements", "similarity_score": 0.6318933, "chunk_metadata": {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 102, "text": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "content_preview": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom leve...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "content": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "source_document": "Technical Specifications", "similarity_score": 0.60904396, "chunk_metadata": {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 86, "text": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "content_preview": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Pla...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.53267634, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.5096952, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What are the navigation system requirements?", "cleaned_query": "What are the navigation system requirements?", "key_terms": ["what", "navigation", "system", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements", "system"], "word_count": 6, "char_count": 44, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924306.5313447}, "processing_timestamp": 1756924309.230638}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 1.1 Core Navigation Functions\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)\n[Context 2]: ### 1.2 User Interface Requirements\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup\n[Context 3]: ### 2.2 Navigation Software Stack\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["what", "navigation", "system", "requirements"], "secondary_terms": [], "search_boost_terms": ["requirements", "system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:31:51,063 - services.external_task_worker - INFO - Successfully completed task 421203f2-88f4-11f0-bc34-0242ac160003
2025-09-03 14:31:51,073 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:31:51,073 - services.external_task_worker - INFO - Executing task 42151148-88f4-11f0-bc34-0242ac160003 for topic log-interaction
2025-09-03 14:31:51,073 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 1.1 Core Navigation Functions\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)\n[Context 2]: ### 1.2 User Interface Requirements  \n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup\n[Context 3]: ### 2.2 Navigation Software Stack\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation\n\nUser Question: What are the navigation system requirements?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What are the navigation system requirements?', 'context_quality_score': 0.59270016, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924306.5313447}', 'reranked_context': '[{"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "content": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "source_document": "Navigation System Requirements", "similarity_score": 0.680192, "chunk_metadata": {"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 106, "text": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "content_preview": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint ...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "content": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "source_document": "Navigation System Requirements", "similarity_score": 0.6318933, "chunk_metadata": {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 102, "text": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "content_preview": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom leve...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "content": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "source_document": "Technical Specifications", "similarity_score": 0.60904396, "chunk_metadata": {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 86, "text": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "content_preview": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Pla...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.53267634, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.5096952, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 1.1 Core Navigation Functions\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)\n[Context 2]: ### 1.2 User Interface Requirements\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup\n[Context 3]: ### 2.2 Navigation Software Stack\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation\n\nThis response is based on the relevant documentation found in your knowledge assets.\n\nSources:\n[1] Navigation System Requirements\n[2] Navigation System Requirements\n[3] Technical Specifications\n', 'processed_query': '{"original_query": "What are the navigation system requirements?", "cleaned_query": "What are the navigation system requirements?", "key_terms": ["what", "navigation", "system", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements", "system"], "word_count": 6, "char_count": 44, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924306.5313447}, "processing_timestamp": 1756924309.230638}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 1.1 Core Navigation Functions\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)\n[Context 2]: ### 1.2 User Interface Requirements\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup\n[Context 3]: ### 2.2 Navigation Software Stack\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["what", "navigation", "system", "requirements"], "secondary_terms": [], "search_boost_terms": ["requirements", "system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:31:51,091 - services.external_task_worker - INFO - Successfully completed task 42151148-88f4-11f0-bc34-0242ac160003
2025-09-03 14:31:59,168 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:31:59,168 - services.external_task_worker - INFO - Executing task 466e5962-88f4-11f0-bc34-0242ac160003 for topic process-user-query
2025-09-03 14:31:59,168 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the navigation system requirements?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924318.3280485}'}
2025-09-03 14:31:59,179 - services.external_task_worker - INFO - Successfully completed task 466e5962-88f4-11f0-bc34-0242ac160003
2025-09-03 14:31:59,188 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:31:59,189 - services.external_task_worker - INFO - Executing task 46ebeded-88f4-11f0-bc34-0242ac160003 for topic retrieve-context
2025-09-03 14:31:59,189 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the navigation system requirements?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924318.3280485}', 'processed_query': '{"original_query": "What are the navigation system requirements?", "cleaned_query": "What are the navigation system requirements?", "key_terms": ["what", "navigation", "system", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements", "system"], "word_count": 6, "char_count": 44, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924318.3280485}, "processing_timestamp": 1756924319.1687489}', 'search_parameters': '{"primary_terms": ["what", "navigation", "system", "requirements"], "secondary_terms": [], "search_boost_terms": ["requirements", "system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:31:59,192 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-03 14:31:59,238 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-03 14:31:59,244 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-03 14:31:59,244 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-03 14:31:59,262 - services.embedding_service - INFO - Embedding service initialized
2025-09-03 14:31:59,262 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-03 14:31:59,263 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cuda:0
2025-09-03 14:31:59,263 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-03 14:32:00,306 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-03 14:32:00,315 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-03 14:32:00,322 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-03 14:32:00,323 - services.qdrant_service - INFO - Found 10 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-03 14:32:00,323 - services.qdrant_service - INFO - Found 10 similar chunks for query: 'What are the navigation system requirements?...'
2025-09-03 14:32:00,375 - services.external_task_worker - INFO - Successfully completed task 46ebeded-88f4-11f0-bc34-0242ac160003
2025-09-03 14:32:00,383 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:32:00,383 - services.external_task_worker - INFO - Executing task 47a26cc1-88f4-11f0-bc34-0242ac160003 for topic rerank-context
2025-09-03 14:32:00,383 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the navigation system requirements?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924318.3280485}', 'retrieved_chunks': '[{"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "content": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "source_document": "Navigation System Requirements", "similarity_score": 0.680192, "chunk_metadata": {"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 106, "text": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "content_preview": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint ...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "content": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "source_document": "Navigation System Requirements", "similarity_score": 0.6318933, "chunk_metadata": {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 102, "text": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "content_preview": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom leve...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "content": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "source_document": "Technical Specifications", "similarity_score": 0.60904396, "chunk_metadata": {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 86, "text": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "content_preview": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Pla...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.53267634, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.5096952, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "content": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "source_document": "Technical Specifications", "similarity_score": 0.47959125, "chunk_metadata": {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 7, "token_count": 76, "text": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "content_preview": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "06c184ad-d62e-4037-ae05-7399a54936e5", "content": "#### 2.2.1 System Failure Response\\n1. **Primary Navigation Failure**\\n   - Switch to backup navigation system immediately\\n   - Report failure to control station\\n   - Return to base using predetermined safe route\\n   - Do not continue mission without primary navigation", "source_document": "Safety Protocols", "similarity_score": 0.46008196, "chunk_metadata": {"chunk_id": "06c184ad-d62e-4037-ae05-7399a54936e5", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 5, "token_count": 66, "text": "#### 2.2.1 System Failure Response\\n1. **Primary Navigation Failure**\\n   - Switch to backup navigation system immediately\\n   - Report failure to control station\\n   - Return to base using predetermined safe route\\n   - Do not continue mission without primary navigation", "content_preview": "#### 2.2.1 System Failure Response\\n1. **Primary Navigation Failure**\\n   - Switch to backup navigation system immediately\\n   - Report failure to control station\\n   - Return to base using predetermined ...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "content": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "source_document": "Safety Protocols", "similarity_score": 0.45862547, "chunk_metadata": {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 3, "token_count": 55, "text": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "content_preview": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones ...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "49936670-8134-4076-b4db-76cd6bccdc03", "content": "### 3.1 Critical Functions\\n- **REQ-SAFETY-001**: Navigation system failures SHALL NOT affect primary vehicle systems\\n- **REQ-SAFETY-002**: The system SHALL provide audible alerts for critical navigation events\\n- **REQ-SAFETY-003**: Emergency stop functionality SHALL be available within 1 button press", "source_document": "Navigation System Requirements", "similarity_score": 0.4322413, "chunk_metadata": {"chunk_id": "49936670-8134-4076-b4db-76cd6bccdc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 5, "token_count": 75, "text": "### 3.1 Critical Functions\\n- **REQ-SAFETY-001**: Navigation system failures SHALL NOT affect primary vehicle systems\\n- **REQ-SAFETY-002**: The system SHALL provide audible alerts for critical navigation events\\n- **REQ-SAFETY-003**: Emergency stop functionality SHALL be available within 1 button press", "content_preview": "### 3.1 Critical Functions\\n- **REQ-SAFETY-001**: Navigation system failures SHALL NOT affect primary vehicle systems\\n- **REQ-SAFETY-002**: The system SHALL provide audible alerts for critical navigati...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "f493bbf3-d99a-4c4e-90be-a173b0cadfb4", "content": "3. **Communication Systems**\\n   - Radio check with control station\\n   - Verify emergency communication channels\\n   - Test data link connectivity", "source_document": "Safety Protocols", "similarity_score": 0.4016766, "chunk_metadata": {"chunk_id": "f493bbf3-d99a-4c4e-90be-a173b0cadfb4", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 2, "token_count": 36, "text": "3. **Communication Systems**\\n   - Radio check with control station\\n   - Verify emergency communication channels\\n   - Test data link connectivity", "content_preview": "3. **Communication Systems**\\n   - Radio check with control station\\n   - Verify emergency communication channels\\n   - Test data link connectivity", "source_asset": "Safety Protocols", "document_type": "safety"}}]', 'processed_query': '{"original_query": "What are the navigation system requirements?", "cleaned_query": "What are the navigation system requirements?", "key_terms": ["what", "navigation", "system", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements", "system"], "word_count": 6, "char_count": 44, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924318.3280485}, "processing_timestamp": 1756924319.1687489}', 'search_parameters': '{"primary_terms": ["what", "navigation", "system", "requirements"], "secondary_terms": [], "search_boost_terms": ["requirements", "system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:32:00,394 - services.external_task_worker - INFO - Successfully completed task 47a26cc1-88f4-11f0-bc34-0242ac160003
2025-09-03 14:32:00,403 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:32:00,404 - services.external_task_worker - INFO - Executing task 47a52bf8-88f4-11f0-bc34-0242ac160003 for topic fallback-search
2025-09-03 14:32:00,404 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the navigation system requirements?', 'context_quality_score': 0.59270016, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924318.3280485}', 'reranked_context': '[{"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "content": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "source_document": "Navigation System Requirements", "similarity_score": 0.680192, "chunk_metadata": {"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 106, "text": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "content_preview": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint ...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "content": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "source_document": "Navigation System Requirements", "similarity_score": 0.6318933, "chunk_metadata": {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 102, "text": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "content_preview": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom leve...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "content": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "source_document": "Technical Specifications", "similarity_score": 0.60904396, "chunk_metadata": {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 86, "text": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "content_preview": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Pla...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.53267634, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.5096952, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "content": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "source_document": "Navigation System Requirements", "similarity_score": 0.680192, "chunk_metadata": {"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 106, "text": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "content_preview": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint ...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "content": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "source_document": "Navigation System Requirements", "similarity_score": 0.6318933, "chunk_metadata": {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 102, "text": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "content_preview": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom leve...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "content": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "source_document": "Technical Specifications", "similarity_score": 0.60904396, "chunk_metadata": {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 86, "text": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "content_preview": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Pla...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.53267634, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.5096952, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "content": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "source_document": "Technical Specifications", "similarity_score": 0.47959125, "chunk_metadata": {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 7, "token_count": 76, "text": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "content_preview": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "06c184ad-d62e-4037-ae05-7399a54936e5", "content": "#### 2.2.1 System Failure Response\\n1. **Primary Navigation Failure**\\n   - Switch to backup navigation system immediately\\n   - Report failure to control station\\n   - Return to base using predetermined safe route\\n   - Do not continue mission without primary navigation", "source_document": "Safety Protocols", "similarity_score": 0.46008196, "chunk_metadata": {"chunk_id": "06c184ad-d62e-4037-ae05-7399a54936e5", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 5, "token_count": 66, "text": "#### 2.2.1 System Failure Response\\n1. **Primary Navigation Failure**\\n   - Switch to backup navigation system immediately\\n   - Report failure to control station\\n   - Return to base using predetermined safe route\\n   - Do not continue mission without primary navigation", "content_preview": "#### 2.2.1 System Failure Response\\n1. **Primary Navigation Failure**\\n   - Switch to backup navigation system immediately\\n   - Report failure to control station\\n   - Return to base using predetermined ...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "content": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "source_document": "Safety Protocols", "similarity_score": 0.45862547, "chunk_metadata": {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 3, "token_count": 55, "text": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "content_preview": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones ...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "49936670-8134-4076-b4db-76cd6bccdc03", "content": "### 3.1 Critical Functions\\n- **REQ-SAFETY-001**: Navigation system failures SHALL NOT affect primary vehicle systems\\n- **REQ-SAFETY-002**: The system SHALL provide audible alerts for critical navigation events\\n- **REQ-SAFETY-003**: Emergency stop functionality SHALL be available within 1 button press", "source_document": "Navigation System Requirements", "similarity_score": 0.4322413, "chunk_metadata": {"chunk_id": "49936670-8134-4076-b4db-76cd6bccdc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 5, "token_count": 75, "text": "### 3.1 Critical Functions\\n- **REQ-SAFETY-001**: Navigation system failures SHALL NOT affect primary vehicle systems\\n- **REQ-SAFETY-002**: The system SHALL provide audible alerts for critical navigation events\\n- **REQ-SAFETY-003**: Emergency stop functionality SHALL be available within 1 button press", "content_preview": "### 3.1 Critical Functions\\n- **REQ-SAFETY-001**: Navigation system failures SHALL NOT affect primary vehicle systems\\n- **REQ-SAFETY-002**: The system SHALL provide audible alerts for critical navigati...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "f493bbf3-d99a-4c4e-90be-a173b0cadfb4", "content": "3. **Communication Systems**\\n   - Radio check with control station\\n   - Verify emergency communication channels\\n   - Test data link connectivity", "source_document": "Safety Protocols", "similarity_score": 0.4016766, "chunk_metadata": {"chunk_id": "f493bbf3-d99a-4c4e-90be-a173b0cadfb4", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 2, "token_count": 36, "text": "3. **Communication Systems**\\n   - Radio check with control station\\n   - Verify emergency communication channels\\n   - Test data link connectivity", "content_preview": "3. **Communication Systems**\\n   - Radio check with control station\\n   - Verify emergency communication channels\\n   - Test data link connectivity", "source_asset": "Safety Protocols", "document_type": "safety"}}]', 'processed_query': '{"original_query": "What are the navigation system requirements?", "cleaned_query": "What are the navigation system requirements?", "key_terms": ["what", "navigation", "system", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements", "system"], "word_count": 6, "char_count": 44, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924318.3280485}, "processing_timestamp": 1756924319.1687489}', 'search_parameters': '{"primary_terms": ["what", "navigation", "system", "requirements"], "secondary_terms": [], "search_boost_terms": ["requirements", "system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:32:00,415 - services.external_task_worker - INFO - Successfully completed task 47a52bf8-88f4-11f0-bc34-0242ac160003
2025-09-03 14:32:00,423 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:32:00,424 - services.external_task_worker - INFO - Executing task 47a8876d-88f4-11f0-bc34-0242ac160003 for topic construct-prompt
2025-09-03 14:32:00,424 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the navigation system requirements?', 'context_quality_score': 0.59270016, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924318.3280485}', 'reranked_context': '[{"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "content": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "source_document": "Navigation System Requirements", "similarity_score": 0.680192, "chunk_metadata": {"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 106, "text": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "content_preview": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint ...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "content": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "source_document": "Navigation System Requirements", "similarity_score": 0.6318933, "chunk_metadata": {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 102, "text": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "content_preview": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom leve...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "content": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "source_document": "Technical Specifications", "similarity_score": 0.60904396, "chunk_metadata": {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 86, "text": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "content_preview": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Pla...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.53267634, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.5096952, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What are the navigation system requirements?", "cleaned_query": "What are the navigation system requirements?", "key_terms": ["what", "navigation", "system", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements", "system"], "word_count": 6, "char_count": 44, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924318.3280485}, "processing_timestamp": 1756924319.1687489}', 'search_parameters': '{"primary_terms": ["what", "navigation", "system", "requirements"], "secondary_terms": [], "search_boost_terms": ["requirements", "system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:32:00,434 - services.external_task_worker - INFO - Successfully completed task 47a8876d-88f4-11f0-bc34-0242ac160003
2025-09-03 14:32:00,443 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:32:00,443 - services.external_task_worker - INFO - Executing task 47ab46a0-88f4-11f0-bc34-0242ac160003 for topic llm-generation
2025-09-03 14:32:00,443 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 1.1 Core Navigation Functions\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)\n[Context 2]: ### 1.2 User Interface Requirements  \n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup\n[Context 3]: ### 2.2 Navigation Software Stack\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation\n\nUser Question: What are the navigation system requirements?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What are the navigation system requirements?', 'context_quality_score': 0.59270016, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924318.3280485}', 'reranked_context': '[{"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "content": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "source_document": "Navigation System Requirements", "similarity_score": 0.680192, "chunk_metadata": {"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 106, "text": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "content_preview": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint ...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "content": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "source_document": "Navigation System Requirements", "similarity_score": 0.6318933, "chunk_metadata": {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 102, "text": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "content_preview": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom leve...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "content": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "source_document": "Technical Specifications", "similarity_score": 0.60904396, "chunk_metadata": {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 86, "text": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "content_preview": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Pla...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.53267634, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.5096952, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What are the navigation system requirements?", "cleaned_query": "What are the navigation system requirements?", "key_terms": ["what", "navigation", "system", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements", "system"], "word_count": 6, "char_count": 44, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924318.3280485}, "processing_timestamp": 1756924319.1687489}', 'search_parameters': '{"primary_terms": ["what", "navigation", "system", "requirements"], "secondary_terms": [], "search_boost_terms": ["requirements", "system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:32:00,453 - services.external_task_worker - INFO - Successfully completed task 47ab46a0-88f4-11f0-bc34-0242ac160003
2025-09-03 14:32:00,463 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:32:00,464 - services.external_task_worker - INFO - Executing task 47ae2ce1-88f4-11f0-bc34-0242ac160003 for topic process-response
2025-09-03 14:32:00,464 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 1.1 Core Navigation Functions\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)\n[Context 2]: ### 1.2 User Interface Requirements  \n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup\n[Context 3]: ### 2.2 Navigation Software Stack\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation\n\nUser Question: What are the navigation system requirements?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What are the navigation system requirements?', 'context_quality_score': 0.59270016, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924318.3280485}', 'reranked_context': '[{"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "content": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "source_document": "Navigation System Requirements", "similarity_score": 0.680192, "chunk_metadata": {"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 106, "text": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "content_preview": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint ...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "content": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "source_document": "Navigation System Requirements", "similarity_score": 0.6318933, "chunk_metadata": {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 102, "text": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "content_preview": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom leve...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "content": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "source_document": "Technical Specifications", "similarity_score": 0.60904396, "chunk_metadata": {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 86, "text": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "content_preview": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Pla...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.53267634, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.5096952, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What are the navigation system requirements?", "cleaned_query": "What are the navigation system requirements?", "key_terms": ["what", "navigation", "system", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements", "system"], "word_count": 6, "char_count": 44, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924318.3280485}, "processing_timestamp": 1756924319.1687489}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 1.1 Core Navigation Functions\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)\n[Context 2]: ### 1.2 User Interface Requirements\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup\n[Context 3]: ### 2.2 Navigation Software Stack\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["what", "navigation", "system", "requirements"], "secondary_terms": [], "search_boost_terms": ["requirements", "system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:32:00,475 - services.external_task_worker - INFO - Successfully completed task 47ae2ce1-88f4-11f0-bc34-0242ac160003
2025-09-03 14:32:00,482 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:32:00,483 - services.external_task_worker - INFO - Executing task 47b16147-88f4-11f0-bc34-0242ac160003 for topic log-interaction
2025-09-03 14:32:00,483 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 1.1 Core Navigation Functions\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)\n[Context 2]: ### 1.2 User Interface Requirements  \n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup\n[Context 3]: ### 2.2 Navigation Software Stack\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation\n\nUser Question: What are the navigation system requirements?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What are the navigation system requirements?', 'context_quality_score': 0.59270016, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924318.3280485}', 'reranked_context': '[{"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "content": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "source_document": "Navigation System Requirements", "similarity_score": 0.680192, "chunk_metadata": {"chunk_id": "4c3217da-a133-4c17-a38c-15e2ecf715ef", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 106, "text": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)", "content_preview": "### 1.1 Core Navigation Functions\\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\\n- **REQ-NAV-002**: The system SHALL support waypoint ...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "content": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "source_document": "Navigation System Requirements", "similarity_score": 0.6318933, "chunk_metadata": {"chunk_id": "4c27e6de-9e0a-426e-897c-acb7a1e42cc7", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 102, "text": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup", "content_preview": "### 1.2 User Interface Requirements  \\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\\n- **REQ-UI-002**: The system SHALL provide a map view with zoom leve...", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}, {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "content": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "source_document": "Technical Specifications", "similarity_score": 0.60904396, "chunk_metadata": {"chunk_id": "0b911589-a27f-4564-80f2-3becd774653c", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 86, "text": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation", "content_preview": "### 2.2 Navigation Software Stack\\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\\n- **Route Pla...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.53267634, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.5096952, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 1.1 Core Navigation Functions\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)\n[Context 2]: ### 1.2 User Interface Requirements\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup\n[Context 3]: ### 2.2 Navigation Software Stack\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation\n\nThis response is based on the relevant documentation found in your knowledge assets.\n\nSources:\n[1] Navigation System Requirements\n[2] Navigation System Requirements\n[3] Technical Specifications\n', 'processed_query': '{"original_query": "What are the navigation system requirements?", "cleaned_query": "What are the navigation system requirements?", "key_terms": ["what", "navigation", "system", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements", "system"], "word_count": 6, "char_count": 44, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924318.3280485}, "processing_timestamp": 1756924319.1687489}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 1.1 Core Navigation Functions\n- **REQ-NAV-001**: The navigation system SHALL provide real-time position tracking with accuracy within 3 meters\n- **REQ-NAV-002**: The system SHALL support waypoint navigation with automatic route calculation\n- **REQ-NAV-003**: The system SHALL provide turn-by-turn guidance with voice prompts\n- **REQ-NAV-004**: The system SHALL support multiple coordinate systems (WGS84, UTM, local grid)\n[Context 2]: ### 1.2 User Interface Requirements\n- **REQ-UI-001**: The navigation interface SHALL display current position, heading, and speed\n- **REQ-UI-002**: The system SHALL provide a map view with zoom levels from 1:100 to 1:50000\n- **REQ-UI-003**: The interface SHALL support both day and night display modes\n- **REQ-UI-004**: All critical navigation information SHALL be visible within 2 seconds of system startup\n[Context 3]: ### 2.2 Navigation Software Stack\n- **Core Navigation**: Custom C++ navigation engine with real-time processing\n- **Mapping Framework**: OpenStreetMap integration with custom tile server\n- **Route Planning**: A* algorithm implementation with multi-criteria optimization\n- **Sensor Fusion**: Extended Kalman Filter for position/velocity estimation\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["what", "navigation", "system", "requirements"], "secondary_terms": [], "search_boost_terms": ["requirements", "system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:32:00,497 - services.external_task_worker - INFO - Successfully completed task 47b16147-88f4-11f0-bc34-0242ac160003
2025-09-03 14:32:05,544 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:32:05,544 - services.external_task_worker - INFO - Executing task 4a867961-88f4-11f0-bc34-0242ac160003 for topic process-user-query
2025-09-03 14:32:05,544 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924325.1979635}'}
2025-09-03 14:32:05,552 - services.external_task_worker - INFO - Successfully completed task 4a867961-88f4-11f0-bc34-0242ac160003
2025-09-03 14:32:05,561 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:32:05,561 - services.external_task_worker - INFO - Executing task 4ab885fc-88f4-11f0-bc34-0242ac160003 for topic retrieve-context
2025-09-03 14:32:05,561 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924325.1979635}', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924325.1979635}, "processing_timestamp": 1756924325.5448527}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:32:05,563 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-03 14:32:05,610 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-03 14:32:05,614 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-03 14:32:05,615 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-03 14:32:05,631 - services.embedding_service - INFO - Embedding service initialized
2025-09-03 14:32:05,632 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-03 14:32:05,632 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cuda:0
2025-09-03 14:32:05,632 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-03 14:32:06,563 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-03 14:32:06,573 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-03 14:32:06,579 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-03 14:32:06,580 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-03 14:32:06,580 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'What is the required position accuracy?...'
2025-09-03 14:32:06,594 - services.external_task_worker - INFO - Successfully completed task 4ab885fc-88f4-11f0-bc34-0242ac160003
2025-09-03 14:32:06,598 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:32:06,598 - services.external_task_worker - INFO - Executing task 4b578530-88f4-11f0-bc34-0242ac160003 for topic rerank-context
2025-09-03 14:32:06,599 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924325.1979635}', 'retrieved_chunks': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924325.1979635}, "processing_timestamp": 1756924325.5448527}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:32:06,605 - services.external_task_worker - INFO - Successfully completed task 4b578530-88f4-11f0-bc34-0242ac160003
2025-09-03 14:32:06,612 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:32:06,612 - services.external_task_worker - INFO - Executing task 4b5932f7-88f4-11f0-bc34-0242ac160003 for topic fallback-search
2025-09-03 14:32:06,612 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924325.1979635}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924325.1979635}, "processing_timestamp": 1756924325.5448527}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:32:06,618 - services.external_task_worker - INFO - Successfully completed task 4b5932f7-88f4-11f0-bc34-0242ac160003
2025-09-03 14:32:06,627 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:32:06,627 - services.external_task_worker - INFO - Executing task 4b5b2edc-88f4-11f0-bc34-0242ac160003 for topic construct-prompt
2025-09-03 14:32:06,627 - services.external_task_worker - INFO - Task variables: {'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924325.1979635}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924325.1979635}, "processing_timestamp": 1756924325.5448527}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:32:06,635 - services.external_task_worker - INFO - Successfully completed task 4b5b2edc-88f4-11f0-bc34-0242ac160003
2025-09-03 14:32:06,643 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:32:06,644 - services.external_task_worker - INFO - Executing task 4b5d9fef-88f4-11f0-bc34-0242ac160003 for topic llm-generation
2025-09-03 14:32:06,644 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924325.1979635}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924325.1979635}, "processing_timestamp": 1756924325.5448527}', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:32:06,650 - services.external_task_worker - INFO - Successfully completed task 4b5d9fef-88f4-11f0-bc34-0242ac160003
2025-09-03 14:32:06,658 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:32:06,658 - services.external_task_worker - INFO - Executing task 4b601100-88f4-11f0-bc34-0242ac160003 for topic process-response
2025-09-03 14:32:06,658 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924325.1979635}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924325.1979635}, "processing_timestamp": 1756924325.5448527}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:32:06,667 - services.external_task_worker - INFO - Successfully completed task 4b601100-88f4-11f0-bc34-0242ac160003
2025-09-03 14:32:06,678 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:32:06,679 - services.external_task_worker - INFO - Executing task 4b628216-88f4-11f0-bc34-0242ac160003 for topic log-interaction
2025-09-03 14:32:06,679 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nUser Question: What is the required position accuracy?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What is the required position accuracy?', 'context_quality_score': 0.6692845, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924325.1979635}', 'reranked_context': '[{"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "content": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_document": "Navigation System Requirements", "similarity_score": 0.6692845, "chunk_metadata": {"chunk_id": "6f88a8f5-1ed3-499f-9aab-38993d99dc03", "asset_id": "c05be765-d4f8-400d-af95-35910093f811", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 33, "text": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "content_preview": "### 2.2 Accuracy\\n- Position accuracy: 3 meters CEP (Circular Error Probable)\\n- Heading accuracy: \\u00b12 degrees\\n- Speed accuracy: \\u00b10.1 m/s", "source_asset": "Navigation System Requirements", "document_type": "requirements"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nThis response is based on the relevant documentation found in your knowledge assets.\n\nSources:\n[1] Navigation System Requirements\n', 'processed_query': '{"original_query": "What is the required position accuracy?", "cleaned_query": "What is the required position accuracy?", "key_terms": ["what", "required", "position", "accuracy"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 39, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924325.1979635}, "processing_timestamp": 1756924325.5448527}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 2.2 Accuracy\n- Position accuracy: 3 meters CEP (Circular Error Probable)\n- Heading accuracy: ±2 degrees\n- Speed accuracy: ±0.1 m/s\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["what", "required", "position", "accuracy"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:32:06,707 - services.external_task_worker - INFO - Successfully completed task 4b628216-88f4-11f0-bc34-0242ac160003
2025-09-03 14:32:16,791 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:32:16,791 - services.external_task_worker - INFO - Executing task 50f88ff0-88f4-11f0-bc34-0242ac160003 for topic process-user-query
2025-09-03 14:32:16,791 - services.external_task_worker - INFO - Task variables: {'user_query': 'What safety procedures should be followed?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924336.012671}'}
2025-09-03 14:32:16,799 - services.external_task_worker - INFO - Successfully completed task 50f88ff0-88f4-11f0-bc34-0242ac160003
2025-09-03 14:32:16,808 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:32:16,808 - services.external_task_worker - INFO - Executing task 516cae9b-88f4-11f0-bc34-0242ac160003 for topic retrieve-context
2025-09-03 14:32:16,808 - services.external_task_worker - INFO - Task variables: {'user_query': 'What safety procedures should be followed?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924336.012671}', 'processed_query': '{"original_query": "What safety procedures should be followed?", "cleaned_query": "What safety procedures should be followed?", "key_terms": ["what", "safety", "procedures", "followed"], "question_intent": ["what"], "query_type": "question", "domain_terms": ["should"], "word_count": 6, "char_count": 42, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924336.012671}, "processing_timestamp": 1756924336.7916093}', 'search_parameters': '{"primary_terms": ["what", "safety", "procedures", "followed"], "secondary_terms": [], "search_boost_terms": ["should"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:32:16,811 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-03 14:32:16,856 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-03 14:32:16,862 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-03 14:32:16,862 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-03 14:32:16,880 - services.embedding_service - INFO - Embedding service initialized
2025-09-03 14:32:16,880 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-03 14:32:16,880 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cuda:0
2025-09-03 14:32:16,880 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-03 14:32:17,774 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-03 14:32:17,783 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-03 14:32:17,790 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-03 14:32:17,791 - services.qdrant_service - INFO - Found 5 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-03 14:32:17,791 - services.qdrant_service - INFO - Found 5 similar chunks for query: 'What safety procedures should be followed?...'
2025-09-03 14:32:17,835 - services.external_task_worker - INFO - Successfully completed task 516cae9b-88f4-11f0-bc34-0242ac160003
2025-09-03 14:32:17,843 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:32:17,844 - services.external_task_worker - INFO - Executing task 520a9c5f-88f4-11f0-bc34-0242ac160003 for topic rerank-context
2025-09-03 14:32:17,844 - services.external_task_worker - INFO - Task variables: {'user_query': 'What safety procedures should be followed?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924336.012671}', 'retrieved_chunks': '[{"chunk_id": "05087351-5cd1-4d1d-a711-96de15580877", "content": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimum 100m)", "source_document": "Safety Protocols", "similarity_score": 0.45991945, "chunk_metadata": {"chunk_id": "05087351-5cd1-4d1d-a711-96de15580877", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 51, "text": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimum 100m)", "content_preview": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimu...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "f7aea19c-4627-4849-bdea-f5668600f5fb", "content": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | Medium     | Major   | Action required within 24 hours |\\n| Medium     | Low        | Moderate| Action required within 1 week |\\n| Low        | Very Low   | Minor   | Monitor and review monthly |", "source_document": "Safety Protocols", "similarity_score": 0.45425004, "chunk_metadata": {"chunk_id": "f7aea19c-4627-4849-bdea-f5668600f5fb", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 10, "token_count": 98, "text": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | Medium     | Major   | Action required within 24 hours |\\n| Medium     | Low        | Moderate| Action required within 1 week |\\n| Low        | Very Low   | Minor   | Monitor and review monthly |", "content_preview": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | ...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "71331fe0-4b92-4e47-90a0-a7708353982d", "content": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance completion\\n- Document all maintenance activities in system logs", "source_document": "Safety Protocols", "similarity_score": 0.4409764, "chunk_metadata": {"chunk_id": "71331fe0-4b92-4e47-90a0-a7708353982d", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 8, "token_count": 65, "text": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance completion\\n- Document all maintenance activities in system logs", "content_preview": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance com...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.43016434, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "content": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "source_document": "Safety Protocols", "similarity_score": 0.40281257, "chunk_metadata": {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 3, "token_count": 55, "text": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "content_preview": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones ...", "source_asset": "Safety Protocols", "document_type": "safety"}}]', 'processed_query': '{"original_query": "What safety procedures should be followed?", "cleaned_query": "What safety procedures should be followed?", "key_terms": ["what", "safety", "procedures", "followed"], "question_intent": ["what"], "query_type": "question", "domain_terms": ["should"], "word_count": 6, "char_count": 42, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924336.012671}, "processing_timestamp": 1756924336.7916093}', 'search_parameters': '{"primary_terms": ["what", "safety", "procedures", "followed"], "secondary_terms": [], "search_boost_terms": ["should"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:32:17,852 - services.external_task_worker - INFO - Successfully completed task 520a9c5f-88f4-11f0-bc34-0242ac160003
2025-09-03 14:32:17,861 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:32:17,862 - services.external_task_worker - INFO - Executing task 520d5a96-88f4-11f0-bc34-0242ac160003 for topic fallback-search
2025-09-03 14:32:17,862 - services.external_task_worker - INFO - Task variables: {'user_query': 'What safety procedures should be followed?', 'context_quality_score': 0.43762456, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924336.012671}', 'reranked_context': '[{"chunk_id": "05087351-5cd1-4d1d-a711-96de15580877", "content": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimum 100m)", "source_document": "Safety Protocols", "similarity_score": 0.45991945, "chunk_metadata": {"chunk_id": "05087351-5cd1-4d1d-a711-96de15580877", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 51, "text": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimum 100m)", "content_preview": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimu...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "f7aea19c-4627-4849-bdea-f5668600f5fb", "content": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | Medium     | Major   | Action required within 24 hours |\\n| Medium     | Low        | Moderate| Action required within 1 week |\\n| Low        | Very Low   | Minor   | Monitor and review monthly |", "source_document": "Safety Protocols", "similarity_score": 0.45425004, "chunk_metadata": {"chunk_id": "f7aea19c-4627-4849-bdea-f5668600f5fb", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 10, "token_count": 98, "text": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | Medium     | Major   | Action required within 24 hours |\\n| Medium     | Low        | Moderate| Action required within 1 week |\\n| Low        | Very Low   | Minor   | Monitor and review monthly |", "content_preview": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | ...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "71331fe0-4b92-4e47-90a0-a7708353982d", "content": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance completion\\n- Document all maintenance activities in system logs", "source_document": "Safety Protocols", "similarity_score": 0.4409764, "chunk_metadata": {"chunk_id": "71331fe0-4b92-4e47-90a0-a7708353982d", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 8, "token_count": 65, "text": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance completion\\n- Document all maintenance activities in system logs", "content_preview": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance com...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.43016434, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "content": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "source_document": "Safety Protocols", "similarity_score": 0.40281257, "chunk_metadata": {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 3, "token_count": 55, "text": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "content_preview": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones ...", "source_asset": "Safety Protocols", "document_type": "safety"}}]', 'retrieved_chunks': '[{"chunk_id": "05087351-5cd1-4d1d-a711-96de15580877", "content": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimum 100m)", "source_document": "Safety Protocols", "similarity_score": 0.45991945, "chunk_metadata": {"chunk_id": "05087351-5cd1-4d1d-a711-96de15580877", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 51, "text": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimum 100m)", "content_preview": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimu...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "f7aea19c-4627-4849-bdea-f5668600f5fb", "content": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | Medium     | Major   | Action required within 24 hours |\\n| Medium     | Low        | Moderate| Action required within 1 week |\\n| Low        | Very Low   | Minor   | Monitor and review monthly |", "source_document": "Safety Protocols", "similarity_score": 0.45425004, "chunk_metadata": {"chunk_id": "f7aea19c-4627-4849-bdea-f5668600f5fb", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 10, "token_count": 98, "text": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | Medium     | Major   | Action required within 24 hours |\\n| Medium     | Low        | Moderate| Action required within 1 week |\\n| Low        | Very Low   | Minor   | Monitor and review monthly |", "content_preview": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | ...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "71331fe0-4b92-4e47-90a0-a7708353982d", "content": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance completion\\n- Document all maintenance activities in system logs", "source_document": "Safety Protocols", "similarity_score": 0.4409764, "chunk_metadata": {"chunk_id": "71331fe0-4b92-4e47-90a0-a7708353982d", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 8, "token_count": 65, "text": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance completion\\n- Document all maintenance activities in system logs", "content_preview": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance com...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.43016434, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "content": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "source_document": "Safety Protocols", "similarity_score": 0.40281257, "chunk_metadata": {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 3, "token_count": 55, "text": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "content_preview": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones ...", "source_asset": "Safety Protocols", "document_type": "safety"}}]', 'processed_query': '{"original_query": "What safety procedures should be followed?", "cleaned_query": "What safety procedures should be followed?", "key_terms": ["what", "safety", "procedures", "followed"], "question_intent": ["what"], "query_type": "question", "domain_terms": ["should"], "word_count": 6, "char_count": 42, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924336.012671}, "processing_timestamp": 1756924336.7916093}', 'search_parameters': '{"primary_terms": ["what", "safety", "procedures", "followed"], "secondary_terms": [], "search_boost_terms": ["should"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:32:17,870 - services.external_task_worker - INFO - Successfully completed task 520d5a96-88f4-11f0-bc34-0242ac160003
2025-09-03 14:32:17,879 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:32:17,880 - services.external_task_worker - INFO - Executing task 520ff2bb-88f4-11f0-bc34-0242ac160003 for topic construct-prompt
2025-09-03 14:32:17,880 - services.external_task_worker - INFO - Task variables: {'user_query': 'What safety procedures should be followed?', 'context_quality_score': 0.43762456, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924336.012671}', 'reranked_context': '[{"chunk_id": "05087351-5cd1-4d1d-a711-96de15580877", "content": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimum 100m)", "source_document": "Safety Protocols", "similarity_score": 0.45991945, "chunk_metadata": {"chunk_id": "05087351-5cd1-4d1d-a711-96de15580877", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 51, "text": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimum 100m)", "content_preview": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimu...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "f7aea19c-4627-4849-bdea-f5668600f5fb", "content": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | Medium     | Major   | Action required within 24 hours |\\n| Medium     | Low        | Moderate| Action required within 1 week |\\n| Low        | Very Low   | Minor   | Monitor and review monthly |", "source_document": "Safety Protocols", "similarity_score": 0.45425004, "chunk_metadata": {"chunk_id": "f7aea19c-4627-4849-bdea-f5668600f5fb", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 10, "token_count": 98, "text": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | Medium     | Major   | Action required within 24 hours |\\n| Medium     | Low        | Moderate| Action required within 1 week |\\n| Low        | Very Low   | Minor   | Monitor and review monthly |", "content_preview": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | ...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "71331fe0-4b92-4e47-90a0-a7708353982d", "content": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance completion\\n- Document all maintenance activities in system logs", "source_document": "Safety Protocols", "similarity_score": 0.4409764, "chunk_metadata": {"chunk_id": "71331fe0-4b92-4e47-90a0-a7708353982d", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 8, "token_count": 65, "text": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance completion\\n- Document all maintenance activities in system logs", "content_preview": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance com...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.43016434, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "content": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "source_document": "Safety Protocols", "similarity_score": 0.40281257, "chunk_metadata": {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 3, "token_count": 55, "text": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "content_preview": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones ...", "source_asset": "Safety Protocols", "document_type": "safety"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What safety procedures should be followed?", "cleaned_query": "What safety procedures should be followed?", "key_terms": ["what", "safety", "procedures", "followed"], "question_intent": ["what"], "query_type": "question", "domain_terms": ["should"], "word_count": 6, "char_count": 42, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924336.012671}, "processing_timestamp": 1756924336.7916093}', 'search_parameters': '{"primary_terms": ["what", "safety", "procedures", "followed"], "secondary_terms": [], "search_boost_terms": ["should"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:32:17,891 - services.external_task_worker - INFO - Successfully completed task 520ff2bb-88f4-11f0-bc34-0242ac160003
2025-09-03 14:32:17,898 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:32:17,899 - services.external_task_worker - INFO - Executing task 5212d8fe-88f4-11f0-bc34-0242ac160003 for topic llm-generation
2025-09-03 14:32:17,899 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.1 Normal Operations\n- Maintain continuous monitoring of all systems\n- Report position updates every 15 minutes\n- Monitor fuel/power consumption rates\n- Maintain safe separation distances (minimum 100m)\n[Context 2]: | Risk Level | Probability | Impact | Mitigation Required |\n|------------|-------------|---------|-------------------|\n| Critical   | High       | Severe  | Immediate action required |\n| High       | Medium     | Major   | Action required within 24 hours |\n| Medium     | Low        | Moderate| Action required within 1 week |\n| Low        | Very Low   | Minor   | Monitor and review monthly |\n[Context 3]: ### 3.1 Routine Maintenance\n- All maintenance SHALL be performed by certified personnel only\n- Use proper lockout/tagout procedures during maintenance\n- Verify all safety systems after maintenance completion\n- Document all maintenance activities in system logs\n\nUser Question: What safety procedures should be followed?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What safety procedures should be followed?', 'context_quality_score': 0.43762456, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924336.012671}', 'reranked_context': '[{"chunk_id": "05087351-5cd1-4d1d-a711-96de15580877", "content": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimum 100m)", "source_document": "Safety Protocols", "similarity_score": 0.45991945, "chunk_metadata": {"chunk_id": "05087351-5cd1-4d1d-a711-96de15580877", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 51, "text": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimum 100m)", "content_preview": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimu...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "f7aea19c-4627-4849-bdea-f5668600f5fb", "content": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | Medium     | Major   | Action required within 24 hours |\\n| Medium     | Low        | Moderate| Action required within 1 week |\\n| Low        | Very Low   | Minor   | Monitor and review monthly |", "source_document": "Safety Protocols", "similarity_score": 0.45425004, "chunk_metadata": {"chunk_id": "f7aea19c-4627-4849-bdea-f5668600f5fb", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 10, "token_count": 98, "text": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | Medium     | Major   | Action required within 24 hours |\\n| Medium     | Low        | Moderate| Action required within 1 week |\\n| Low        | Very Low   | Minor   | Monitor and review monthly |", "content_preview": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | ...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "71331fe0-4b92-4e47-90a0-a7708353982d", "content": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance completion\\n- Document all maintenance activities in system logs", "source_document": "Safety Protocols", "similarity_score": 0.4409764, "chunk_metadata": {"chunk_id": "71331fe0-4b92-4e47-90a0-a7708353982d", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 8, "token_count": 65, "text": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance completion\\n- Document all maintenance activities in system logs", "content_preview": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance com...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.43016434, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "content": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "source_document": "Safety Protocols", "similarity_score": 0.40281257, "chunk_metadata": {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 3, "token_count": 55, "text": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "content_preview": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones ...", "source_asset": "Safety Protocols", "document_type": "safety"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What safety procedures should be followed?", "cleaned_query": "What safety procedures should be followed?", "key_terms": ["what", "safety", "procedures", "followed"], "question_intent": ["what"], "query_type": "question", "domain_terms": ["should"], "word_count": 6, "char_count": 42, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924336.012671}, "processing_timestamp": 1756924336.7916093}', 'search_parameters': '{"primary_terms": ["what", "safety", "procedures", "followed"], "secondary_terms": [], "search_boost_terms": ["should"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:32:17,910 - services.external_task_worker - INFO - Successfully completed task 5212d8fe-88f4-11f0-bc34-0242ac160003
2025-09-03 14:32:17,918 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:32:17,918 - services.external_task_worker - INFO - Executing task 5215bf3f-88f4-11f0-bc34-0242ac160003 for topic process-response
2025-09-03 14:32:17,919 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.1 Normal Operations\n- Maintain continuous monitoring of all systems\n- Report position updates every 15 minutes\n- Monitor fuel/power consumption rates\n- Maintain safe separation distances (minimum 100m)\n[Context 2]: | Risk Level | Probability | Impact | Mitigation Required |\n|------------|-------------|---------|-------------------|\n| Critical   | High       | Severe  | Immediate action required |\n| High       | Medium     | Major   | Action required within 24 hours |\n| Medium     | Low        | Moderate| Action required within 1 week |\n| Low        | Very Low   | Minor   | Monitor and review monthly |\n[Context 3]: ### 3.1 Routine Maintenance\n- All maintenance SHALL be performed by certified personnel only\n- Use proper lockout/tagout procedures during maintenance\n- Verify all safety systems after maintenance completion\n- Document all maintenance activities in system logs\n\nUser Question: What safety procedures should be followed?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What safety procedures should be followed?', 'context_quality_score': 0.43762456, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924336.012671}', 'reranked_context': '[{"chunk_id": "05087351-5cd1-4d1d-a711-96de15580877", "content": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimum 100m)", "source_document": "Safety Protocols", "similarity_score": 0.45991945, "chunk_metadata": {"chunk_id": "05087351-5cd1-4d1d-a711-96de15580877", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 51, "text": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimum 100m)", "content_preview": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimu...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "f7aea19c-4627-4849-bdea-f5668600f5fb", "content": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | Medium     | Major   | Action required within 24 hours |\\n| Medium     | Low        | Moderate| Action required within 1 week |\\n| Low        | Very Low   | Minor   | Monitor and review monthly |", "source_document": "Safety Protocols", "similarity_score": 0.45425004, "chunk_metadata": {"chunk_id": "f7aea19c-4627-4849-bdea-f5668600f5fb", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 10, "token_count": 98, "text": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | Medium     | Major   | Action required within 24 hours |\\n| Medium     | Low        | Moderate| Action required within 1 week |\\n| Low        | Very Low   | Minor   | Monitor and review monthly |", "content_preview": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | ...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "71331fe0-4b92-4e47-90a0-a7708353982d", "content": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance completion\\n- Document all maintenance activities in system logs", "source_document": "Safety Protocols", "similarity_score": 0.4409764, "chunk_metadata": {"chunk_id": "71331fe0-4b92-4e47-90a0-a7708353982d", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 8, "token_count": 65, "text": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance completion\\n- Document all maintenance activities in system logs", "content_preview": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance com...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.43016434, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "content": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "source_document": "Safety Protocols", "similarity_score": 0.40281257, "chunk_metadata": {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 3, "token_count": 55, "text": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "content_preview": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones ...", "source_asset": "Safety Protocols", "document_type": "safety"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What safety procedures should be followed?", "cleaned_query": "What safety procedures should be followed?", "key_terms": ["what", "safety", "procedures", "followed"], "question_intent": ["what"], "query_type": "question", "domain_terms": ["should"], "word_count": 6, "char_count": 42, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924336.012671}, "processing_timestamp": 1756924336.7916093}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 2.1 Normal Operations\n- Maintain continuous monitoring of all systems\n- Report position updates every 15 minutes\n- Monitor fuel/power consumption rates\n- Maintain safe separation distances (minimum 100m)\n[Context 2]: | Risk Level | Probability | Impact | Mitigation Required |\n|------------|-------------|---------|-------------------|\n| Critical   | High       | Severe  | Immediate action required |\n| High       | Medium     | Major   | Action required within 24 hours |\n| Medium     | Low        | Moderate| Action required within 1 week |\n| Low        | Very Low   | Minor   | Monitor and review monthly |\n[Context 3]: ### 3.1 Routine Maintenance\n- All maintenance SHALL be performed by certified personnel only\n- Use proper lockout/tagout procedures during maintenance\n- Verify all safety systems after maintenance completion\n- Document all maintenance activities in system logs\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["what", "safety", "procedures", "followed"], "secondary_terms": [], "search_boost_terms": ["should"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:32:17,930 - services.external_task_worker - INFO - Successfully completed task 5215bf3f-88f4-11f0-bc34-0242ac160003
2025-09-03 14:32:17,939 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:32:17,939 - services.external_task_worker - INFO - Executing task 5218f3a5-88f4-11f0-bc34-0242ac160003 for topic log-interaction
2025-09-03 14:32:17,940 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 2.1 Normal Operations\n- Maintain continuous monitoring of all systems\n- Report position updates every 15 minutes\n- Monitor fuel/power consumption rates\n- Maintain safe separation distances (minimum 100m)\n[Context 2]: | Risk Level | Probability | Impact | Mitigation Required |\n|------------|-------------|---------|-------------------|\n| Critical   | High       | Severe  | Immediate action required |\n| High       | Medium     | Major   | Action required within 24 hours |\n| Medium     | Low        | Moderate| Action required within 1 week |\n| Low        | Very Low   | Minor   | Monitor and review monthly |\n[Context 3]: ### 3.1 Routine Maintenance\n- All maintenance SHALL be performed by certified personnel only\n- Use proper lockout/tagout procedures during maintenance\n- Verify all safety systems after maintenance completion\n- Document all maintenance activities in system logs\n\nUser Question: What safety procedures should be followed?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What safety procedures should be followed?', 'context_quality_score': 0.43762456, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924336.012671}', 'reranked_context': '[{"chunk_id": "05087351-5cd1-4d1d-a711-96de15580877", "content": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimum 100m)", "source_document": "Safety Protocols", "similarity_score": 0.45991945, "chunk_metadata": {"chunk_id": "05087351-5cd1-4d1d-a711-96de15580877", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 4, "token_count": 51, "text": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimum 100m)", "content_preview": "### 2.1 Normal Operations\\n- Maintain continuous monitoring of all systems\\n- Report position updates every 15 minutes\\n- Monitor fuel/power consumption rates\\n- Maintain safe separation distances (minimu...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "f7aea19c-4627-4849-bdea-f5668600f5fb", "content": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | Medium     | Major   | Action required within 24 hours |\\n| Medium     | Low        | Moderate| Action required within 1 week |\\n| Low        | Very Low   | Minor   | Monitor and review monthly |", "source_document": "Safety Protocols", "similarity_score": 0.45425004, "chunk_metadata": {"chunk_id": "f7aea19c-4627-4849-bdea-f5668600f5fb", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 10, "token_count": 98, "text": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | Medium     | Major   | Action required within 24 hours |\\n| Medium     | Low        | Moderate| Action required within 1 week |\\n| Low        | Very Low   | Minor   | Monitor and review monthly |", "content_preview": "| Risk Level | Probability | Impact | Mitigation Required |\\n|------------|-------------|---------|-------------------|\\n| Critical   | High       | Severe  | Immediate action required |\\n| High       | ...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "71331fe0-4b92-4e47-90a0-a7708353982d", "content": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance completion\\n- Document all maintenance activities in system logs", "source_document": "Safety Protocols", "similarity_score": 0.4409764, "chunk_metadata": {"chunk_id": "71331fe0-4b92-4e47-90a0-a7708353982d", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 8, "token_count": 65, "text": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance completion\\n- Document all maintenance activities in system logs", "content_preview": "### 3.1 Routine Maintenance\\n- All maintenance SHALL be performed by certified personnel only\\n- Use proper lockout/tagout procedures during maintenance\\n- Verify all safety systems after maintenance com...", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "content": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_document": "Safety Protocols", "similarity_score": 0.43016434, "chunk_metadata": {"chunk_id": "c94c027a-f2f4-466b-b6d0-ebfce4d8aca0", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "text", "sequence_number": 1, "token_count": 43, "text": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "content_preview": "2. **Navigation Equipment Check**\\n   - Confirm GPS signal lock (minimum 4 satellites)\\n   - Verify compass calibration within \\u00b11 degree\\n   - Test emergency beacon functionality", "source_asset": "Safety Protocols", "document_type": "safety"}}, {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "content": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "source_document": "Safety Protocols", "similarity_score": 0.40281257, "chunk_metadata": {"chunk_id": "8109c50e-4c68-4f27-923f-c5546af37834", "asset_id": "8438ceab-ff31-407d-8de0-fd9abffcb723", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 3, "token_count": 55, "text": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones and restricted areas", "content_preview": "### 1.2 Environmental Assessment\\n- Check weather conditions and forecasts\\n- Assess visibility conditions (minimum 500m required)\\n- Verify operational area is clear of obstacles\\n- Confirm no-fly zones ...", "source_asset": "Safety Protocols", "document_type": "safety"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 2.1 Normal Operations\n- Maintain continuous monitoring of all systems\n- Report position updates every 15 minutes\n- Monitor fuel/power consumption rates\n- Maintain safe separation distances (minimum 100m)\n[Context 2]: | Risk Level | Probability | Impact | Mitigation Required |\n|------------|-------------|---------|-------------------|\n| Critical   | High       | Severe  | Immediate action required |\n| High       | Medium     | Major   | Action required within 24 hours |\n| Medium     | Low        | Moderate| Action required within 1 week |\n| Low        | Very Low   | Minor   | Monitor and review monthly |\n[Context 3]: ### 3.1 Routine Maintenance\n- All maintenance SHALL be performed by certified personnel only\n- Use proper lockout/tagout procedures during maintenance\n- Verify all safety systems after maintenance completion\n- Document all maintenance activities in system logs\n\nThis response is based on the relevant documentation found in your knowledge assets.\n\nSources:\n[1] Safety Protocols\n[2] Safety Protocols\n[3] Safety Protocols\n', 'processed_query': '{"original_query": "What safety procedures should be followed?", "cleaned_query": "What safety procedures should be followed?", "key_terms": ["what", "safety", "procedures", "followed"], "question_intent": ["what"], "query_type": "question", "domain_terms": ["should"], "word_count": 6, "char_count": 42, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924336.012671}, "processing_timestamp": 1756924336.7916093}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 2.1 Normal Operations\n- Maintain continuous monitoring of all systems\n- Report position updates every 15 minutes\n- Monitor fuel/power consumption rates\n- Maintain safe separation distances (minimum 100m)\n[Context 2]: | Risk Level | Probability | Impact | Mitigation Required |\n|------------|-------------|---------|-------------------|\n| Critical   | High       | Severe  | Immediate action required |\n| High       | Medium     | Major   | Action required within 24 hours |\n| Medium     | Low        | Moderate| Action required within 1 week |\n| Low        | Very Low   | Minor   | Monitor and review monthly |\n[Context 3]: ### 3.1 Routine Maintenance\n- All maintenance SHALL be performed by certified personnel only\n- Use proper lockout/tagout procedures during maintenance\n- Verify all safety systems after maintenance completion\n- Document all maintenance activities in system logs\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["what", "safety", "procedures", "followed"], "secondary_terms": [], "search_boost_terms": ["should"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:32:17,956 - services.external_task_worker - INFO - Successfully completed task 5218f3a5-88f4-11f0-bc34-0242ac160003
2025-09-03 14:32:21,996 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:32:21,997 - services.external_task_worker - INFO - Executing task 544570af-88f4-11f0-bc34-0242ac160003 for topic process-user-query
2025-09-03 14:32:21,997 - services.external_task_worker - INFO - Task variables: {'user_query': 'For Hardware Components what is our memory requirements', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924341.5489018}'}
2025-09-03 14:32:22,005 - services.external_task_worker - INFO - Successfully completed task 544570af-88f4-11f0-bc34-0242ac160003
2025-09-03 14:32:22,013 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:32:22,013 - services.external_task_worker - INFO - Executing task 5486e69a-88f4-11f0-bc34-0242ac160003 for topic retrieve-context
2025-09-03 14:32:22,013 - services.external_task_worker - INFO - Task variables: {'user_query': 'For Hardware Components what is our memory requirements', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924341.5489018}', 'processed_query': '{"original_query": "For Hardware Components what is our memory requirements", "cleaned_query": "For Hardware Components what is our memory requirements", "key_terms": ["hardware", "components", "what", "our", "memory", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements"], "word_count": 8, "char_count": 55, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924341.5489018}, "processing_timestamp": 1756924341.997272}', 'search_parameters': '{"primary_terms": ["hardware", "components", "what", "our", "memory"], "secondary_terms": ["requirements"], "search_boost_terms": ["requirements"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:32:22,016 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-03 14:32:22,065 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-03 14:32:22,070 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-03 14:32:22,071 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-03 14:32:22,087 - services.embedding_service - INFO - Embedding service initialized
2025-09-03 14:32:22,088 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-03 14:32:22,088 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cuda:0
2025-09-03 14:32:22,088 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-03 14:32:23,012 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-03 14:32:23,020 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-03 14:32:23,028 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-03 14:32:23,029 - services.qdrant_service - INFO - Found 2 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-03 14:32:23,029 - services.qdrant_service - INFO - Found 2 similar chunks for query: 'For Hardware Components what is our memory require...'
2025-09-03 14:32:23,052 - services.external_task_worker - INFO - Successfully completed task 5486e69a-88f4-11f0-bc34-0242ac160003
2025-09-03 14:32:23,061 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:32:23,061 - services.external_task_worker - INFO - Executing task 5526d02e-88f4-11f0-bc34-0242ac160003 for topic rerank-context
2025-09-03 14:32:23,061 - services.external_task_worker - INFO - Task variables: {'user_query': 'For Hardware Components what is our memory requirements', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924341.5489018}', 'retrieved_chunks': '[{"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.54837537, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "content": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "source_document": "Technical Specifications", "similarity_score": 0.4863008, "chunk_metadata": {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 6, "token_count": 74, "text": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "content_preview": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write ...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'processed_query': '{"original_query": "For Hardware Components what is our memory requirements", "cleaned_query": "For Hardware Components what is our memory requirements", "key_terms": ["hardware", "components", "what", "our", "memory", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements"], "word_count": 8, "char_count": 55, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924341.5489018}, "processing_timestamp": 1756924341.997272}', 'search_parameters': '{"primary_terms": ["hardware", "components", "what", "our", "memory"], "secondary_terms": ["requirements"], "search_boost_terms": ["requirements"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:32:23,068 - services.external_task_worker - INFO - Successfully completed task 5526d02e-88f4-11f0-bc34-0242ac160003
2025-09-03 14:32:23,077 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:32:23,077 - services.external_task_worker - INFO - Executing task 55294145-88f4-11f0-bc34-0242ac160003 for topic fallback-search
2025-09-03 14:32:23,077 - services.external_task_worker - INFO - Task variables: {'user_query': 'For Hardware Components what is our memory requirements', 'context_quality_score': 0.517338085, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924341.5489018}', 'reranked_context': '[{"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.54837537, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "content": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "source_document": "Technical Specifications", "similarity_score": 0.4863008, "chunk_metadata": {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 6, "token_count": 74, "text": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "content_preview": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write ...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.54837537, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "content": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "source_document": "Technical Specifications", "similarity_score": 0.4863008, "chunk_metadata": {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 6, "token_count": 74, "text": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "content_preview": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write ...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'processed_query': '{"original_query": "For Hardware Components what is our memory requirements", "cleaned_query": "For Hardware Components what is our memory requirements", "key_terms": ["hardware", "components", "what", "our", "memory", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements"], "word_count": 8, "char_count": 55, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924341.5489018}, "processing_timestamp": 1756924341.997272}', 'search_parameters': '{"primary_terms": ["hardware", "components", "what", "our", "memory"], "secondary_terms": ["requirements"], "search_boost_terms": ["requirements"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:32:23,085 - services.external_task_worker - INFO - Successfully completed task 55294145-88f4-11f0-bc34-0242ac160003
2025-09-03 14:32:23,095 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:32:23,095 - services.external_task_worker - INFO - Executing task 552bd96a-88f4-11f0-bc34-0242ac160003 for topic construct-prompt
2025-09-03 14:32:23,095 - services.external_task_worker - INFO - Task variables: {'user_query': 'For Hardware Components what is our memory requirements', 'context_quality_score': 0.517338085, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924341.5489018}', 'reranked_context': '[{"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.54837537, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "content": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "source_document": "Technical Specifications", "similarity_score": 0.4863008, "chunk_metadata": {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 6, "token_count": 74, "text": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "content_preview": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write ...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "For Hardware Components what is our memory requirements", "cleaned_query": "For Hardware Components what is our memory requirements", "key_terms": ["hardware", "components", "what", "our", "memory", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements"], "word_count": 8, "char_count": 55, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924341.5489018}, "processing_timestamp": 1756924341.997272}', 'search_parameters': '{"primary_terms": ["hardware", "components", "what", "our", "memory"], "secondary_terms": ["requirements"], "search_boost_terms": ["requirements"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:32:23,108 - services.external_task_worker - INFO - Successfully completed task 552bd96a-88f4-11f0-bc34-0242ac160003
2025-09-03 14:32:23,116 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:32:23,116 - services.external_task_worker - INFO - Executing task 552f0dcd-88f4-11f0-bc34-0242ac160003 for topic llm-generation
2025-09-03 14:32:23,116 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': 'You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 1.1 Hardware Components\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\n- **Display**: 15.6" 1920x1080 sunlight-readable LCD touchscreen\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)\n[Context 2]: ### 3.1 Processing Performance\n- **CPU Utilization**: Maximum 80% under normal load\n- **Memory Usage**: Maximum 12 GB under normal operations\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications\n\nUser Question: For Hardware Components what is our memory requirements\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn\'t contain enough information to fully answer the question, acknowledge this and provide what information you can.', 'user_query': 'For Hardware Components what is our memory requirements', 'context_quality_score': 0.517338085, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924341.5489018}', 'reranked_context': '[{"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.54837537, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "content": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "source_document": "Technical Specifications", "similarity_score": 0.4863008, "chunk_metadata": {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 6, "token_count": 74, "text": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "content_preview": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write ...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "For Hardware Components what is our memory requirements", "cleaned_query": "For Hardware Components what is our memory requirements", "key_terms": ["hardware", "components", "what", "our", "memory", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements"], "word_count": 8, "char_count": 55, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924341.5489018}, "processing_timestamp": 1756924341.997272}', 'search_parameters': '{"primary_terms": ["hardware", "components", "what", "our", "memory"], "secondary_terms": ["requirements"], "search_boost_terms": ["requirements"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:32:23,125 - services.external_task_worker - INFO - Successfully completed task 552f0dcd-88f4-11f0-bc34-0242ac160003
2025-09-03 14:32:23,133 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:32:23,133 - services.external_task_worker - INFO - Executing task 5531a5ee-88f4-11f0-bc34-0242ac160003 for topic process-response
2025-09-03 14:32:23,133 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': 'You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 1.1 Hardware Components\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\n- **Display**: 15.6" 1920x1080 sunlight-readable LCD touchscreen\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)\n[Context 2]: ### 3.1 Processing Performance\n- **CPU Utilization**: Maximum 80% under normal load\n- **Memory Usage**: Maximum 12 GB under normal operations\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications\n\nUser Question: For Hardware Components what is our memory requirements\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn\'t contain enough information to fully answer the question, acknowledge this and provide what information you can.', 'user_query': 'For Hardware Components what is our memory requirements', 'context_quality_score': 0.517338085, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924341.5489018}', 'reranked_context': '[{"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.54837537, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "content": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "source_document": "Technical Specifications", "similarity_score": 0.4863008, "chunk_metadata": {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 6, "token_count": 74, "text": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "content_preview": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write ...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "For Hardware Components what is our memory requirements", "cleaned_query": "For Hardware Components what is our memory requirements", "key_terms": ["hardware", "components", "what", "our", "memory", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements"], "word_count": 8, "char_count": 55, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924341.5489018}, "processing_timestamp": 1756924341.997272}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 1.1 Hardware Components\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\n- **Display**: 15.6" 1920x1080 sunlight-readable LCD touchscreen\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)\n[Context 2]: ### 3.1 Processing Performance\n- **CPU Utilization**: Maximum 80% under normal load\n- **Memory Usage**: Maximum 12 GB under normal operations\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["hardware", "components", "what", "our", "memory"], "secondary_terms": ["requirements"], "search_boost_terms": ["requirements"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:32:23,144 - services.external_task_worker - INFO - Successfully completed task 5531a5ee-88f4-11f0-bc34-0242ac160003
2025-09-03 14:32:23,151 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:32:23,151 - services.external_task_worker - INFO - Executing task 55346424-88f4-11f0-bc34-0242ac160003 for topic log-interaction
2025-09-03 14:32:23,151 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': 'You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 1.1 Hardware Components\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\n- **Display**: 15.6" 1920x1080 sunlight-readable LCD touchscreen\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)\n[Context 2]: ### 3.1 Processing Performance\n- **CPU Utilization**: Maximum 80% under normal load\n- **Memory Usage**: Maximum 12 GB under normal operations\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications\n\nUser Question: For Hardware Components what is our memory requirements\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn\'t contain enough information to fully answer the question, acknowledge this and provide what information you can.', 'user_query': 'For Hardware Components what is our memory requirements', 'context_quality_score': 0.517338085, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924341.5489018}', 'reranked_context': '[{"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "content": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "source_document": "Technical Specifications", "similarity_score": 0.54837537, "chunk_metadata": {"chunk_id": "2e016433-7dad-45f6-8a50-10ec1c6e92f0", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 0, "token_count": 70, "text": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchscreen\\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)", "content_preview": "### 1.1 Hardware Components\\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\\n- **Display**: 15.6\\" 1920x1080 sunlight-readable LCD touchs...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "content": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "source_document": "Technical Specifications", "similarity_score": 0.4863008, "chunk_metadata": {"chunk_id": "a6be81b6-b407-4314-ba28-5e32cb2f1590", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 6, "token_count": 74, "text": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications", "content_preview": "### 3.1 Processing Performance\\n- **CPU Utilization**: Maximum 80% under normal load\\n- **Memory Usage**: Maximum 12 GB under normal operations\\n- **Storage I/O**: Minimum 500 MB/s sequential read/write ...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 1.1 Hardware Components\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\n- **Display**: 15.6" 1920x1080 sunlight-readable LCD touchscreen\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)\n[Context 2]: ### 3.1 Processing Performance\n- **CPU Utilization**: Maximum 80% under normal load\n- **Memory Usage**: Maximum 12 GB under normal operations\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications\n\nThis response is based on the relevant documentation found in your knowledge assets.\n\nSources:\n[1] Technical Specifications\n[2] Technical Specifications\n', 'processed_query': '{"original_query": "For Hardware Components what is our memory requirements", "cleaned_query": "For Hardware Components what is our memory requirements", "key_terms": ["hardware", "components", "what", "our", "memory", "requirements"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements"], "word_count": 8, "char_count": 55, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924341.5489018}, "processing_timestamp": 1756924341.997272}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 1.1 Hardware Components\n- **Primary Processor**: ARM Cortex-A78 quad-core, 2.5 GHz\n- **Memory**: 16 GB DDR4 RAM, 512 GB NVMe SSD storage\n- **Display**: 15.6" 1920x1080 sunlight-readable LCD touchscreen\n- **GPS Receiver**: Multi-constellation GNSS (GPS, GLONASS, Galileo, BeiDou)\n[Context 2]: ### 3.1 Processing Performance\n- **CPU Utilization**: Maximum 80% under normal load\n- **Memory Usage**: Maximum 12 GB under normal operations\n- **Storage I/O**: Minimum 500 MB/s sequential read/write performance\n- **Network Throughput**: Minimum 10 Mbps data rate for mission-critical applications\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["hardware", "components", "what", "our", "memory"], "secondary_terms": ["requirements"], "search_boost_terms": ["requirements"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:32:23,165 - services.external_task_worker - INFO - Successfully completed task 55346424-88f4-11f0-bc34-0242ac160003
2025-09-03 14:32:28,210 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:32:28,210 - services.external_task_worker - INFO - Executing task 57f8db6e-88f4-11f0-bc34-0242ac160003 for topic process-user-query
2025-09-03 14:32:28,211 - services.external_task_worker - INFO - Task variables: {'user_query': 'What frequency does the Communication Interfaces operate at?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924347.758485}'}
2025-09-03 14:32:28,218 - services.external_task_worker - INFO - Successfully completed task 57f8db6e-88f4-11f0-bc34-0242ac160003
2025-09-03 14:32:28,226 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:32:28,226 - services.external_task_worker - INFO - Executing task 583b14a9-88f4-11f0-bc34-0242ac160003 for topic retrieve-context
2025-09-03 14:32:28,226 - services.external_task_worker - INFO - Task variables: {'user_query': 'What frequency does the Communication Interfaces operate at?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924347.758485}', 'processed_query': '{"original_query": "What frequency does the Communication Interfaces operate at?", "cleaned_query": "What frequency does the Communication Interfaces operate at?", "key_terms": ["what", "frequency", "communication", "interfaces", "operate"], "question_intent": ["what"], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 60, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924347.758485}, "processing_timestamp": 1756924348.2111547}', 'search_parameters': '{"primary_terms": ["what", "frequency", "communication", "interfaces", "operate"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:32:28,228 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-03 14:32:28,275 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-03 14:32:28,280 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-03 14:32:28,280 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-03 14:32:28,297 - services.embedding_service - INFO - Embedding service initialized
2025-09-03 14:32:28,297 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-03 14:32:28,298 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cuda:0
2025-09-03 14:32:28,298 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-03 14:32:29,331 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-03 14:32:29,341 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-03 14:32:29,348 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-03 14:32:29,349 - services.qdrant_service - INFO - Found 2 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-03 14:32:29,349 - services.qdrant_service - INFO - Found 2 similar chunks for query: 'What frequency does the Communication Interfaces o...'
2025-09-03 14:32:29,370 - services.external_task_worker - INFO - Successfully completed task 583b14a9-88f4-11f0-bc34-0242ac160003
2025-09-03 14:32:29,377 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:32:29,377 - services.external_task_worker - INFO - Executing task 58eadcbd-88f4-11f0-bc34-0242ac160003 for topic rerank-context
2025-09-03 14:32:29,377 - services.external_task_worker - INFO - Task variables: {'user_query': 'What frequency does the Communication Interfaces operate at?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924347.758485}', 'retrieved_chunks': '[{"chunk_id": "a5b32041-e552-4e96-b3b4-3dec69c325ae", "content": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface", "source_document": "Technical Specifications", "similarity_score": 0.5399632, "chunk_metadata": {"chunk_id": "a5b32041-e552-4e96-b3b4-3dec69c325ae", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 77, "text": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface", "content_preview": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "content": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "source_document": "Technical Specifications", "similarity_score": 0.433985, "chunk_metadata": {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 7, "token_count": 76, "text": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "content_preview": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'processed_query': '{"original_query": "What frequency does the Communication Interfaces operate at?", "cleaned_query": "What frequency does the Communication Interfaces operate at?", "key_terms": ["what", "frequency", "communication", "interfaces", "operate"], "question_intent": ["what"], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 60, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924347.758485}, "processing_timestamp": 1756924348.2111547}', 'search_parameters': '{"primary_terms": ["what", "frequency", "communication", "interfaces", "operate"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:32:29,384 - services.external_task_worker - INFO - Successfully completed task 58eadcbd-88f4-11f0-bc34-0242ac160003
2025-09-03 14:32:29,392 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:32:29,392 - services.external_task_worker - INFO - Executing task 58ecffb4-88f4-11f0-bc34-0242ac160003 for topic fallback-search
2025-09-03 14:32:29,393 - services.external_task_worker - INFO - Task variables: {'user_query': 'What frequency does the Communication Interfaces operate at?', 'context_quality_score': 0.48697409999999997, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924347.758485}', 'reranked_context': '[{"chunk_id": "a5b32041-e552-4e96-b3b4-3dec69c325ae", "content": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface", "source_document": "Technical Specifications", "similarity_score": 0.5399632, "chunk_metadata": {"chunk_id": "a5b32041-e552-4e96-b3b4-3dec69c325ae", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 77, "text": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface", "content_preview": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "content": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "source_document": "Technical Specifications", "similarity_score": 0.433985, "chunk_metadata": {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 7, "token_count": 76, "text": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "content_preview": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "a5b32041-e552-4e96-b3b4-3dec69c325ae", "content": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface", "source_document": "Technical Specifications", "similarity_score": 0.5399632, "chunk_metadata": {"chunk_id": "a5b32041-e552-4e96-b3b4-3dec69c325ae", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 77, "text": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface", "content_preview": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "content": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "source_document": "Technical Specifications", "similarity_score": 0.433985, "chunk_metadata": {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 7, "token_count": 76, "text": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "content_preview": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'processed_query': '{"original_query": "What frequency does the Communication Interfaces operate at?", "cleaned_query": "What frequency does the Communication Interfaces operate at?", "key_terms": ["what", "frequency", "communication", "interfaces", "operate"], "question_intent": ["what"], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 60, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924347.758485}, "processing_timestamp": 1756924348.2111547}', 'search_parameters': '{"primary_terms": ["what", "frequency", "communication", "interfaces", "operate"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:32:29,399 - services.external_task_worker - INFO - Successfully completed task 58ecffb4-88f4-11f0-bc34-0242ac160003
2025-09-03 14:32:29,407 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:32:29,407 - services.external_task_worker - INFO - Executing task 58ef49b9-88f4-11f0-bc34-0242ac160003 for topic construct-prompt
2025-09-03 14:32:29,407 - services.external_task_worker - INFO - Task variables: {'user_query': 'What frequency does the Communication Interfaces operate at?', 'context_quality_score': 0.48697409999999997, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924347.758485}', 'reranked_context': '[{"chunk_id": "a5b32041-e552-4e96-b3b4-3dec69c325ae", "content": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface", "source_document": "Technical Specifications", "similarity_score": 0.5399632, "chunk_metadata": {"chunk_id": "a5b32041-e552-4e96-b3b4-3dec69c325ae", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 77, "text": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface", "content_preview": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "content": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "source_document": "Technical Specifications", "similarity_score": 0.433985, "chunk_metadata": {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 7, "token_count": 76, "text": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "content_preview": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What frequency does the Communication Interfaces operate at?", "cleaned_query": "What frequency does the Communication Interfaces operate at?", "key_terms": ["what", "frequency", "communication", "interfaces", "operate"], "question_intent": ["what"], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 60, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924347.758485}, "processing_timestamp": 1756924348.2111547}', 'search_parameters': '{"primary_terms": ["what", "frequency", "communication", "interfaces", "operate"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:32:29,415 - services.external_task_worker - INFO - Successfully completed task 58ef49b9-88f4-11f0-bc34-0242ac160003
2025-09-03 14:32:29,425 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:32:29,425 - services.external_task_worker - INFO - Executing task 58f1bacc-88f4-11f0-bc34-0242ac160003 for topic llm-generation
2025-09-03 14:32:29,425 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 1.2 Communication Interfaces\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\n- **Data Link**: 4G LTE cellular modem with failover to satellite\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface\n[Context 2]: ### 3.2 Real-time Requirements\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\n- **Command Response Time**: Maximum 100ms for user interface interactions\n- **Emergency Response**: Maximum 50ms for safety-critical alerts\n\nUser Question: What frequency does the Communication Interfaces operate at?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What frequency does the Communication Interfaces operate at?', 'context_quality_score': 0.48697409999999997, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924347.758485}', 'reranked_context': '[{"chunk_id": "a5b32041-e552-4e96-b3b4-3dec69c325ae", "content": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface", "source_document": "Technical Specifications", "similarity_score": 0.5399632, "chunk_metadata": {"chunk_id": "a5b32041-e552-4e96-b3b4-3dec69c325ae", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 77, "text": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface", "content_preview": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "content": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "source_document": "Technical Specifications", "similarity_score": 0.433985, "chunk_metadata": {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 7, "token_count": 76, "text": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "content_preview": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What frequency does the Communication Interfaces operate at?", "cleaned_query": "What frequency does the Communication Interfaces operate at?", "key_terms": ["what", "frequency", "communication", "interfaces", "operate"], "question_intent": ["what"], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 60, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924347.758485}, "processing_timestamp": 1756924348.2111547}', 'search_parameters': '{"primary_terms": ["what", "frequency", "communication", "interfaces", "operate"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:32:29,433 - services.external_task_worker - INFO - Successfully completed task 58f1bacc-88f4-11f0-bc34-0242ac160003
2025-09-03 14:32:29,440 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:32:29,441 - services.external_task_worker - INFO - Executing task 58f479fd-88f4-11f0-bc34-0242ac160003 for topic process-response
2025-09-03 14:32:29,441 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 1.2 Communication Interfaces\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\n- **Data Link**: 4G LTE cellular modem with failover to satellite\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface\n[Context 2]: ### 3.2 Real-time Requirements\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\n- **Command Response Time**: Maximum 100ms for user interface interactions\n- **Emergency Response**: Maximum 50ms for safety-critical alerts\n\nUser Question: What frequency does the Communication Interfaces operate at?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What frequency does the Communication Interfaces operate at?', 'context_quality_score': 0.48697409999999997, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924347.758485}', 'reranked_context': '[{"chunk_id": "a5b32041-e552-4e96-b3b4-3dec69c325ae", "content": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface", "source_document": "Technical Specifications", "similarity_score": 0.5399632, "chunk_metadata": {"chunk_id": "a5b32041-e552-4e96-b3b4-3dec69c325ae", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 77, "text": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface", "content_preview": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "content": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "source_document": "Technical Specifications", "similarity_score": 0.433985, "chunk_metadata": {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 7, "token_count": 76, "text": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "content_preview": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What frequency does the Communication Interfaces operate at?", "cleaned_query": "What frequency does the Communication Interfaces operate at?", "key_terms": ["what", "frequency", "communication", "interfaces", "operate"], "question_intent": ["what"], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 60, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924347.758485}, "processing_timestamp": 1756924348.2111547}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 1.2 Communication Interfaces\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\n- **Data Link**: 4G LTE cellular modem with failover to satellite\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface\n[Context 2]: ### 3.2 Real-time Requirements\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\n- **Command Response Time**: Maximum 100ms for user interface interactions\n- **Emergency Response**: Maximum 50ms for safety-critical alerts\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["what", "frequency", "communication", "interfaces", "operate"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:32:29,450 - services.external_task_worker - INFO - Successfully completed task 58f479fd-88f4-11f0-bc34-0242ac160003
2025-09-03 14:32:29,458 - services.external_task_worker - INFO - Received 1 tasks
2025-09-03 14:32:29,458 - services.external_task_worker - INFO - Executing task 58f6eb13-88f4-11f0-bc34-0242ac160003 for topic log-interaction
2025-09-03 14:32:29,458 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### 1.2 Communication Interfaces\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\n- **Data Link**: 4G LTE cellular modem with failover to satellite\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface\n[Context 2]: ### 3.2 Real-time Requirements\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\n- **Command Response Time**: Maximum 100ms for user interface interactions\n- **Emergency Response**: Maximum 50ms for safety-critical alerts\n\nUser Question: What frequency does the Communication Interfaces operate at?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What frequency does the Communication Interfaces operate at?', 'context_quality_score': 0.48697409999999997, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924347.758485}', 'reranked_context': '[{"chunk_id": "a5b32041-e552-4e96-b3b4-3dec69c325ae", "content": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface", "source_document": "Technical Specifications", "similarity_score": 0.5399632, "chunk_metadata": {"chunk_id": "a5b32041-e552-4e96-b3b4-3dec69c325ae", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 1, "token_count": 77, "text": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface", "content_preview": "### 1.2 Communication Interfaces\\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\\n- **Data Link**: 4G LTE cellular modem with failover to satellite\\n- **Local Connectivity**: Wi-Fi...", "source_asset": "Technical Specifications", "document_type": "specifications"}}, {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "content": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "source_document": "Technical Specifications", "similarity_score": 0.433985, "chunk_metadata": {"chunk_id": "8b062bc4-53c7-4e85-85ec-b46677359d25", "asset_id": "263d04d5-d3ee-41de-936a-ceb77078d279", "project_id": "8e929f77-e7d0-48ad-9da3-6a4e392c49f3", "chunk_type": "title", "sequence_number": 7, "token_count": 76, "text": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum 100ms for user interface interactions\\n- **Emergency Response**: Maximum 50ms for safety-critical alerts", "content_preview": "### 3.2 Real-time Requirements\\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\\n- **Command Response Time**: Maximum...", "source_asset": "Technical Specifications", "document_type": "specifications"}}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 1.2 Communication Interfaces\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\n- **Data Link**: 4G LTE cellular modem with failover to satellite\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface\n[Context 2]: ### 3.2 Real-time Requirements\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\n- **Command Response Time**: Maximum 100ms for user interface interactions\n- **Emergency Response**: Maximum 50ms for safety-critical alerts\n\nThis response is based on the relevant documentation found in your knowledge assets.\n\nSources:\n[1] Technical Specifications\n[2] Technical Specifications\n', 'processed_query': '{"original_query": "What frequency does the Communication Interfaces operate at?", "cleaned_query": "What frequency does the Communication Interfaces operate at?", "key_terms": ["what", "frequency", "communication", "interfaces", "operate"], "question_intent": ["what"], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 60, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.3, "timestamp": 1756924347.758485}, "processing_timestamp": 1756924348.2111547}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### 1.2 Communication Interfaces\n- **Radio**: VHF/UHF dual-band transceiver, 136-174 MHz / 400-520 MHz\n- **Data Link**: 4G LTE cellular modem with failover to satellite\n- **Local Connectivity**: Wi-Fi 802.11ac, Bluetooth 5.2, Ethernet 1000BASE-T\n- **Serial Interfaces**: 4x RS-232, 2x RS-485, CAN bus interface\n[Context 2]: ### 3.2 Real-time Requirements\n- **Position Update Rate**: 10 Hz minimum, 50 Hz preferred\n- **Sensor Data Processing**: Maximum 20ms latency from sensor to display\n- **Command Response Time**: Maximum 100ms for user interface interactions\n- **Emergency Response**: Maximum 50ms for safety-critical alerts\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["what", "frequency", "communication", "interfaces", "operate"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-03 14:32:29,475 - services.external_task_worker - INFO - Successfully completed task 58f6eb13-88f4-11f0-bc34-0242ac160003
2025-09-03 14:32:29,823 - __main__ - INFO - Received signal 15, shutting down worker...
2025-09-11 14:40:44,933 - services.external_task_worker - INFO - Starting external task worker: odras-worker-1757616044
2025-09-11 14:40:44,947 - services.external_task_worker - INFO - Received 10 tasks
2025-09-11 14:40:44,947 - services.external_task_worker - INFO - Executing task 88f77680-8da3-11f0-865f-0242ac190004 for topic process-user-query
2025-09-11 14:40:44,947 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439396.5350666}'}
2025-09-11 14:40:44,966 - services.external_task_worker - INFO - Successfully completed task 88f77680-8da3-11f0-865f-0242ac190004
2025-09-11 14:40:44,967 - services.external_task_worker - INFO - Executing task 8903ab8a-8da3-11f0-865f-0242ac190004 for topic process-user-query
2025-09-11 14:40:44,967 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439396.6131601}'}
2025-09-11 14:40:44,975 - services.external_task_worker - INFO - Successfully completed task 8903ab8a-8da3-11f0-865f-0242ac190004
2025-09-11 14:40:44,975 - services.external_task_worker - INFO - Executing task 8bf5fb18-8da1-11f0-865f-0242ac190004 for topic process-user-query
2025-09-11 14:40:44,975 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438542.5628638}'}
2025-09-11 14:40:44,983 - services.external_task_worker - INFO - Successfully completed task 8bf5fb18-8da1-11f0-865f-0242ac190004
2025-09-11 14:40:44,983 - services.external_task_worker - INFO - Executing task 8c071222-8da1-11f0-865f-0242ac190004 for topic process-user-query
2025-09-11 14:40:44,983 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438542.6770434}'}
2025-09-11 14:40:44,994 - services.external_task_worker - INFO - Successfully completed task 8c071222-8da1-11f0-865f-0242ac190004
2025-09-11 14:40:44,994 - services.external_task_worker - INFO - Executing task 8d212a04-8da0-11f0-865f-0242ac190004 for topic process-user-query
2025-09-11 14:40:44,994 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438114.8747964}'}
2025-09-11 14:40:45,002 - services.external_task_worker - INFO - Successfully completed task 8d212a04-8da0-11f0-865f-0242ac190004
2025-09-11 14:40:45,002 - services.external_task_worker - INFO - Executing task 8d31cbde-8da0-11f0-865f-0242ac190004 for topic process-user-query
2025-09-11 14:40:45,002 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438115.135196}'}
2025-09-11 14:40:45,009 - services.external_task_worker - INFO - Successfully completed task 8d31cbde-8da0-11f0-865f-0242ac190004
2025-09-11 14:40:45,009 - services.external_task_worker - INFO - Executing task cf1b76fc-8da1-11f0-865f-0242ac190004 for topic process-user-query
2025-09-11 14:40:45,009 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438655.2122426}'}
2025-09-11 14:40:45,023 - services.external_task_worker - INFO - Successfully completed task cf1b76fc-8da1-11f0-865f-0242ac190004
2025-09-11 14:40:45,023 - services.external_task_worker - INFO - Executing task cf2d9f76-8da1-11f0-865f-0242ac190004 for topic process-user-query
2025-09-11 14:40:45,023 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438655.3313105}'}
2025-09-11 14:40:45,033 - services.external_task_worker - INFO - Successfully completed task cf2d9f76-8da1-11f0-865f-0242ac190004
2025-09-11 14:40:45,034 - services.external_task_worker - INFO - Executing task e886c50c-8da2-11f0-865f-0242ac190004 for topic process-user-query
2025-09-11 14:40:45,034 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439127.3595438}'}
2025-09-11 14:40:45,046 - services.external_task_worker - INFO - Successfully completed task e886c50c-8da2-11f0-865f-0242ac190004
2025-09-11 14:40:45,046 - services.external_task_worker - INFO - Executing task e893bd66-8da2-11f0-865f-0242ac190004 for topic process-user-query
2025-09-11 14:40:45,046 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439127.44434}'}
2025-09-11 14:40:45,058 - services.external_task_worker - INFO - Successfully completed task e893bd66-8da2-11f0-865f-0242ac190004
2025-09-11 14:40:45,070 - services.external_task_worker - INFO - Received 10 tasks
2025-09-11 14:40:45,070 - services.external_task_worker - INFO - Executing task 272d0504-8da4-11f0-865f-0242ac190004 for topic process-user-query
2025-09-11 14:40:45,070 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439661.9648414}'}
2025-09-11 14:40:45,080 - services.external_task_worker - INFO - Successfully completed task 272d0504-8da4-11f0-865f-0242ac190004
2025-09-11 14:40:45,080 - services.external_task_worker - INFO - Executing task 2739af3e-8da4-11f0-865f-0242ac190004 for topic process-user-query
2025-09-11 14:40:45,080 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439662.0506544}'}
2025-09-11 14:40:45,088 - services.external_task_worker - INFO - Successfully completed task 2739af3e-8da4-11f0-865f-0242ac190004
2025-09-11 14:40:45,088 - services.external_task_worker - INFO - Executing task 312b1640-8da6-11f0-865f-0242ac190004 for topic process-user-query
2025-09-11 14:40:45,088 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440537.7259877}'}
2025-09-11 14:40:45,096 - services.external_task_worker - INFO - Successfully completed task 312b1640-8da6-11f0-865f-0242ac190004
2025-09-11 14:40:45,096 - services.external_task_worker - INFO - Executing task 3136fc2a-8da6-11f0-865f-0242ac190004 for topic process-user-query
2025-09-11 14:40:45,096 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440537.8040097}'}
2025-09-11 14:40:45,103 - services.external_task_worker - INFO - Successfully completed task 3136fc2a-8da6-11f0-865f-0242ac190004
2025-09-11 14:40:45,104 - services.external_task_worker - INFO - Executing task 4b356a68-8da4-11f0-865f-0242ac190004 for topic process-user-query
2025-09-11 14:40:45,104 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439722.4209926}'}
2025-09-11 14:40:45,110 - services.external_task_worker - INFO - Successfully completed task 4b356a68-8da4-11f0-865f-0242ac190004
2025-09-11 14:40:45,111 - services.external_task_worker - INFO - Executing task 4b415152-8da4-11f0-865f-0242ac190004 for topic process-user-query
2025-09-11 14:40:45,111 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439722.4996202}'}
2025-09-11 14:40:45,120 - services.external_task_worker - INFO - Successfully completed task 4b415152-8da4-11f0-865f-0242ac190004
2025-09-11 14:40:45,121 - services.external_task_worker - INFO - Executing task c861d478-8da5-11f0-865f-0242ac190004 for topic process-user-query
2025-09-11 14:40:45,121 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440361.9232898}'}
2025-09-11 14:40:45,131 - services.external_task_worker - INFO - Successfully completed task c861d478-8da5-11f0-865f-0242ac190004
2025-09-11 14:40:45,131 - services.external_task_worker - INFO - Executing task c86de272-8da5-11f0-865f-0242ac190004 for topic process-user-query
2025-09-11 14:40:45,131 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440362.0003414}'}
2025-09-11 14:40:45,140 - services.external_task_worker - INFO - Successfully completed task c86de272-8da5-11f0-865f-0242ac190004
2025-09-11 14:40:45,140 - services.external_task_worker - INFO - Executing task efe7eeec-8da5-11f0-865f-0242ac190004 for topic process-user-query
2025-09-11 14:40:45,140 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440428.2324214}'}
2025-09-11 14:40:45,149 - services.external_task_worker - INFO - Successfully completed task efe7eeec-8da5-11f0-865f-0242ac190004
2025-09-11 14:40:45,149 - services.external_task_worker - INFO - Executing task eff360a6-8da5-11f0-865f-0242ac190004 for topic process-user-query
2025-09-11 14:40:45,149 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440428.3096018}'}
2025-09-11 14:40:45,159 - services.external_task_worker - INFO - Successfully completed task eff360a6-8da5-11f0-865f-0242ac190004
2025-09-11 14:40:45,169 - services.external_task_worker - INFO - Received 10 tasks
2025-09-11 14:40:45,169 - services.external_task_worker - INFO - Executing task 23f5bfd8-8daa-11f0-865f-0242ac190004 for topic process-user-query
2025-09-11 14:40:45,169 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442233.5500994}'}
2025-09-11 14:40:45,178 - services.external_task_worker - INFO - Successfully completed task 23f5bfd8-8daa-11f0-865f-0242ac190004
2025-09-11 14:40:45,178 - services.external_task_worker - INFO - Executing task 24017fb2-8daa-11f0-865f-0242ac190004 for topic process-user-query
2025-09-11 14:40:45,178 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442233.6298678}'}
2025-09-11 14:40:45,188 - services.external_task_worker - INFO - Successfully completed task 24017fb2-8daa-11f0-865f-0242ac190004
2025-09-11 14:40:45,188 - services.external_task_worker - INFO - Executing task 6946f55c-8daa-11f0-865f-0242ac190004 for topic process-user-query
2025-09-11 14:40:45,188 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442349.8473067}'}
2025-09-11 14:40:45,199 - services.external_task_worker - INFO - Successfully completed task 6946f55c-8daa-11f0-865f-0242ac190004
2025-09-11 14:40:45,199 - services.external_task_worker - INFO - Executing task 69539f96-8daa-11f0-865f-0242ac190004 for topic process-user-query
2025-09-11 14:40:45,199 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442349.9253445}'}
2025-09-11 14:40:45,208 - services.external_task_worker - INFO - Successfully completed task 69539f96-8daa-11f0-865f-0242ac190004
2025-09-11 14:40:45,208 - services.external_task_worker - INFO - Executing task 80382d40-8da9-11f0-865f-0242ac190004 for topic process-user-query
2025-09-11 14:40:45,208 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441958.8406787}'}
2025-09-11 14:40:45,216 - services.external_task_worker - INFO - Successfully completed task 80382d40-8da9-11f0-865f-0242ac190004
2025-09-11 14:40:45,216 - services.external_task_worker - INFO - Executing task 8043ed1a-8da9-11f0-865f-0242ac190004 for topic process-user-query
2025-09-11 14:40:45,216 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441958.918532}'}
2025-09-11 14:40:45,227 - services.external_task_worker - INFO - Successfully completed task 8043ed1a-8da9-11f0-865f-0242ac190004
2025-09-11 14:40:45,227 - services.external_task_worker - INFO - Executing task 9033e400-8da7-11f0-865f-0242ac190004 for topic process-user-query
2025-09-11 14:40:45,227 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441126.6643121}'}
2025-09-11 14:40:45,236 - services.external_task_worker - INFO - Successfully completed task 9033e400-8da7-11f0-865f-0242ac190004
2025-09-11 14:40:45,237 - services.external_task_worker - INFO - Executing task 903f2eaa-8da7-11f0-865f-0242ac190004 for topic process-user-query
2025-09-11 14:40:45,237 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441126.7384248}'}
2025-09-11 14:40:45,245 - services.external_task_worker - INFO - Successfully completed task 903f2eaa-8da7-11f0-865f-0242ac190004
2025-09-11 14:40:45,246 - services.external_task_worker - INFO - Executing task 92544144-8da9-11f0-865f-0242ac190004 for topic process-user-query
2025-09-11 14:40:45,246 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441989.2245476}'}
2025-09-11 14:40:45,256 - services.external_task_worker - INFO - Successfully completed task 92544144-8da9-11f0-865f-0242ac190004
2025-09-11 14:40:45,256 - services.external_task_worker - INFO - Executing task 9260764e-8da9-11f0-865f-0242ac190004 for topic process-user-query
2025-09-11 14:40:45,256 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441989.3015547}'}
2025-09-11 14:40:45,265 - services.external_task_worker - INFO - Successfully completed task 9260764e-8da9-11f0-865f-0242ac190004
2025-09-11 14:40:45,280 - services.external_task_worker - INFO - Received 10 tasks
2025-09-11 14:40:45,281 - services.external_task_worker - INFO - Executing task 08db9dd5-8f3e-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 14:40:45,281 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757615704.6510375, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 14:40:45,292 - services.external_task_worker - INFO - Successfully completed task 08db9dd5-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:45,293 - services.external_task_worker - INFO - Executing task 0ae48e26-8dab-11f0-865f-0242ac190004 for topic process-user-query
2025-09-11 14:40:45,293 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442620.9949272}'}
2025-09-11 14:40:45,304 - services.external_task_worker - INFO - Successfully completed task 0ae48e26-8dab-11f0-865f-0242ac190004
2025-09-11 14:40:45,304 - services.external_task_worker - INFO - Executing task 0aefb1c0-8dab-11f0-865f-0242ac190004 for topic process-user-query
2025-09-11 14:40:45,304 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442621.069154}'}
2025-09-11 14:40:45,317 - services.external_task_worker - INFO - Successfully completed task 0aefb1c0-8dab-11f0-865f-0242ac190004
2025-09-11 14:40:45,317 - services.external_task_worker - INFO - Executing task 2cf3e1af-8f3e-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 14:40:45,317 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757615765.3192582, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 14:40:45,329 - services.external_task_worker - INFO - Successfully completed task 2cf3e1af-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:45,330 - services.external_task_worker - INFO - Executing task d39e820a-8f3e-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 14:40:45,330 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439396.5350666}', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439396.5350666}, "processing_timestamp": 1757616044.9476323}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:45,346 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 14:40:45,449 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 14:40:45,454 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 14:40:45,455 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 14:40:45,469 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 14:40:45,469 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 14:40:45,471 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 14:40:45,471 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 14:40:46,887 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 14:40:46,975 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 14:40:46,985 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 14:40:46,987 - services.qdrant_service - INFO - Found 0 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-11 14:40:46,987 - services.qdrant_service - INFO - Found 0 similar chunks for query: 'test workflow query...'
2025-09-11 14:40:46,997 - services.external_task_worker - INFO - Successfully completed task d39e820a-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:46,997 - services.external_task_worker - INFO - Executing task d3a007c5-8f3e-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 14:40:46,997 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439396.6131601}', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439396.6131601}, "processing_timestamp": 1757616044.9672947}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:47,001 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 14:40:47,049 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 14:40:47,056 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 14:40:47,057 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 14:40:47,076 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 14:40:47,076 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 14:40:47,077 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 14:40:47,077 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 14:40:47,891 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 14:40:47,908 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 14:40:47,953 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 14:40:47,953 - services.qdrant_service - INFO - Found 0 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-11 14:40:47,953 - services.qdrant_service - INFO - Found 0 similar chunks for query: 'test workflow query...'
2025-09-11 14:40:47,963 - services.external_task_worker - INFO - Successfully completed task d3a007c5-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:47,963 - services.external_task_worker - INFO - Executing task d3a14060-8f3e-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 14:40:47,963 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438542.5628638}', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438542.5628638}, "processing_timestamp": 1757616044.9756703}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:47,967 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 14:40:48,012 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 14:40:48,016 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 14:40:48,016 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 14:40:48,088 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 14:40:48,088 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 14:40:48,089 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 14:40:48,089 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 14:40:48,841 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 14:40:48,859 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 14:40:48,866 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 14:40:48,867 - services.qdrant_service - INFO - Found 0 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-11 14:40:48,867 - services.qdrant_service - INFO - Found 0 similar chunks for query: 'test workflow query...'
2025-09-11 14:40:48,879 - services.external_task_worker - INFO - Successfully completed task d3a14060-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:48,879 - services.external_task_worker - INFO - Executing task d3a2c71b-8f3e-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 14:40:48,879 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438542.6770434}', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438542.6770434}, "processing_timestamp": 1757616044.9837942}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:48,883 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 14:40:48,931 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 14:40:48,936 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 14:40:48,936 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 14:40:48,951 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 14:40:48,951 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 14:40:48,952 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 14:40:48,952 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 14:40:49,753 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 14:40:49,761 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 14:40:49,769 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 14:40:49,769 - services.qdrant_service - INFO - Found 0 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-11 14:40:49,769 - services.qdrant_service - INFO - Found 0 similar chunks for query: 'test workflow query...'
2025-09-11 14:40:49,780 - services.external_task_worker - INFO - Successfully completed task d3a2c71b-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:49,780 - services.external_task_worker - INFO - Executing task e57be040-8dab-11f0-865f-0242ac190004 for topic process-user-query
2025-09-11 14:40:49,780 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442987.7286308}'}
2025-09-11 14:40:49,789 - services.external_task_worker - INFO - Successfully completed task e57be040-8dab-11f0-865f-0242ac190004
2025-09-11 14:40:49,790 - services.external_task_worker - INFO - Executing task e587c72a-8dab-11f0-865f-0242ac190004 for topic process-user-query
2025-09-11 14:40:49,790 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442987.8075542}'}
2025-09-11 14:40:49,798 - services.external_task_worker - INFO - Successfully completed task e587c72a-8dab-11f0-865f-0242ac190004
2025-09-11 14:40:49,809 - services.external_task_worker - INFO - Received 10 tasks
2025-09-11 14:40:49,810 - services.external_task_worker - INFO - Executing task d3a426c6-8f3e-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 14:40:49,810 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438114.8747964}', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438114.8747964}, "processing_timestamp": 1757616044.9946408}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:49,815 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 14:40:49,872 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 14:40:49,878 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 14:40:49,878 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 14:40:49,895 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 14:40:49,895 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 14:40:49,895 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 14:40:49,895 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 14:40:50,586 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 14:40:50,610 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 14:40:50,619 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 14:40:50,620 - services.qdrant_service - INFO - Found 0 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-11 14:40:50,620 - services.qdrant_service - INFO - Found 0 similar chunks for query: 'test workflow query...'
2025-09-11 14:40:50,630 - services.external_task_worker - INFO - Successfully completed task d3a426c6-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:50,630 - services.external_task_worker - INFO - Executing task d3a55f61-8f3e-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 14:40:50,630 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438115.135196}', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438115.135196}, "processing_timestamp": 1757616045.0028021}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:50,634 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 14:40:50,684 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 14:40:50,688 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 14:40:50,689 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 14:40:50,704 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 14:40:50,704 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 14:40:50,705 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 14:40:50,705 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 14:40:51,449 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 14:40:51,474 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 14:40:51,486 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 14:40:51,486 - services.qdrant_service - INFO - Found 0 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-11 14:40:51,486 - services.qdrant_service - INFO - Found 0 similar chunks for query: 'test workflow query...'
2025-09-11 14:40:51,499 - services.external_task_worker - INFO - Successfully completed task d3a55f61-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:51,499 - services.external_task_worker - INFO - Executing task d3a6bf0c-8f3e-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 14:40:51,499 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438655.2122426}', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438655.2122426}, "processing_timestamp": 1757616045.009746}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:51,505 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 14:40:51,554 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 14:40:51,559 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 14:40:51,559 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 14:40:51,578 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 14:40:51,578 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 14:40:51,579 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 14:40:51,579 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 14:40:52,255 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 14:40:52,263 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 14:40:52,272 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 14:40:52,272 - services.qdrant_service - INFO - Found 0 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-11 14:40:52,273 - services.qdrant_service - INFO - Found 0 similar chunks for query: 'test workflow query...'
2025-09-11 14:40:52,283 - services.external_task_worker - INFO - Successfully completed task d3a6bf0c-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:52,283 - services.external_task_worker - INFO - Executing task d3a90917-8f3e-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 14:40:52,283 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438655.3313105}', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438655.3313105}, "processing_timestamp": 1757616045.0238683}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:52,287 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 14:40:52,337 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 14:40:52,344 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 14:40:52,344 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 14:40:52,360 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 14:40:52,360 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 14:40:52,361 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 14:40:52,361 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 14:40:53,083 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 14:40:53,092 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 14:40:53,098 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 14:40:53,099 - services.qdrant_service - INFO - Found 0 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-11 14:40:53,099 - services.qdrant_service - INFO - Found 0 similar chunks for query: 'test workflow query...'
2025-09-11 14:40:53,111 - services.external_task_worker - INFO - Successfully completed task d3a90917-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:53,112 - services.external_task_worker - INFO - Executing task d3aa41b2-8f3e-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 14:40:53,112 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439127.3595438}', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439127.3595438}, "processing_timestamp": 1757616045.0343254}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:53,116 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 14:40:53,163 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 14:40:53,169 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 14:40:53,169 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 14:40:53,188 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 14:40:53,188 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 14:40:53,189 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 14:40:53,189 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 14:40:53,902 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 14:40:53,921 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 14:40:53,926 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 14:40:53,927 - services.qdrant_service - INFO - Found 0 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-11 14:40:53,927 - services.qdrant_service - INFO - Found 0 similar chunks for query: 'test workflow query...'
2025-09-11 14:40:53,937 - services.external_task_worker - INFO - Successfully completed task d3aa41b2-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:53,938 - services.external_task_worker - INFO - Executing task d3ac8bbd-8f3e-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 14:40:53,938 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439127.44434}', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439127.44434}, "processing_timestamp": 1757616045.0464473}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:53,942 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 14:40:53,990 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 14:40:53,995 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 14:40:53,995 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 14:40:54,012 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 14:40:54,012 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 14:40:54,013 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 14:40:54,013 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 14:40:54,732 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 14:40:54,754 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 14:40:54,762 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 14:40:54,762 - services.qdrant_service - INFO - Found 0 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-11 14:40:54,762 - services.qdrant_service - INFO - Found 0 similar chunks for query: 'test workflow query...'
2025-09-11 14:40:54,774 - services.external_task_worker - INFO - Successfully completed task d3ac8bbd-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:54,774 - services.external_task_worker - INFO - Executing task d4d4b7a9-8f3e-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 14:40:54,774 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439396.5350666}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439396.5350666}, "processing_timestamp": 1757616044.9476323}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:54,788 - services.external_task_worker - INFO - Successfully completed task d4d4b7a9-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:54,789 - services.external_task_worker - INFO - Executing task d567f70d-8f3e-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 14:40:54,789 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439396.6131601}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439396.6131601}, "processing_timestamp": 1757616044.9672947}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:54,797 - services.external_task_worker - INFO - Successfully completed task d567f70d-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:54,797 - services.external_task_worker - INFO - Executing task d5f39551-8f3e-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 14:40:54,797 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438542.5628638}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438542.5628638}, "processing_timestamp": 1757616044.9756703}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:54,807 - services.external_task_worker - INFO - Successfully completed task d5f39551-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:54,807 - services.external_task_worker - INFO - Executing task d67d37c5-8f3e-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 14:40:54,807 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438542.6770434}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438542.6770434}, "processing_timestamp": 1757616044.9837942}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:54,817 - services.external_task_worker - INFO - Successfully completed task d67d37c5-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:54,831 - services.external_task_worker - INFO - Received 10 tasks
2025-09-11 14:40:54,831 - services.external_task_worker - INFO - Executing task d6feea2f-8f3e-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 14:40:54,831 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438114.8747964}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438114.8747964}, "processing_timestamp": 1757616044.9946408}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:54,841 - services.external_task_worker - INFO - Successfully completed task d6feea2f-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:54,841 - services.external_task_worker - INFO - Executing task d7835c83-8f3e-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 14:40:54,842 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438115.135196}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438115.135196}, "processing_timestamp": 1757616045.0028021}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:54,853 - services.external_task_worker - INFO - Successfully completed task d7835c83-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:54,853 - services.external_task_worker - INFO - Executing task d7fb24a7-8f3e-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 14:40:54,853 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438655.2122426}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438655.2122426}, "processing_timestamp": 1757616045.009746}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:54,862 - services.external_task_worker - INFO - Successfully completed task d7fb24a7-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:54,862 - services.external_task_worker - INFO - Executing task d8797c7b-8f3e-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 14:40:54,862 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438655.3313105}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438655.3313105}, "processing_timestamp": 1757616045.0238683}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:54,872 - services.external_task_worker - INFO - Successfully completed task d8797c7b-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:54,872 - services.external_task_worker - INFO - Executing task d8f7862f-8f3e-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 14:40:54,872 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439127.3595438}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439127.3595438}, "processing_timestamp": 1757616045.0343254}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:54,883 - services.external_task_worker - INFO - Successfully completed task d8f7862f-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:54,884 - services.external_task_worker - INFO - Executing task d976ef73-8f3e-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 14:40:54,884 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439127.44434}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439127.44434}, "processing_timestamp": 1757616045.0464473}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:54,893 - services.external_task_worker - INFO - Successfully completed task d976ef73-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:54,893 - services.external_task_worker - INFO - Executing task d979608a-8f3e-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 14:40:54,893 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439396.5350666}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439396.5350666}, "processing_timestamp": 1757616044.9476323}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:54,902 - services.external_task_worker - INFO - Successfully completed task d979608a-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:54,902 - services.external_task_worker - INFO - Executing task d97ac031-8f3e-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 14:40:54,902 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439396.6131601}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439396.6131601}, "processing_timestamp": 1757616044.9672947}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:54,912 - services.external_task_worker - INFO - Successfully completed task d97ac031-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:54,912 - services.external_task_worker - INFO - Executing task d97c1fd8-8f3e-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 14:40:54,912 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438542.5628638}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438542.5628638}, "processing_timestamp": 1757616044.9756703}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:54,923 - services.external_task_worker - INFO - Successfully completed task d97c1fd8-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:54,923 - services.external_task_worker - INFO - Executing task d97dcd9f-8f3e-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 14:40:54,923 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438542.6770434}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438542.6770434}, "processing_timestamp": 1757616044.9837942}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:54,931 - services.external_task_worker - INFO - Successfully completed task d97dcd9f-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:54,947 - services.external_task_worker - INFO - Received 10 tasks
2025-09-11 14:40:54,948 - services.external_task_worker - INFO - Executing task d9815026-8f3e-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 14:40:54,948 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438114.8747964}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438114.8747964}, "processing_timestamp": 1757616044.9946408}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:54,957 - services.external_task_worker - INFO - Successfully completed task d9815026-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:54,957 - services.external_task_worker - INFO - Executing task d98324fd-8f3e-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 14:40:54,957 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438115.135196}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438115.135196}, "processing_timestamp": 1757616045.0028021}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:54,965 - services.external_task_worker - INFO - Successfully completed task d98324fd-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:54,965 - services.external_task_worker - INFO - Executing task d984aab4-8f3e-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 14:40:54,965 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438655.2122426}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438655.2122426}, "processing_timestamp": 1757616045.009746}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:54,976 - services.external_task_worker - INFO - Successfully completed task d984aab4-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:54,976 - services.external_task_worker - INFO - Executing task d986316b-8f3e-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 14:40:54,976 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438655.3313105}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438655.3313105}, "processing_timestamp": 1757616045.0238683}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:54,990 - services.external_task_worker - INFO - Successfully completed task d986316b-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:54,990 - services.external_task_worker - INFO - Executing task d987df32-8f3e-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 14:40:54,990 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439127.3595438}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439127.3595438}, "processing_timestamp": 1757616045.0343254}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:54,999 - services.external_task_worker - INFO - Successfully completed task d987df32-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:54,999 - services.external_task_worker - INFO - Executing task d98965e9-8f3e-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 14:40:54,999 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439127.44434}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439127.44434}, "processing_timestamp": 1757616045.0464473}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:55,007 - services.external_task_worker - INFO - Successfully completed task d98965e9-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:55,008 - services.external_task_worker - INFO - Executing task d98a9e7e-8f3e-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 14:40:55,008 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439396.5350666}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439396.5350666}, "processing_timestamp": 1757616044.9476323}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:55,021 - services.external_task_worker - INFO - Successfully completed task d98a9e7e-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:55,021 - services.external_task_worker - INFO - Executing task d98c4c43-8f3e-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 14:40:55,021 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439396.6131601}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439396.6131601}, "processing_timestamp": 1757616044.9672947}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:55,033 - services.external_task_worker - INFO - Successfully completed task d98c4c43-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:55,033 - services.external_task_worker - INFO - Executing task d98dfa08-8f3e-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 14:40:55,033 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438542.5628638}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438542.5628638}, "processing_timestamp": 1757616044.9756703}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:55,044 - services.external_task_worker - INFO - Successfully completed task d98dfa08-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:55,044 - services.external_task_worker - INFO - Executing task d98f59ad-8f3e-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 14:40:55,044 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438542.6770434}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438542.6770434}, "processing_timestamp": 1757616044.9837942}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:55,058 - services.external_task_worker - INFO - Successfully completed task d98f59ad-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:55,074 - services.external_task_worker - INFO - Received 10 tasks
2025-09-11 14:40:55,074 - services.external_task_worker - INFO - Executing task d9932a52-8f3e-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 14:40:55,074 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438114.8747964}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438114.8747964}, "processing_timestamp": 1757616044.9946408}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:55,086 - services.external_task_worker - INFO - Successfully completed task d9932a52-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:55,086 - services.external_task_worker - INFO - Executing task d99489f7-8f3e-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 14:40:55,086 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438115.135196}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438115.135196}, "processing_timestamp": 1757616045.0028021}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:55,096 - services.external_task_worker - INFO - Successfully completed task d99489f7-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:55,096 - services.external_task_worker - INFO - Executing task d995e99c-8f3e-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 14:40:55,096 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438655.2122426}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438655.2122426}, "processing_timestamp": 1757616045.009746}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:55,107 - services.external_task_worker - INFO - Successfully completed task d995e99c-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:55,107 - services.external_task_worker - INFO - Executing task d99833a1-8f3e-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 14:40:55,107 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438655.3313105}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438655.3313105}, "processing_timestamp": 1757616045.0238683}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:55,119 - services.external_task_worker - INFO - Successfully completed task d99833a1-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:55,119 - services.external_task_worker - INFO - Executing task d9999246-8f3e-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 14:40:55,119 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439127.3595438}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439127.3595438}, "processing_timestamp": 1757616045.0343254}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:55,130 - services.external_task_worker - INFO - Successfully completed task d9999246-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:55,131 - services.external_task_worker - INFO - Executing task d99af1eb-8f3e-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 14:40:55,131 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439127.44434}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439127.44434}, "processing_timestamp": 1757616045.0464473}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:55,143 - services.external_task_worker - INFO - Successfully completed task d99af1eb-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:55,143 - services.external_task_worker - INFO - Executing task d99c518e-8f3e-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 14:40:55,143 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439396.5350666}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439396.5350666}, "processing_timestamp": 1757616044.9476323}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:55,154 - services.external_task_worker - INFO - Successfully completed task d99c518e-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:55,154 - services.external_task_worker - INFO - Executing task d99e7481-8f3e-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 14:40:55,154 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439396.6131601}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439396.6131601}, "processing_timestamp": 1757616044.9672947}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:55,163 - services.external_task_worker - INFO - Successfully completed task d99e7481-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:55,164 - services.external_task_worker - INFO - Executing task d9a04954-8f3e-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 14:40:55,164 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438542.5628638}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438542.5628638}, "processing_timestamp": 1757616044.9756703}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:55,176 - services.external_task_worker - INFO - Successfully completed task d9a04954-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:55,176 - services.external_task_worker - INFO - Executing task d9a24537-8f3e-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 14:40:55,176 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438542.6770434}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438542.6770434}, "processing_timestamp": 1757616044.9837942}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:55,187 - services.external_task_worker - INFO - Successfully completed task d9a24537-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:55,202 - services.external_task_worker - INFO - Received 10 tasks
2025-09-11 14:40:55,202 - services.external_task_worker - INFO - Executing task d9a6b21a-8f3e-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 14:40:55,202 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438114.8747964}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438114.8747964}, "processing_timestamp": 1757616044.9946408}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:55,214 - services.external_task_worker - INFO - Successfully completed task d9a6b21a-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:55,214 - services.external_task_worker - INFO - Executing task d9a85fdd-8f3e-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 14:40:55,214 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438115.135196}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438115.135196}, "processing_timestamp": 1757616045.0028021}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:55,224 - services.external_task_worker - INFO - Successfully completed task d9a85fdd-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:55,224 - services.external_task_worker - INFO - Executing task d9a9e690-8f3e-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 14:40:55,224 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438655.2122426}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438655.2122426}, "processing_timestamp": 1757616045.009746}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:55,232 - services.external_task_worker - INFO - Successfully completed task d9a9e690-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:55,233 - services.external_task_worker - INFO - Executing task d9abbb63-8f3e-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 14:40:55,233 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438655.3313105}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438655.3313105}, "processing_timestamp": 1757616045.0238683}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:55,244 - services.external_task_worker - INFO - Successfully completed task d9abbb63-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:55,244 - services.external_task_worker - INFO - Executing task d9ad9036-8f3e-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 14:40:55,244 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439127.3595438}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439127.3595438}, "processing_timestamp": 1757616045.0343254}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:55,255 - services.external_task_worker - INFO - Successfully completed task d9ad9036-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:55,255 - services.external_task_worker - INFO - Executing task d9af3df9-8f3e-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 14:40:55,255 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439127.44434}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439127.44434}, "processing_timestamp": 1757616045.0464473}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:55,263 - services.external_task_worker - INFO - Successfully completed task d9af3df9-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:55,263 - services.external_task_worker - INFO - Executing task d9b112ca-8f3e-11f0-b401-0242ac190005 for topic process-response
2025-09-11 14:40:55,263 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439396.5350666}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439396.5350666}, "processing_timestamp": 1757616044.9476323}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:55,275 - services.external_task_worker - INFO - Successfully completed task d9b112ca-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:55,275 - services.external_task_worker - INFO - Executing task d9b2987b-8f3e-11f0-b401-0242ac190005 for topic process-response
2025-09-11 14:40:55,275 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439396.6131601}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439396.6131601}, "processing_timestamp": 1757616044.9672947}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:55,284 - services.external_task_worker - INFO - Successfully completed task d9b2987b-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:55,284 - services.external_task_worker - INFO - Executing task d9b46d4c-8f3e-11f0-b401-0242ac190005 for topic process-response
2025-09-11 14:40:55,284 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438542.5628638}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438542.5628638}, "processing_timestamp": 1757616044.9756703}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:55,294 - services.external_task_worker - INFO - Successfully completed task d9b46d4c-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:55,294 - services.external_task_worker - INFO - Executing task d9b61b0d-8f3e-11f0-b401-0242ac190005 for topic process-response
2025-09-11 14:40:55,294 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438542.6770434}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438542.6770434}, "processing_timestamp": 1757616044.9837942}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:55,315 - services.external_task_worker - INFO - Successfully completed task d9b61b0d-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:55,334 - services.external_task_worker - INFO - Received 10 tasks
2025-09-11 14:40:55,334 - services.external_task_worker - INFO - Executing task d9ba12be-8f3e-11f0-b401-0242ac190005 for topic process-response
2025-09-11 14:40:55,334 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438114.8747964}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438114.8747964}, "processing_timestamp": 1757616044.9946408}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:55,348 - services.external_task_worker - INFO - Successfully completed task d9ba12be-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:55,348 - services.external_task_worker - INFO - Executing task d9bbe78f-8f3e-11f0-b401-0242ac190005 for topic process-response
2025-09-11 14:40:55,348 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438115.135196}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438115.135196}, "processing_timestamp": 1757616045.0028021}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:55,361 - services.external_task_worker - INFO - Successfully completed task d9bbe78f-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:55,361 - services.external_task_worker - INFO - Executing task d9bd4730-8f3e-11f0-b401-0242ac190005 for topic process-response
2025-09-11 14:40:55,361 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438655.2122426}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438655.2122426}, "processing_timestamp": 1757616045.009746}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:55,374 - services.external_task_worker - INFO - Successfully completed task d9bd4730-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:55,374 - services.external_task_worker - INFO - Executing task d9becde1-8f3e-11f0-b401-0242ac190005 for topic process-response
2025-09-11 14:40:55,375 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438655.3313105}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438655.3313105}, "processing_timestamp": 1757616045.0238683}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:55,392 - services.external_task_worker - INFO - Successfully completed task d9becde1-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:55,392 - services.external_task_worker - INFO - Executing task d9c0a2b2-8f3e-11f0-b401-0242ac190005 for topic process-response
2025-09-11 14:40:55,392 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439127.3595438}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439127.3595438}, "processing_timestamp": 1757616045.0343254}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:55,407 - services.external_task_worker - INFO - Successfully completed task d9c0a2b2-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:55,407 - services.external_task_worker - INFO - Executing task d9c20253-8f3e-11f0-b401-0242ac190005 for topic process-response
2025-09-11 14:40:55,407 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439127.44434}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439127.44434}, "processing_timestamp": 1757616045.0464473}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:55,419 - services.external_task_worker - INFO - Successfully completed task d9c20253-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:55,420 - services.external_task_worker - INFO - Executing task d9c361f9-8f3e-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 14:40:55,420 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439396.5350666}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439396.5350666}, "processing_timestamp": 1757616044.9476323}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:55,445 - services.external_task_worker - INFO - Successfully completed task d9c361f9-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:55,445 - services.external_task_worker - INFO - Executing task d9c50fbf-8f3e-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 14:40:55,445 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439396.6131601}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439396.6131601}, "processing_timestamp": 1757616044.9672947}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:55,473 - services.external_task_worker - INFO - Successfully completed task d9c50fbf-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:55,473 - services.external_task_worker - INFO - Executing task d9c69675-8f3e-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 14:40:55,473 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438542.5628638}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438542.5628638}, "processing_timestamp": 1757616044.9756703}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:55,493 - services.external_task_worker - INFO - Successfully completed task d9c69675-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:55,493 - services.external_task_worker - INFO - Executing task d9c81d2b-8f3e-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 14:40:55,493 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438542.6770434}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438542.6770434}, "processing_timestamp": 1757616044.9837942}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:55,516 - services.external_task_worker - INFO - Successfully completed task d9c81d2b-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:55,533 - services.external_task_worker - INFO - Received 10 tasks
2025-09-11 14:40:55,533 - services.external_task_worker - INFO - Executing task d3b00d48-8f3e-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 14:40:55,533 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439661.9648414}', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439661.9648414}, "processing_timestamp": 1757616045.0708666}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:55,540 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 14:40:55,614 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 14:40:55,620 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 14:40:55,621 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 14:40:55,642 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 14:40:55,642 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 14:40:55,643 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 14:40:55,643 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 14:40:56,327 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 14:40:56,339 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 14:40:56,347 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 14:40:56,347 - services.qdrant_service - INFO - Found 0 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-11 14:40:56,347 - services.qdrant_service - INFO - Found 0 similar chunks for query: 'test workflow query...'
2025-09-11 14:40:56,359 - services.external_task_worker - INFO - Successfully completed task d3b00d48-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:56,360 - services.external_task_worker - INFO - Executing task d3b145e3-8f3e-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 14:40:56,360 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439662.0506544}', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439662.0506544}, "processing_timestamp": 1757616045.0809186}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:56,364 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 14:40:56,446 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 14:40:56,451 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 14:40:56,451 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 14:40:56,466 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 14:40:56,467 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 14:40:56,467 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 14:40:56,467 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 14:40:57,191 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 14:40:57,200 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 14:40:57,209 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 14:40:57,210 - services.qdrant_service - INFO - Found 0 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-11 14:40:57,210 - services.qdrant_service - INFO - Found 0 similar chunks for query: 'test workflow query...'
2025-09-11 14:40:57,228 - services.external_task_worker - INFO - Successfully completed task d3b145e3-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:57,228 - services.external_task_worker - INFO - Executing task d3b2a58e-8f3e-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 14:40:57,228 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440537.7259877}', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440537.7259877}, "processing_timestamp": 1757616045.0884368}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:57,232 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 14:40:57,280 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 14:40:57,286 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 14:40:57,287 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 14:40:57,303 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 14:40:57,303 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 14:40:57,304 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 14:40:57,304 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 14:40:58,036 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 14:40:58,044 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 14:40:58,052 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 14:40:58,052 - services.qdrant_service - INFO - Found 0 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-11 14:40:58,052 - services.qdrant_service - INFO - Found 0 similar chunks for query: 'test workflow query...'
2025-09-11 14:40:58,061 - services.external_task_worker - INFO - Successfully completed task d3b2a58e-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:58,061 - services.external_task_worker - INFO - Executing task d3b3b719-8f3e-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 14:40:58,061 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440537.8040097}', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440537.8040097}, "processing_timestamp": 1757616045.0970645}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:58,065 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 14:40:58,120 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 14:40:58,126 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 14:40:58,127 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 14:40:58,146 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 14:40:58,146 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 14:40:58,147 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 14:40:58,147 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 14:40:58,888 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 14:40:58,908 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 14:40:58,916 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 14:40:58,917 - services.qdrant_service - INFO - Found 0 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-11 14:40:58,917 - services.qdrant_service - INFO - Found 0 similar chunks for query: 'test workflow query...'
2025-09-11 14:40:58,927 - services.external_task_worker - INFO - Successfully completed task d3b3b719-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:58,927 - services.external_task_worker - INFO - Executing task d9ce85e1-8f3e-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 14:40:58,927 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438114.8747964}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438114.8747964}, "processing_timestamp": 1757616044.9946408}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:58,945 - services.external_task_worker - INFO - Successfully completed task d9ce85e1-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:58,945 - services.external_task_worker - INFO - Executing task d9d0a7d7-8f3e-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 14:40:58,945 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438115.135196}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438115.135196}, "processing_timestamp": 1757616045.0028021}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:58,966 - services.external_task_worker - INFO - Successfully completed task d9d0a7d7-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:58,966 - services.external_task_worker - INFO - Executing task d9d27cad-8f3e-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 14:40:58,966 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438655.2122426}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438655.2122426}, "processing_timestamp": 1757616045.009746}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:58,984 - services.external_task_worker - INFO - Successfully completed task d9d27cad-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:58,985 - services.external_task_worker - INFO - Executing task d9d53be3-8f3e-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 14:40:58,985 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438655.3313105}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757438655.3313105}, "processing_timestamp": 1757616045.0238683}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:59,000 - services.external_task_worker - INFO - Successfully completed task d9d53be3-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:59,000 - services.external_task_worker - INFO - Executing task d9d785e9-8f3e-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 14:40:59,001 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439127.3595438}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439127.3595438}, "processing_timestamp": 1757616045.0343254}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:59,020 - services.external_task_worker - INFO - Successfully completed task d9d785e9-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:59,020 - services.external_task_worker - INFO - Executing task d9d95abf-8f3e-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 14:40:59,020 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439127.44434}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439127.44434}, "processing_timestamp": 1757616045.0464473}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:59,036 - services.external_task_worker - INFO - Successfully completed task d9d95abf-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:59,050 - services.external_task_worker - INFO - Received 10 tasks
2025-09-11 14:40:59,050 - services.external_task_worker - INFO - Executing task d3b4c8a4-8f3e-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 14:40:59,050 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439722.4209926}', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439722.4209926}, "processing_timestamp": 1757616045.1041806}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:59,055 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 14:40:59,113 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 14:40:59,118 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 14:40:59,118 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 14:40:59,137 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 14:40:59,137 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 14:40:59,138 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 14:40:59,138 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 14:40:59,862 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 14:40:59,871 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 14:40:59,877 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 14:40:59,877 - services.qdrant_service - INFO - Found 0 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-11 14:40:59,877 - services.qdrant_service - INFO - Found 0 similar chunks for query: 'test workflow query...'
2025-09-11 14:40:59,894 - services.external_task_worker - INFO - Successfully completed task d3b4c8a4-8f3e-11f0-b401-0242ac190005
2025-09-11 14:40:59,894 - services.external_task_worker - INFO - Executing task d3b6284f-8f3e-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 14:40:59,894 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439722.4996202}', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439722.4996202}, "processing_timestamp": 1757616045.1112177}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:40:59,898 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 14:40:59,942 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 14:40:59,948 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 14:40:59,948 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 14:40:59,968 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 14:40:59,968 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 14:40:59,968 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 14:40:59,969 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 14:41:00,643 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 14:41:00,665 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 14:41:00,675 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 14:41:00,675 - services.qdrant_service - INFO - Found 0 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-11 14:41:00,675 - services.qdrant_service - INFO - Found 0 similar chunks for query: 'test workflow query...'
2025-09-11 14:41:00,684 - services.external_task_worker - INFO - Successfully completed task d3b6284f-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:00,685 - services.external_task_worker - INFO - Executing task d3b7d61a-8f3e-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 14:41:00,685 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440361.9232898}', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440361.9232898}, "processing_timestamp": 1757616045.121191}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:00,689 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 14:41:00,743 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 14:41:00,748 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 14:41:00,748 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 14:41:00,765 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 14:41:00,765 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 14:41:00,765 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 14:41:00,765 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 14:41:01,453 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 14:41:01,462 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 14:41:01,471 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 14:41:01,472 - services.qdrant_service - INFO - Found 0 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-11 14:41:01,472 - services.qdrant_service - INFO - Found 0 similar chunks for query: 'test workflow query...'
2025-09-11 14:41:01,482 - services.external_task_worker - INFO - Successfully completed task d3b7d61a-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:01,482 - services.external_task_worker - INFO - Executing task d3b935c5-8f3e-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 14:41:01,482 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440362.0003414}', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440362.0003414}, "processing_timestamp": 1757616045.131998}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:01,486 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 14:41:01,565 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 14:41:01,580 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 14:41:01,581 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 14:41:01,596 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 14:41:01,596 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 14:41:01,596 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 14:41:01,596 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 14:41:02,346 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 14:41:02,354 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 14:41:02,361 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 14:41:02,362 - services.qdrant_service - INFO - Found 0 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-11 14:41:02,362 - services.qdrant_service - INFO - Found 0 similar chunks for query: 'test workflow query...'
2025-09-11 14:41:02,373 - services.external_task_worker - INFO - Successfully completed task d3b935c5-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:02,373 - services.external_task_worker - INFO - Executing task d3ba9570-8f3e-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 14:41:02,373 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440428.2324214}', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440428.2324214}, "processing_timestamp": 1757616045.1409798}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:02,377 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 14:41:02,425 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 14:41:02,430 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 14:41:02,430 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 14:41:02,446 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 14:41:02,447 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 14:41:02,447 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 14:41:02,447 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 14:41:03,150 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 14:41:03,162 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 14:41:03,170 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 14:41:03,171 - services.qdrant_service - INFO - Found 0 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-11 14:41:03,171 - services.qdrant_service - INFO - Found 0 similar chunks for query: 'test workflow query...'
2025-09-11 14:41:03,185 - services.external_task_worker - INFO - Successfully completed task d3ba9570-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:03,185 - services.external_task_worker - INFO - Executing task d3bbf51b-8f3e-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 14:41:03,185 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440428.3096018}', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440428.3096018}, "processing_timestamp": 1757616045.14932}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:03,190 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 14:41:03,237 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 14:41:03,242 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 14:41:03,243 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 14:41:03,259 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 14:41:03,259 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 14:41:03,260 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 14:41:03,260 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 14:41:03,955 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 14:41:03,969 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 14:41:03,977 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 14:41:03,978 - services.qdrant_service - INFO - Found 0 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-11 14:41:03,978 - services.qdrant_service - INFO - Found 0 similar chunks for query: 'test workflow query...'
2025-09-11 14:41:03,990 - services.external_task_worker - INFO - Successfully completed task d3bbf51b-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:03,990 - services.external_task_worker - INFO - Executing task da68f0e3-8f3e-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 14:41:03,990 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439661.9648414}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439661.9648414}, "processing_timestamp": 1757616045.0708666}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:04,001 - services.external_task_worker - INFO - Successfully completed task da68f0e3-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:04,001 - services.external_task_worker - INFO - Executing task daec78d7-8f3e-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 14:41:04,001 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439662.0506544}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439662.0506544}, "processing_timestamp": 1757616045.0809186}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:04,010 - services.external_task_worker - INFO - Successfully completed task daec78d7-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:04,011 - services.external_task_worker - INFO - Executing task db6ccc7b-8f3e-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 14:41:04,011 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440537.7259877}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440537.7259877}, "processing_timestamp": 1757616045.0884368}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:04,020 - services.external_task_worker - INFO - Successfully completed task db6ccc7b-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:04,020 - services.external_task_worker - INFO - Executing task dbf0f0af-8f3e-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 14:41:04,020 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440537.8040097}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440537.8040097}, "processing_timestamp": 1757616045.0970645}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:04,032 - services.external_task_worker - INFO - Successfully completed task dbf0f0af-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:04,047 - services.external_task_worker - INFO - Received 10 tasks
2025-09-11 14:41:04,048 - services.external_task_worker - INFO - Executing task dc839333-8f3e-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 14:41:04,048 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439722.4209926}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439722.4209926}, "processing_timestamp": 1757616045.1041806}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:04,058 - services.external_task_worker - INFO - Successfully completed task dc839333-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:04,058 - services.external_task_worker - INFO - Executing task dcfd3017-8f3e-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 14:41:04,058 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439722.4996202}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439722.4996202}, "processing_timestamp": 1757616045.1112177}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:04,069 - services.external_task_worker - INFO - Successfully completed task dcfd3017-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:04,069 - services.external_task_worker - INFO - Executing task dd76ccfb-8f3e-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 14:41:04,069 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440361.9232898}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440361.9232898}, "processing_timestamp": 1757616045.121191}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:04,079 - services.external_task_worker - INFO - Successfully completed task dd76ccfb-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:04,079 - services.external_task_worker - INFO - Executing task ddfe9aaf-8f3e-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 14:41:04,079 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440362.0003414}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440362.0003414}, "processing_timestamp": 1757616045.131998}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:04,090 - services.external_task_worker - INFO - Successfully completed task ddfe9aaf-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:04,090 - services.external_task_worker - INFO - Executing task de7a5a73-8f3e-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 14:41:04,090 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440428.2324214}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440428.2324214}, "processing_timestamp": 1757616045.1409798}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:04,101 - services.external_task_worker - INFO - Successfully completed task de7a5a73-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:04,101 - services.external_task_worker - INFO - Executing task def52fd7-8f3e-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 14:41:04,101 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440428.3096018}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440428.3096018}, "processing_timestamp": 1757616045.14932}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:04,113 - services.external_task_worker - INFO - Successfully completed task def52fd7-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:04,113 - services.external_task_worker - INFO - Executing task def72bbe-8f3e-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 14:41:04,114 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439661.9648414}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439661.9648414}, "processing_timestamp": 1757616045.0708666}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:04,124 - services.external_task_worker - INFO - Successfully completed task def72bbe-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:04,124 - services.external_task_worker - INFO - Executing task def88a65-8f3e-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 14:41:04,125 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439662.0506544}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439662.0506544}, "processing_timestamp": 1757616045.0809186}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:04,133 - services.external_task_worker - INFO - Successfully completed task def88a65-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:04,133 - services.external_task_worker - INFO - Executing task defa111c-8f3e-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 14:41:04,133 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440537.7259877}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440537.7259877}, "processing_timestamp": 1757616045.0884368}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:04,140 - services.external_task_worker - INFO - Successfully completed task defa111c-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:04,141 - services.external_task_worker - INFO - Executing task defbbee3-8f3e-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 14:41:04,141 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440537.8040097}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440537.8040097}, "processing_timestamp": 1757616045.0970645}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:04,149 - services.external_task_worker - INFO - Successfully completed task defbbee3-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:04,160 - services.external_task_worker - INFO - Received 10 tasks
2025-09-11 14:41:04,160 - services.external_task_worker - INFO - Executing task deffb69a-8f3e-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 14:41:04,160 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439722.4209926}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439722.4209926}, "processing_timestamp": 1757616045.1041806}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:04,169 - services.external_task_worker - INFO - Successfully completed task deffb69a-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:04,169 - services.external_task_worker - INFO - Executing task df018b71-8f3e-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 14:41:04,169 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439722.4996202}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439722.4996202}, "processing_timestamp": 1757616045.1112177}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:04,180 - services.external_task_worker - INFO - Successfully completed task df018b71-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:04,180 - services.external_task_worker - INFO - Executing task df031228-8f3e-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 14:41:04,180 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440361.9232898}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440361.9232898}, "processing_timestamp": 1757616045.121191}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:04,188 - services.external_task_worker - INFO - Successfully completed task df031228-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:04,188 - services.external_task_worker - INFO - Executing task df0471cf-8f3e-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 14:41:04,188 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440362.0003414}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440362.0003414}, "processing_timestamp": 1757616045.131998}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:04,196 - services.external_task_worker - INFO - Successfully completed task df0471cf-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:04,196 - services.external_task_worker - INFO - Executing task df061f96-8f3e-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 14:41:04,196 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440428.2324214}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440428.2324214}, "processing_timestamp": 1757616045.1409798}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:04,203 - services.external_task_worker - INFO - Successfully completed task df061f96-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:04,203 - services.external_task_worker - INFO - Executing task df08428d-8f3e-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 14:41:04,204 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440428.3096018}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440428.3096018}, "processing_timestamp": 1757616045.14932}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:04,211 - services.external_task_worker - INFO - Successfully completed task df08428d-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:04,211 - services.external_task_worker - INFO - Executing task df09c942-8f3e-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 14:41:04,211 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439661.9648414}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439661.9648414}, "processing_timestamp": 1757616045.0708666}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:04,219 - services.external_task_worker - INFO - Successfully completed task df09c942-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:04,219 - services.external_task_worker - INFO - Executing task df0b4ff7-8f3e-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 14:41:04,219 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439662.0506544}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439662.0506544}, "processing_timestamp": 1757616045.0809186}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:04,228 - services.external_task_worker - INFO - Successfully completed task df0b4ff7-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:04,228 - services.external_task_worker - INFO - Executing task df0c888c-8f3e-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 14:41:04,228 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440537.7259877}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440537.7259877}, "processing_timestamp": 1757616045.0884368}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:04,237 - services.external_task_worker - INFO - Successfully completed task df0c888c-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:04,237 - services.external_task_worker - INFO - Executing task df0dc021-8f3e-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 14:41:04,237 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440537.8040097}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440537.8040097}, "processing_timestamp": 1757616045.0970645}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:04,246 - services.external_task_worker - INFO - Successfully completed task df0dc021-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:04,258 - services.external_task_worker - INFO - Received 10 tasks
2025-09-11 14:41:04,258 - services.external_task_worker - INFO - Executing task df10cd76-8f3e-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 14:41:04,258 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439722.4209926}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439722.4209926}, "processing_timestamp": 1757616045.1041806}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:04,267 - services.external_task_worker - INFO - Successfully completed task df10cd76-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:04,267 - services.external_task_worker - INFO - Executing task df12542b-8f3e-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 14:41:04,267 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439722.4996202}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439722.4996202}, "processing_timestamp": 1757616045.1112177}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:04,275 - services.external_task_worker - INFO - Successfully completed task df12542b-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:04,276 - services.external_task_worker - INFO - Executing task df13b3d0-8f3e-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 14:41:04,276 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440361.9232898}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440361.9232898}, "processing_timestamp": 1757616045.121191}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:04,284 - services.external_task_worker - INFO - Successfully completed task df13b3d0-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:04,284 - services.external_task_worker - INFO - Executing task df14ec65-8f3e-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 14:41:04,284 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440362.0003414}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440362.0003414}, "processing_timestamp": 1757616045.131998}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:04,292 - services.external_task_worker - INFO - Successfully completed task df14ec65-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:04,292 - services.external_task_worker - INFO - Executing task df1624fa-8f3e-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 14:41:04,292 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440428.2324214}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440428.2324214}, "processing_timestamp": 1757616045.1409798}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:04,300 - services.external_task_worker - INFO - Successfully completed task df1624fa-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:04,300 - services.external_task_worker - INFO - Executing task df17367f-8f3e-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 14:41:04,300 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440428.3096018}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440428.3096018}, "processing_timestamp": 1757616045.14932}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:04,311 - services.external_task_worker - INFO - Successfully completed task df17367f-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:04,311 - services.external_task_worker - INFO - Executing task df186f12-8f3e-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 14:41:04,311 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439661.9648414}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439661.9648414}, "processing_timestamp": 1757616045.0708666}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:04,320 - services.external_task_worker - INFO - Successfully completed task df186f12-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:04,320 - services.external_task_worker - INFO - Executing task df19ceb5-8f3e-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 14:41:04,320 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439662.0506544}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439662.0506544}, "processing_timestamp": 1757616045.0809186}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:04,328 - services.external_task_worker - INFO - Successfully completed task df19ceb5-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:04,328 - services.external_task_worker - INFO - Executing task df1b0748-8f3e-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 14:41:04,328 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440537.7259877}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440537.7259877}, "processing_timestamp": 1757616045.0884368}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:04,335 - services.external_task_worker - INFO - Successfully completed task df1b0748-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:04,336 - services.external_task_worker - INFO - Executing task df1c8dfb-8f3e-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 14:41:04,336 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440537.8040097}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440537.8040097}, "processing_timestamp": 1757616045.0970645}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:04,343 - services.external_task_worker - INFO - Successfully completed task df1c8dfb-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:04,359 - services.external_task_worker - INFO - Received 10 tasks
2025-09-11 14:41:04,359 - services.external_task_worker - INFO - Executing task df1f9b4e-8f3e-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 14:41:04,359 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439722.4209926}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439722.4209926}, "processing_timestamp": 1757616045.1041806}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:04,367 - services.external_task_worker - INFO - Successfully completed task df1f9b4e-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:04,367 - services.external_task_worker - INFO - Executing task df20faf1-8f3e-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 14:41:04,367 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439722.4996202}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439722.4996202}, "processing_timestamp": 1757616045.1112177}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:04,376 - services.external_task_worker - INFO - Successfully completed task df20faf1-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:04,376 - services.external_task_worker - INFO - Executing task df225994-8f3e-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 14:41:04,377 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440361.9232898}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440361.9232898}, "processing_timestamp": 1757616045.121191}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:04,385 - services.external_task_worker - INFO - Successfully completed task df225994-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:04,385 - services.external_task_worker - INFO - Executing task df239227-8f3e-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 14:41:04,385 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440362.0003414}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440362.0003414}, "processing_timestamp": 1757616045.131998}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:04,391 - services.external_task_worker - INFO - Successfully completed task df239227-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:04,392 - services.external_task_worker - INFO - Executing task df24caba-8f3e-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 14:41:04,392 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440428.2324214}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440428.2324214}, "processing_timestamp": 1757616045.1409798}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:04,402 - services.external_task_worker - INFO - Successfully completed task df24caba-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:04,402 - services.external_task_worker - INFO - Executing task df26516d-8f3e-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 14:41:04,402 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440428.3096018}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440428.3096018}, "processing_timestamp": 1757616045.14932}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:04,410 - services.external_task_worker - INFO - Successfully completed task df26516d-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:04,410 - services.external_task_worker - INFO - Executing task df27d81e-8f3e-11f0-b401-0242ac190005 for topic process-response
2025-09-11 14:41:04,410 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439661.9648414}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439661.9648414}, "processing_timestamp": 1757616045.0708666}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:04,418 - services.external_task_worker - INFO - Successfully completed task df27d81e-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:04,418 - services.external_task_worker - INFO - Executing task df2910af-8f3e-11f0-b401-0242ac190005 for topic process-response
2025-09-11 14:41:04,418 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439662.0506544}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439662.0506544}, "processing_timestamp": 1757616045.0809186}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:04,425 - services.external_task_worker - INFO - Successfully completed task df2910af-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:04,425 - services.external_task_worker - INFO - Executing task df2a4940-8f3e-11f0-b401-0242ac190005 for topic process-response
2025-09-11 14:41:04,425 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440537.7259877}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440537.7259877}, "processing_timestamp": 1757616045.0884368}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:04,434 - services.external_task_worker - INFO - Successfully completed task df2a4940-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:04,435 - services.external_task_worker - INFO - Executing task df2b5ac1-8f3e-11f0-b401-0242ac190005 for topic process-response
2025-09-11 14:41:04,435 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440537.8040097}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440537.8040097}, "processing_timestamp": 1757616045.0970645}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:04,442 - services.external_task_worker - INFO - Successfully completed task df2b5ac1-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:04,452 - services.external_task_worker - INFO - Received 10 tasks
2025-09-11 14:41:04,453 - services.external_task_worker - INFO - Executing task df2f0452-8f3e-11f0-b401-0242ac190005 for topic process-response
2025-09-11 14:41:04,453 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439722.4209926}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439722.4209926}, "processing_timestamp": 1757616045.1041806}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:04,462 - services.external_task_worker - INFO - Successfully completed task df2f0452-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:04,462 - services.external_task_worker - INFO - Executing task df303ce3-8f3e-11f0-b401-0242ac190005 for topic process-response
2025-09-11 14:41:04,462 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439722.4996202}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439722.4996202}, "processing_timestamp": 1757616045.1112177}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:04,470 - services.external_task_worker - INFO - Successfully completed task df303ce3-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:04,471 - services.external_task_worker - INFO - Executing task df31c394-8f3e-11f0-b401-0242ac190005 for topic process-response
2025-09-11 14:41:04,471 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440361.9232898}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440361.9232898}, "processing_timestamp": 1757616045.121191}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:04,478 - services.external_task_worker - INFO - Successfully completed task df31c394-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:04,478 - services.external_task_worker - INFO - Executing task df32d515-8f3e-11f0-b401-0242ac190005 for topic process-response
2025-09-11 14:41:04,478 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440362.0003414}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440362.0003414}, "processing_timestamp": 1757616045.131998}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:04,486 - services.external_task_worker - INFO - Successfully completed task df32d515-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:04,486 - services.external_task_worker - INFO - Executing task df33e696-8f3e-11f0-b401-0242ac190005 for topic process-response
2025-09-11 14:41:04,487 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440428.2324214}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440428.2324214}, "processing_timestamp": 1757616045.1409798}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:04,494 - services.external_task_worker - INFO - Successfully completed task df33e696-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:04,494 - services.external_task_worker - INFO - Executing task df359457-8f3e-11f0-b401-0242ac190005 for topic process-response
2025-09-11 14:41:04,494 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440428.3096018}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440428.3096018}, "processing_timestamp": 1757616045.14932}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:04,501 - services.external_task_worker - INFO - Successfully completed task df359457-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:04,501 - services.external_task_worker - INFO - Executing task df36cced-8f3e-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 14:41:04,501 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439661.9648414}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439661.9648414}, "processing_timestamp": 1757616045.0708666}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:04,514 - services.external_task_worker - INFO - Successfully completed task df36cced-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:04,515 - services.external_task_worker - INFO - Executing task df37dd73-8f3e-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 14:41:04,515 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439662.0506544}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439662.0506544}, "processing_timestamp": 1757616045.0809186}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:04,531 - services.external_task_worker - INFO - Successfully completed task df37dd73-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:04,531 - services.external_task_worker - INFO - Executing task df396429-8f3e-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 14:41:04,531 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440537.7259877}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440537.7259877}, "processing_timestamp": 1757616045.0884368}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:04,550 - services.external_task_worker - INFO - Successfully completed task df396429-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:04,550 - services.external_task_worker - INFO - Executing task df3a9cbf-8f3e-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 14:41:04,550 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440537.8040097}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440537.8040097}, "processing_timestamp": 1757616045.0970645}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:04,566 - services.external_task_worker - INFO - Successfully completed task df3a9cbf-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:04,579 - services.external_task_worker - INFO - Received 10 tasks
2025-09-11 14:41:04,579 - services.external_task_worker - INFO - Executing task d3bf0176-8f3e-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 14:41:04,579 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442233.5500994}', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442233.5500994}, "processing_timestamp": 1757616045.1698198}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:04,583 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 14:41:04,628 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 14:41:04,634 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 14:41:04,634 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 14:41:04,651 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 14:41:04,651 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 14:41:04,652 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 14:41:04,652 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 14:41:05,368 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 14:41:05,389 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 14:41:05,395 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 14:41:05,396 - services.qdrant_service - INFO - Found 0 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-11 14:41:05,396 - services.qdrant_service - INFO - Found 0 similar chunks for query: 'test workflow query...'
2025-09-11 14:41:05,409 - services.external_task_worker - INFO - Successfully completed task d3bf0176-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:05,409 - services.external_task_worker - INFO - Executing task d3c06121-8f3e-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 14:41:05,409 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442233.6298678}', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442233.6298678}, "processing_timestamp": 1757616045.178801}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:05,414 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 14:41:05,468 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 14:41:05,474 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 14:41:05,474 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 14:41:05,493 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 14:41:05,493 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 14:41:05,493 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 14:41:05,493 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 14:41:06,252 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 14:41:06,261 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 14:41:06,270 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 14:41:06,270 - services.qdrant_service - INFO - Found 0 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-11 14:41:06,270 - services.qdrant_service - INFO - Found 0 similar chunks for query: 'test workflow query...'
2025-09-11 14:41:06,281 - services.external_task_worker - INFO - Successfully completed task d3c06121-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:06,281 - services.external_task_worker - INFO - Executing task d3c20eec-8f3e-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 14:41:06,281 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442349.8473067}', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442349.8473067}, "processing_timestamp": 1757616045.1886637}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:06,285 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 14:41:06,327 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 14:41:06,333 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 14:41:06,333 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 14:41:06,348 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 14:41:06,349 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 14:41:06,349 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 14:41:06,349 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 14:41:07,091 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 14:41:07,101 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 14:41:07,108 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 14:41:07,109 - services.qdrant_service - INFO - Found 0 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-11 14:41:07,109 - services.qdrant_service - INFO - Found 0 similar chunks for query: 'test workflow query...'
2025-09-11 14:41:07,118 - services.external_task_worker - INFO - Successfully completed task d3c20eec-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:07,118 - services.external_task_worker - INFO - Executing task d3c395a7-8f3e-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 14:41:07,119 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442349.9253445}', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442349.9253445}, "processing_timestamp": 1757616045.1996756}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:07,123 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 14:41:07,173 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 14:41:07,178 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 14:41:07,179 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 14:41:07,196 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 14:41:07,197 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 14:41:07,197 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 14:41:07,197 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 14:41:07,984 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 14:41:07,992 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 14:41:07,999 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 14:41:08,000 - services.qdrant_service - INFO - Found 0 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-11 14:41:08,000 - services.qdrant_service - INFO - Found 0 similar chunks for query: 'test workflow query...'
2025-09-11 14:41:08,009 - services.external_task_worker - INFO - Successfully completed task d3c395a7-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:08,009 - services.external_task_worker - INFO - Executing task df3d8305-8f3e-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 14:41:08,009 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439722.4209926}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439722.4209926}, "processing_timestamp": 1757616045.1041806}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:08,026 - services.external_task_worker - INFO - Successfully completed task df3d8305-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:08,026 - services.external_task_worker - INFO - Executing task df3ebb9b-8f3e-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 14:41:08,026 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439722.4996202}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757439722.4996202}, "processing_timestamp": 1757616045.1112177}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:08,045 - services.external_task_worker - INFO - Successfully completed task df3ebb9b-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:08,045 - services.external_task_worker - INFO - Executing task df401b41-8f3e-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 14:41:08,045 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440361.9232898}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440361.9232898}, "processing_timestamp": 1757616045.121191}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:08,061 - services.external_task_worker - INFO - Successfully completed task df401b41-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:08,062 - services.external_task_worker - INFO - Executing task df4153d7-8f3e-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 14:41:08,062 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440362.0003414}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440362.0003414}, "processing_timestamp": 1757616045.131998}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:08,078 - services.external_task_worker - INFO - Successfully completed task df4153d7-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:08,078 - services.external_task_worker - INFO - Executing task df428c6d-8f3e-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 14:41:08,078 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440428.2324214}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440428.2324214}, "processing_timestamp": 1757616045.1409798}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:08,095 - services.external_task_worker - INFO - Successfully completed task df428c6d-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:08,095 - services.external_task_worker - INFO - Executing task df439df3-8f3e-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 14:41:08,096 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440428.3096018}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757440428.3096018}, "processing_timestamp": 1757616045.14932}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:08,112 - services.external_task_worker - INFO - Successfully completed task df439df3-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:08,127 - services.external_task_worker - INFO - Received 10 tasks
2025-09-11 14:41:08,127 - services.external_task_worker - INFO - Executing task d3c4ce42-8f3e-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 14:41:08,127 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441958.8406787}', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441958.8406787}, "processing_timestamp": 1757616045.2085998}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:08,132 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 14:41:08,186 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 14:41:08,193 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 14:41:08,194 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 14:41:08,213 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 14:41:08,213 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 14:41:08,214 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 14:41:08,214 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 14:41:08,902 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 14:41:08,910 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 14:41:08,917 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 14:41:08,918 - services.qdrant_service - INFO - Found 0 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-11 14:41:08,918 - services.qdrant_service - INFO - Found 0 similar chunks for query: 'test workflow query...'
2025-09-11 14:41:08,928 - services.external_task_worker - INFO - Successfully completed task d3c4ce42-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:08,928 - services.external_task_worker - INFO - Executing task d3c654fd-8f3e-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 14:41:08,928 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441958.918532}', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441958.918532}, "processing_timestamp": 1757616045.2170768}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:08,933 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 14:41:08,985 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 14:41:08,990 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 14:41:08,990 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 14:41:09,008 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 14:41:09,008 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 14:41:09,009 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 14:41:09,009 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 14:41:09,735 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 14:41:09,750 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 14:41:09,757 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 14:41:09,757 - services.qdrant_service - INFO - Found 0 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-11 14:41:09,757 - services.qdrant_service - INFO - Found 0 similar chunks for query: 'test workflow query...'
2025-09-11 14:41:09,768 - services.external_task_worker - INFO - Successfully completed task d3c654fd-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:09,769 - services.external_task_worker - INFO - Executing task d3c802c8-8f3e-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 14:41:09,769 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441126.6643121}', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441126.6643121}, "processing_timestamp": 1757616045.228085}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:09,772 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 14:41:09,814 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 14:41:09,819 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 14:41:09,820 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 14:41:09,835 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 14:41:09,835 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 14:41:09,836 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 14:41:09,836 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 14:41:10,527 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 14:41:10,556 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 14:41:10,561 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 14:41:10,562 - services.qdrant_service - INFO - Found 0 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-11 14:41:10,562 - services.qdrant_service - INFO - Found 0 similar chunks for query: 'test workflow query...'
2025-09-11 14:41:10,573 - services.external_task_worker - INFO - Successfully completed task d3c802c8-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:10,574 - services.external_task_worker - INFO - Executing task d3c93b63-8f3e-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 14:41:10,574 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441126.7384248}', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441126.7384248}, "processing_timestamp": 1757616045.2371745}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:10,578 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 14:41:10,631 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 14:41:10,636 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 14:41:10,636 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 14:41:10,653 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 14:41:10,653 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 14:41:10,653 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 14:41:10,654 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 14:41:11,364 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 14:41:11,392 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 14:41:11,399 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 14:41:11,400 - services.qdrant_service - INFO - Found 0 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-11 14:41:11,401 - services.qdrant_service - INFO - Found 0 similar chunks for query: 'test workflow query...'
2025-09-11 14:41:11,413 - services.external_task_worker - INFO - Successfully completed task d3c93b63-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:11,413 - services.external_task_worker - INFO - Executing task d3ca9b0e-8f3e-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 14:41:11,413 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441989.2245476}', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441989.2245476}, "processing_timestamp": 1757616045.246165}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:11,418 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 14:41:11,467 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 14:41:11,474 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 14:41:11,474 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 14:41:11,492 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 14:41:11,493 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 14:41:11,493 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 14:41:11,493 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 14:41:12,566 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 14:41:12,576 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 14:41:12,583 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 14:41:12,583 - services.qdrant_service - INFO - Found 0 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-11 14:41:12,583 - services.qdrant_service - INFO - Found 0 similar chunks for query: 'test workflow query...'
2025-09-11 14:41:12,593 - services.external_task_worker - INFO - Successfully completed task d3ca9b0e-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:12,593 - services.external_task_worker - INFO - Executing task d3cc47d9-8f3e-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 14:41:12,593 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441989.3015547}', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441989.3015547}, "processing_timestamp": 1757616045.2567084}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:12,598 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 14:41:12,650 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 14:41:12,655 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 14:41:12,656 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 14:41:12,673 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 14:41:12,673 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 14:41:12,674 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 14:41:12,674 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 14:41:13,421 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 14:41:13,433 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 14:41:13,439 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 14:41:13,440 - services.qdrant_service - INFO - Found 0 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-11 14:41:13,440 - services.qdrant_service - INFO - Found 0 similar chunks for query: 'test workflow query...'
2025-09-11 14:41:13,449 - services.external_task_worker - INFO - Successfully completed task d3cc47d9-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:13,450 - services.external_task_worker - INFO - Executing task dfce02f7-8f3e-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 14:41:13,450 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442233.5500994}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442233.5500994}, "processing_timestamp": 1757616045.1698198}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:13,463 - services.external_task_worker - INFO - Successfully completed task dfce02f7-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:13,463 - services.external_task_worker - INFO - Executing task e052ea7b-8f3e-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 14:41:13,463 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442233.6298678}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442233.6298678}, "processing_timestamp": 1757616045.178801}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:13,478 - services.external_task_worker - INFO - Successfully completed task e052ea7b-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:13,478 - services.external_task_worker - INFO - Executing task e0d2c8ef-8f3e-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 14:41:13,478 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442349.8473067}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442349.8473067}, "processing_timestamp": 1757616045.1886637}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:13,487 - services.external_task_worker - INFO - Successfully completed task e0d2c8ef-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:13,487 - services.external_task_worker - INFO - Executing task e15ae4c3-8f3e-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 14:41:13,487 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442349.9253445}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442349.9253445}, "processing_timestamp": 1757616045.1996756}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:13,494 - services.external_task_worker - INFO - Successfully completed task e15ae4c3-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:13,507 - services.external_task_worker - INFO - Received 10 tasks
2025-09-11 14:41:13,507 - services.external_task_worker - INFO - Executing task e1e6f897-8f3e-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 14:41:13,507 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441958.8406787}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441958.8406787}, "processing_timestamp": 1757616045.2085998}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:13,518 - services.external_task_worker - INFO - Successfully completed task e1e6f897-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:13,519 - services.external_task_worker - INFO - Executing task e267252b-8f3e-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 14:41:13,519 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441958.918532}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441958.918532}, "processing_timestamp": 1757616045.2170768}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:13,526 - services.external_task_worker - INFO - Successfully completed task e267252b-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:13,526 - services.external_task_worker - INFO - Executing task e2e1d37f-8f3e-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 14:41:13,526 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441126.6643121}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441126.6643121}, "processing_timestamp": 1757616045.228085}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:13,533 - services.external_task_worker - INFO - Successfully completed task e2e1d37f-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:13,533 - services.external_task_worker - INFO - Executing task e3622623-8f3e-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 14:41:13,533 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441126.7384248}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441126.7384248}, "processing_timestamp": 1757616045.2371745}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:13,542 - services.external_task_worker - INFO - Successfully completed task e3622623-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:13,542 - services.external_task_worker - INFO - Executing task e41633f7-8f3e-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 14:41:13,542 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441989.2245476}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441989.2245476}, "processing_timestamp": 1757616045.246165}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:13,550 - services.external_task_worker - INFO - Successfully completed task e41633f7-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:13,550 - services.external_task_worker - INFO - Executing task e498d18b-8f3e-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 14:41:13,550 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441989.3015547}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441989.3015547}, "processing_timestamp": 1757616045.2567084}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:13,556 - services.external_task_worker - INFO - Successfully completed task e498d18b-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:13,557 - services.external_task_worker - INFO - Executing task e49a5842-8f3e-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 14:41:13,557 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442233.5500994}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442233.5500994}, "processing_timestamp": 1757616045.1698198}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:13,563 - services.external_task_worker - INFO - Successfully completed task e49a5842-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:13,563 - services.external_task_worker - INFO - Executing task e49c7b39-8f3e-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 14:41:13,563 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442233.6298678}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442233.6298678}, "processing_timestamp": 1757616045.178801}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:13,572 - services.external_task_worker - INFO - Successfully completed task e49c7b39-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:13,572 - services.external_task_worker - INFO - Executing task e49e7720-8f3e-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 14:41:13,572 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442349.8473067}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442349.8473067}, "processing_timestamp": 1757616045.1886637}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:13,580 - services.external_task_worker - INFO - Successfully completed task e49e7720-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:13,580 - services.external_task_worker - INFO - Executing task e49fd6c7-8f3e-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 14:41:13,580 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442349.9253445}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442349.9253445}, "processing_timestamp": 1757616045.1996756}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:13,588 - services.external_task_worker - INFO - Successfully completed task e49fd6c7-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:13,599 - services.external_task_worker - INFO - Received 10 tasks
2025-09-11 14:41:13,599 - services.external_task_worker - INFO - Executing task e4a2e41e-8f3e-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 14:41:13,599 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441958.8406787}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441958.8406787}, "processing_timestamp": 1757616045.2085998}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:13,607 - services.external_task_worker - INFO - Successfully completed task e4a2e41e-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:13,607 - services.external_task_worker - INFO - Executing task e4a4b8f5-8f3e-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 14:41:13,607 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441958.918532}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441958.918532}, "processing_timestamp": 1757616045.2170768}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:13,613 - services.external_task_worker - INFO - Successfully completed task e4a4b8f5-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:13,613 - services.external_task_worker - INFO - Executing task e4a5ca7c-8f3e-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 14:41:13,613 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441126.6643121}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441126.6643121}, "processing_timestamp": 1757616045.228085}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:13,620 - services.external_task_worker - INFO - Successfully completed task e4a5ca7c-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:13,620 - services.external_task_worker - INFO - Executing task e4a70313-8f3e-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 14:41:13,620 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441126.7384248}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441126.7384248}, "processing_timestamp": 1757616045.2371745}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:13,627 - services.external_task_worker - INFO - Successfully completed task e4a70313-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:13,627 - services.external_task_worker - INFO - Executing task e4a83aaa-8f3e-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 14:41:13,627 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441989.2245476}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441989.2245476}, "processing_timestamp": 1757616045.246165}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:13,634 - services.external_task_worker - INFO - Successfully completed task e4a83aaa-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:13,634 - services.external_task_worker - INFO - Executing task e4a94c31-8f3e-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 14:41:13,635 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441989.3015547}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441989.3015547}, "processing_timestamp": 1757616045.2567084}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:13,640 - services.external_task_worker - INFO - Successfully completed task e4a94c31-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:13,640 - services.external_task_worker - INFO - Executing task e4aa5db6-8f3e-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 14:41:13,640 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442233.5500994}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442233.5500994}, "processing_timestamp": 1757616045.1698198}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:13,647 - services.external_task_worker - INFO - Successfully completed task e4aa5db6-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:13,647 - services.external_task_worker - INFO - Executing task e4ab964b-8f3e-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 14:41:13,647 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442233.6298678}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442233.6298678}, "processing_timestamp": 1757616045.178801}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:13,656 - services.external_task_worker - INFO - Successfully completed task e4ab964b-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:13,656 - services.external_task_worker - INFO - Executing task e4acf5f0-8f3e-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 14:41:13,656 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442349.8473067}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442349.8473067}, "processing_timestamp": 1757616045.1886637}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:13,662 - services.external_task_worker - INFO - Successfully completed task e4acf5f0-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:13,663 - services.external_task_worker - INFO - Executing task e4ae2e85-8f3e-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 14:41:13,663 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442349.9253445}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442349.9253445}, "processing_timestamp": 1757616045.1996756}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:13,671 - services.external_task_worker - INFO - Successfully completed task e4ae2e85-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:13,681 - services.external_task_worker - INFO - Received 10 tasks
2025-09-11 14:41:13,682 - services.external_task_worker - INFO - Executing task e4b114ca-8f3e-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 14:41:13,682 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441958.8406787}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441958.8406787}, "processing_timestamp": 1757616045.2085998}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:13,689 - services.external_task_worker - INFO - Successfully completed task e4b114ca-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:13,689 - services.external_task_worker - INFO - Executing task e4b1ff3f-8f3e-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 14:41:13,689 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441958.918532}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441958.918532}, "processing_timestamp": 1757616045.2170768}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:13,696 - services.external_task_worker - INFO - Successfully completed task e4b1ff3f-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:13,697 - services.external_task_worker - INFO - Executing task e4b310c4-8f3e-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 14:41:13,697 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441126.6643121}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441126.6643121}, "processing_timestamp": 1757616045.228085}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:13,705 - services.external_task_worker - INFO - Successfully completed task e4b310c4-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:13,706 - services.external_task_worker - INFO - Executing task e4b42249-8f3e-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 14:41:13,706 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441126.7384248}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441126.7384248}, "processing_timestamp": 1757616045.2371745}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:13,712 - services.external_task_worker - INFO - Successfully completed task e4b42249-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:13,712 - services.external_task_worker - INFO - Executing task e4b533ce-8f3e-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 14:41:13,712 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441989.2245476}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441989.2245476}, "processing_timestamp": 1757616045.246165}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:13,719 - services.external_task_worker - INFO - Successfully completed task e4b533ce-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:13,719 - services.external_task_worker - INFO - Executing task e4b61e43-8f3e-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 14:41:13,719 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441989.3015547}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441989.3015547}, "processing_timestamp": 1757616045.2567084}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:13,725 - services.external_task_worker - INFO - Successfully completed task e4b61e43-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:13,726 - services.external_task_worker - INFO - Executing task e4b708b6-8f3e-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 14:41:13,726 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442233.5500994}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442233.5500994}, "processing_timestamp": 1757616045.1698198}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:13,733 - services.external_task_worker - INFO - Successfully completed task e4b708b6-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:13,733 - services.external_task_worker - INFO - Executing task e4b86759-8f3e-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 14:41:13,733 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442233.6298678}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442233.6298678}, "processing_timestamp": 1757616045.178801}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:13,741 - services.external_task_worker - INFO - Successfully completed task e4b86759-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:13,741 - services.external_task_worker - INFO - Executing task e4b978dc-8f3e-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 14:41:13,741 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442349.8473067}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442349.8473067}, "processing_timestamp": 1757616045.1886637}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:13,747 - services.external_task_worker - INFO - Successfully completed task e4b978dc-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:13,747 - services.external_task_worker - INFO - Executing task e4bad87f-8f3e-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 14:41:13,747 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442349.9253445}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442349.9253445}, "processing_timestamp": 1757616045.1996756}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:13,753 - services.external_task_worker - INFO - Successfully completed task e4bad87f-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:13,763 - services.external_task_worker - INFO - Received 10 tasks
2025-09-11 14:41:13,763 - services.external_task_worker - INFO - Executing task e4bd70a2-8f3e-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 14:41:13,763 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441958.8406787}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441958.8406787}, "processing_timestamp": 1757616045.2085998}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:13,772 - services.external_task_worker - INFO - Successfully completed task e4bd70a2-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:13,772 - services.external_task_worker - INFO - Executing task e4bea935-8f3e-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 14:41:13,772 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441958.918532}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441958.918532}, "processing_timestamp": 1757616045.2170768}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:13,778 - services.external_task_worker - INFO - Successfully completed task e4bea935-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:13,779 - services.external_task_worker - INFO - Executing task e4c008d8-8f3e-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 14:41:13,779 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441126.6643121}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441126.6643121}, "processing_timestamp": 1757616045.228085}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:13,785 - services.external_task_worker - INFO - Successfully completed task e4c008d8-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:13,785 - services.external_task_worker - INFO - Executing task e4c11a5b-8f3e-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 14:41:13,785 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441126.7384248}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441126.7384248}, "processing_timestamp": 1757616045.2371745}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:13,791 - services.external_task_worker - INFO - Successfully completed task e4c11a5b-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:13,791 - services.external_task_worker - INFO - Executing task e4c22bde-8f3e-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 14:41:13,791 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441989.2245476}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441989.2245476}, "processing_timestamp": 1757616045.246165}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:13,796 - services.external_task_worker - INFO - Successfully completed task e4c22bde-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:13,796 - services.external_task_worker - INFO - Executing task e4c33d61-8f3e-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 14:41:13,797 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441989.3015547}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441989.3015547}, "processing_timestamp": 1757616045.2567084}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:13,802 - services.external_task_worker - INFO - Successfully completed task e4c33d61-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:13,802 - services.external_task_worker - INFO - Executing task e4c427d2-8f3e-11f0-b401-0242ac190005 for topic process-response
2025-09-11 14:41:13,802 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442233.5500994}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442233.5500994}, "processing_timestamp": 1757616045.1698198}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:13,807 - services.external_task_worker - INFO - Successfully completed task e4c427d2-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:13,808 - services.external_task_worker - INFO - Executing task e4c58773-8f3e-11f0-b401-0242ac190005 for topic process-response
2025-09-11 14:41:13,808 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442233.6298678}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442233.6298678}, "processing_timestamp": 1757616045.178801}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:13,814 - services.external_task_worker - INFO - Successfully completed task e4c58773-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:13,814 - services.external_task_worker - INFO - Executing task e4c698f4-8f3e-11f0-b401-0242ac190005 for topic process-response
2025-09-11 14:41:13,814 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442349.8473067}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442349.8473067}, "processing_timestamp": 1757616045.1886637}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:13,822 - services.external_task_worker - INFO - Successfully completed task e4c698f4-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:13,822 - services.external_task_worker - INFO - Executing task e4c78365-8f3e-11f0-b401-0242ac190005 for topic process-response
2025-09-11 14:41:13,822 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442349.9253445}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442349.9253445}, "processing_timestamp": 1757616045.1996756}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:13,828 - services.external_task_worker - INFO - Successfully completed task e4c78365-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:13,838 - services.external_task_worker - INFO - Received 10 tasks
2025-09-11 14:41:13,838 - services.external_task_worker - INFO - Executing task e4c9f476-8f3e-11f0-b401-0242ac190005 for topic process-response
2025-09-11 14:41:13,838 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441958.8406787}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441958.8406787}, "processing_timestamp": 1757616045.2085998}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:13,844 - services.external_task_worker - INFO - Successfully completed task e4c9f476-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:13,845 - services.external_task_worker - INFO - Executing task e4cb5317-8f3e-11f0-b401-0242ac190005 for topic process-response
2025-09-11 14:41:13,845 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441958.918532}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441958.918532}, "processing_timestamp": 1757616045.2170768}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:13,853 - services.external_task_worker - INFO - Successfully completed task e4cb5317-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:13,853 - services.external_task_worker - INFO - Executing task e4cc3d88-8f3e-11f0-b401-0242ac190005 for topic process-response
2025-09-11 14:41:13,853 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441126.6643121}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441126.6643121}, "processing_timestamp": 1757616045.228085}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:13,862 - services.external_task_worker - INFO - Successfully completed task e4cc3d88-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:13,862 - services.external_task_worker - INFO - Executing task e4cd27f9-8f3e-11f0-b401-0242ac190005 for topic process-response
2025-09-11 14:41:13,862 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441126.7384248}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441126.7384248}, "processing_timestamp": 1757616045.2371745}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:13,872 - services.external_task_worker - INFO - Successfully completed task e4cd27f9-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:13,872 - services.external_task_worker - INFO - Executing task e4ce126a-8f3e-11f0-b401-0242ac190005 for topic process-response
2025-09-11 14:41:13,872 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441989.2245476}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441989.2245476}, "processing_timestamp": 1757616045.246165}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:13,880 - services.external_task_worker - INFO - Successfully completed task e4ce126a-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:13,880 - services.external_task_worker - INFO - Executing task e4ced5cb-8f3e-11f0-b401-0242ac190005 for topic process-response
2025-09-11 14:41:13,880 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441989.3015547}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441989.3015547}, "processing_timestamp": 1757616045.2567084}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:13,887 - services.external_task_worker - INFO - Successfully completed task e4ced5cb-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:13,887 - services.external_task_worker - INFO - Executing task e4cfc041-8f3e-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 14:41:13,887 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442233.5500994}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442233.5500994}, "processing_timestamp": 1757616045.1698198}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:13,903 - services.external_task_worker - INFO - Successfully completed task e4cfc041-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:13,903 - services.external_task_worker - INFO - Executing task e4d0aab7-8f3e-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 14:41:13,903 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442233.6298678}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442233.6298678}, "processing_timestamp": 1757616045.178801}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:13,928 - services.external_task_worker - INFO - Successfully completed task e4d0aab7-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:13,928 - services.external_task_worker - INFO - Executing task e4d1bc3d-8f3e-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 14:41:13,929 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442349.8473067}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442349.8473067}, "processing_timestamp": 1757616045.1886637}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:13,947 - services.external_task_worker - INFO - Successfully completed task e4d1bc3d-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:13,947 - services.external_task_worker - INFO - Executing task e4d2cdc3-8f3e-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 14:41:13,947 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442349.9253445}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442349.9253445}, "processing_timestamp": 1757616045.1996756}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:13,965 - services.external_task_worker - INFO - Successfully completed task e4d2cdc3-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:13,983 - services.external_task_worker - INFO - Received 10 tasks
2025-09-11 14:41:13,983 - services.external_task_worker - INFO - Executing task d3d01884-8f3e-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 14:41:13,983 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757615704.6510375, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757615704.6510375, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616045.2811933}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:13,989 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 14:41:14,046 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 14:41:14,050 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 14:41:14,050 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 14:41:14,067 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 14:41:14,067 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 14:41:14,068 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 14:41:14,068 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 14:41:14,902 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 14:41:14,916 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 14:41:14,925 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 14:41:14,926 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-11 14:41:14,926 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'what is the required coverage area?...'
2025-09-11 14:41:14,945 - services.external_task_worker - INFO - Successfully completed task d3d01884-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:14,945 - services.external_task_worker - INFO - Executing task d3d2146f-8f3e-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 14:41:14,945 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442620.9949272}', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442620.9949272}, "processing_timestamp": 1757616045.2933977}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:14,950 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 14:41:15,006 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 14:41:15,011 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 14:41:15,011 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 14:41:15,030 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 14:41:15,030 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 14:41:15,031 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 14:41:15,031 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 14:41:15,753 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 14:41:15,764 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 14:41:15,772 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 14:41:15,773 - services.qdrant_service - INFO - Found 0 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-11 14:41:15,773 - services.qdrant_service - INFO - Found 0 similar chunks for query: 'test workflow query...'
2025-09-11 14:41:15,784 - services.external_task_worker - INFO - Successfully completed task d3d2146f-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:15,784 - services.external_task_worker - INFO - Executing task d3d3e94a-8f3e-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 14:41:15,784 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442621.069154}', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442621.069154}, "processing_timestamp": 1757616045.3046908}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:15,788 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 14:41:15,849 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 14:41:15,854 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 14:41:15,855 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 14:41:15,872 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 14:41:15,872 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 14:41:15,873 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 14:41:15,873 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 14:41:16,251 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 14:41:16,262 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 14:41:16,269 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 14:41:16,270 - services.qdrant_service - INFO - Found 0 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-11 14:41:16,270 - services.qdrant_service - INFO - Found 0 similar chunks for query: 'test workflow query...'
2025-09-11 14:41:16,281 - services.external_task_worker - INFO - Successfully completed task d3d3e94a-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:16,281 - services.external_task_worker - INFO - Executing task d3d5e535-8f3e-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 14:41:16,281 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757615765.3192582, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757615765.3192582, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616045.3175783}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:16,285 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 14:41:16,345 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 14:41:16,350 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 14:41:16,351 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 14:41:16,367 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 14:41:16,367 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 14:41:16,368 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 14:41:16,368 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 14:41:16,901 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 14:41:16,918 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 14:41:16,928 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 14:41:16,929 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-11 14:41:16,929 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'what is the required coverage area?...'
2025-09-11 14:41:16,947 - services.external_task_worker - INFO - Successfully completed task d3d5e535-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:16,948 - services.external_task_worker - INFO - Executing task e4d565e9-8f3e-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 14:41:16,948 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441958.8406787}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441958.8406787}, "processing_timestamp": 1757616045.2085998}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:16,966 - services.external_task_worker - INFO - Successfully completed task e4d565e9-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:16,966 - services.external_task_worker - INFO - Executing task e4d6776f-8f3e-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 14:41:16,966 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441958.918532}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441958.918532}, "processing_timestamp": 1757616045.2170768}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:16,987 - services.external_task_worker - INFO - Successfully completed task e4d6776f-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:16,987 - services.external_task_worker - INFO - Executing task e4d788f5-8f3e-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 14:41:16,987 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441126.6643121}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441126.6643121}, "processing_timestamp": 1757616045.228085}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:17,003 - services.external_task_worker - INFO - Successfully completed task e4d788f5-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:17,003 - services.external_task_worker - INFO - Executing task e4d95ccb-8f3e-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 14:41:17,003 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441126.7384248}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441126.7384248}, "processing_timestamp": 1757616045.2371745}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:17,021 - services.external_task_worker - INFO - Successfully completed task e4d95ccb-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:17,022 - services.external_task_worker - INFO - Executing task e4dabc71-8f3e-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 14:41:17,022 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441989.2245476}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441989.2245476}, "processing_timestamp": 1757616045.246165}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:17,044 - services.external_task_worker - INFO - Successfully completed task e4dabc71-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:17,044 - services.external_task_worker - INFO - Executing task e4dbcdf7-8f3e-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 14:41:17,044 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441989.3015547}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757441989.3015547}, "processing_timestamp": 1757616045.2567084}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:17,066 - services.external_task_worker - INFO - Successfully completed task e4dbcdf7-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:17,077 - services.external_task_worker - INFO - Received 6 tasks
2025-09-11 14:41:17,077 - services.external_task_worker - INFO - Executing task d67e9770-8f3e-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 14:41:17,077 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442987.7286308}', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442987.7286308}, "processing_timestamp": 1757616049.7808077}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:17,082 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 14:41:17,151 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 14:41:17,157 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 14:41:17,157 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 14:41:17,175 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 14:41:17,176 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 14:41:17,176 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 14:41:17,176 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 14:41:17,443 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 14:41:17,459 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 14:41:17,468 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 14:41:17,469 - services.qdrant_service - INFO - Found 0 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-11 14:41:17,469 - services.qdrant_service - INFO - Found 0 similar chunks for query: 'test workflow query...'
2025-09-11 14:41:17,488 - services.external_task_worker - INFO - Successfully completed task d67e9770-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:17,488 - services.external_task_worker - INFO - Executing task d67ff71b-8f3e-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 14:41:17,488 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442987.8075542}', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442987.8075542}, "processing_timestamp": 1757616049.7901845}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:17,493 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 14:41:17,544 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 14:41:17,550 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 14:41:17,550 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 14:41:17,572 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 14:41:17,572 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 14:41:17,573 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 14:41:17,574 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 14:41:17,871 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 14:41:17,884 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 14:41:17,892 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 14:41:17,892 - services.qdrant_service - INFO - Found 0 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-11 14:41:17,892 - services.qdrant_service - INFO - Found 0 similar chunks for query: 'test workflow query...'
2025-09-11 14:41:17,903 - services.external_task_worker - INFO - Successfully completed task d67ff71b-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:17,904 - services.external_task_worker - INFO - Executing task e57cf04b-8f3e-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 14:41:17,904 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757615704.6510375, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757615704.6510375, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616045.2811933}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:17,913 - services.external_task_worker - INFO - Successfully completed task e57cf04b-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:17,913 - services.external_task_worker - INFO - Executing task e5fd1cdf-8f3e-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 14:41:17,913 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442620.9949272}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442620.9949272}, "processing_timestamp": 1757616045.2933977}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:17,920 - services.external_task_worker - INFO - Successfully completed task e5fd1cdf-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:17,921 - services.external_task_worker - INFO - Executing task e648cbf3-8f3e-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 14:41:17,921 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442621.069154}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442621.069154}, "processing_timestamp": 1757616045.3046908}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:17,927 - services.external_task_worker - INFO - Successfully completed task e648cbf3-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:17,927 - services.external_task_worker - INFO - Executing task e6ae92b7-8f3e-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 14:41:17,927 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757615765.3192582, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757615765.3192582, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616045.3175783}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:17,934 - services.external_task_worker - INFO - Successfully completed task e6ae92b7-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:17,943 - services.external_task_worker - INFO - Received 6 tasks
2025-09-11 14:41:17,944 - services.external_task_worker - INFO - Executing task e7011efb-8f3e-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 14:41:17,944 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442987.7286308}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442987.7286308}, "processing_timestamp": 1757616049.7808077}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:17,952 - services.external_task_worker - INFO - Successfully completed task e7011efb-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:17,953 - services.external_task_worker - INFO - Executing task e74071ff-8f3e-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 14:41:17,953 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442987.8075542}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442987.8075542}, "processing_timestamp": 1757616049.7901845}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:17,962 - services.external_task_worker - INFO - Successfully completed task e74071ff-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:17,962 - services.external_task_worker - INFO - Executing task e741f8b6-8f3e-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 14:41:17,962 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757615704.6510375, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757615704.6510375, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616045.2811933}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:17,971 - services.external_task_worker - INFO - Successfully completed task e741f8b6-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:17,971 - services.external_task_worker - INFO - Executing task e743314d-8f3e-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 14:41:17,971 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442620.9949272}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442620.9949272}, "processing_timestamp": 1757616045.2933977}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:17,979 - services.external_task_worker - INFO - Successfully completed task e743314d-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:17,980 - services.external_task_worker - INFO - Executing task e74442d4-8f3e-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 14:41:17,980 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442621.069154}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442621.069154}, "processing_timestamp": 1757616045.3046908}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:17,988 - services.external_task_worker - INFO - Successfully completed task e74442d4-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:17,988 - services.external_task_worker - INFO - Executing task e745545b-8f3e-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 14:41:17,988 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757615765.3192582, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757615765.3192582, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616045.3175783}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:17,995 - services.external_task_worker - INFO - Successfully completed task e745545b-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:18,009 - services.external_task_worker - INFO - Received 6 tasks
2025-09-11 14:41:18,009 - services.external_task_worker - INFO - Executing task e747ec82-8f3e-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 14:41:18,009 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442987.7286308}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442987.7286308}, "processing_timestamp": 1757616049.7808077}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:18,017 - services.external_task_worker - INFO - Successfully completed task e747ec82-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:18,017 - services.external_task_worker - INFO - Executing task e7497339-8f3e-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 14:41:18,017 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442987.8075542}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442987.8075542}, "processing_timestamp": 1757616049.7901845}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:18,025 - services.external_task_worker - INFO - Successfully completed task e7497339-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:18,025 - services.external_task_worker - INFO - Executing task e74aabce-8f3e-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 14:41:18,025 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757615704.6510375, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757615704.6510375, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616045.2811933}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:18,033 - services.external_task_worker - INFO - Successfully completed task e74aabce-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:18,033 - services.external_task_worker - INFO - Executing task e74c3183-8f3e-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 14:41:18,033 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442620.9949272}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442620.9949272}, "processing_timestamp": 1757616045.2933977}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:18,040 - services.external_task_worker - INFO - Successfully completed task e74c3183-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:18,040 - services.external_task_worker - INFO - Executing task e74d6a18-8f3e-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 14:41:18,040 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442621.069154}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442621.069154}, "processing_timestamp": 1757616045.3046908}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:18,049 - services.external_task_worker - INFO - Successfully completed task e74d6a18-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:18,049 - services.external_task_worker - INFO - Executing task e74ea2ad-8f3e-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 14:41:18,049 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757615765.3192582, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757615765.3192582, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616045.3175783}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:18,059 - services.external_task_worker - INFO - Successfully completed task e74ea2ad-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:18,072 - services.external_task_worker - INFO - Received 6 tasks
2025-09-11 14:41:18,072 - services.external_task_worker - INFO - Executing task e751fe22-8f3e-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 14:41:18,072 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442987.7286308}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442987.7286308}, "processing_timestamp": 1757616049.7808077}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:18,080 - services.external_task_worker - INFO - Successfully completed task e751fe22-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:18,080 - services.external_task_worker - INFO - Executing task e7530fa7-8f3e-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 14:41:18,080 - services.external_task_worker - INFO - Task variables: {'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442987.8075542}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442987.8075542}, "processing_timestamp": 1757616049.7901845}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:18,089 - services.external_task_worker - INFO - Successfully completed task e7530fa7-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:18,089 - services.external_task_worker - INFO - Executing task e754483a-8f3e-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 14:41:18,089 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required coverage area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757615704.6510375, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757615704.6510375, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616045.2811933}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:18,097 - services.external_task_worker - INFO - Successfully completed task e754483a-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:18,097 - services.external_task_worker - INFO - Executing task e75559bd-8f3e-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 14:41:18,097 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442620.9949272}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442620.9949272}, "processing_timestamp": 1757616045.2933977}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:18,108 - services.external_task_worker - INFO - Successfully completed task e75559bd-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:18,108 - services.external_task_worker - INFO - Executing task e756b960-8f3e-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 14:41:18,108 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442621.069154}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442621.069154}, "processing_timestamp": 1757616045.3046908}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:18,116 - services.external_task_worker - INFO - Successfully completed task e756b960-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:18,116 - services.external_task_worker - INFO - Executing task e7584013-8f3e-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 14:41:18,116 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required coverage area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757615765.3192582, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757615765.3192582, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616045.3175783}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:18,125 - services.external_task_worker - INFO - Successfully completed task e7584013-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:18,150 - services.external_task_worker - INFO - Received 6 tasks
2025-09-11 14:41:18,151 - services.external_task_worker - INFO - Executing task e75b7476-8f3e-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 14:41:18,151 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442987.7286308}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442987.7286308}, "processing_timestamp": 1757616049.7808077}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:18,160 - services.external_task_worker - INFO - Successfully completed task e75b7476-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:18,160 - services.external_task_worker - INFO - Executing task e75cd419-8f3e-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 14:41:18,160 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442987.8075542}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442987.8075542}, "processing_timestamp": 1757616049.7901845}', 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:18,169 - services.external_task_worker - INFO - Successfully completed task e75cd419-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:18,169 - services.external_task_worker - INFO - Executing task e75e0caa-8f3e-11f0-b401-0242ac190005 for topic process-response
2025-09-11 14:41:18,169 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required coverage area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757615704.6510375, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757615704.6510375, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616045.2811933}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:18,176 - services.external_task_worker - INFO - Successfully completed task e75e0caa-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:18,177 - services.external_task_worker - INFO - Executing task e75fba6b-8f3e-11f0-b401-0242ac190005 for topic process-response
2025-09-11 14:41:18,177 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442620.9949272}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442620.9949272}, "processing_timestamp": 1757616045.2933977}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:18,185 - services.external_task_worker - INFO - Successfully completed task e75fba6b-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:18,185 - services.external_task_worker - INFO - Executing task e7611a0c-8f3e-11f0-b401-0242ac190005 for topic process-response
2025-09-11 14:41:18,185 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442621.069154}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442621.069154}, "processing_timestamp": 1757616045.3046908}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:18,195 - services.external_task_worker - INFO - Successfully completed task e7611a0c-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:18,195 - services.external_task_worker - INFO - Executing task e762519d-8f3e-11f0-b401-0242ac190005 for topic process-response
2025-09-11 14:41:18,195 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required coverage area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757615765.3192582, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757615765.3192582, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616045.3175783}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:18,203 - services.external_task_worker - INFO - Successfully completed task e762519d-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:18,213 - services.external_task_worker - INFO - Received 6 tasks
2025-09-11 14:41:18,214 - services.external_task_worker - INFO - Executing task e767a8de-8f3e-11f0-b401-0242ac190005 for topic process-response
2025-09-11 14:41:18,214 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442987.7286308}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442987.7286308}, "processing_timestamp": 1757616049.7808077}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:18,222 - services.external_task_worker - INFO - Successfully completed task e767a8de-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:18,222 - services.external_task_worker - INFO - Executing task e769087f-8f3e-11f0-b401-0242ac190005 for topic process-response
2025-09-11 14:41:18,223 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442987.8075542}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442987.8075542}, "processing_timestamp": 1757616049.7901845}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:18,230 - services.external_task_worker - INFO - Successfully completed task e769087f-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:18,230 - services.external_task_worker - INFO - Executing task e76a4115-8f3e-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 14:41:18,230 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required coverage area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757615704.6510375, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757615704.6510375, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616045.2811933}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:18,245 - services.external_task_worker - INFO - Successfully completed task e76a4115-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:18,245 - services.external_task_worker - INFO - Executing task e76b79ab-8f3e-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 14:41:18,245 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442620.9949272}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442620.9949272}, "processing_timestamp": 1757616045.2933977}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:18,262 - services.external_task_worker - INFO - Successfully completed task e76b79ab-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:18,263 - services.external_task_worker - INFO - Executing task e76d0061-8f3e-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 14:41:18,263 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442621.069154}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442621.069154}, "processing_timestamp": 1757616045.3046908}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:18,284 - services.external_task_worker - INFO - Successfully completed task e76d0061-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:18,284 - services.external_task_worker - INFO - Executing task e76e6007-8f3e-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 14:41:18,285 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required coverage area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757615765.3192582, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757615765.3192582, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616045.3175783}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:18,302 - services.external_task_worker - INFO - Successfully completed task e76e6007-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:18,313 - services.external_task_worker - INFO - Received 2 tasks
2025-09-11 14:41:18,314 - services.external_task_worker - INFO - Executing task e7711f3d-8f3e-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 14:41:18,314 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442987.7286308}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442987.7286308}, "processing_timestamp": 1757616049.7808077}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:18,332 - services.external_task_worker - INFO - Successfully completed task e7711f3d-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:18,332 - services.external_task_worker - INFO - Executing task e77257d3-8f3e-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 14:41:18,332 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test workflow query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test workflow query', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442987.8075542}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "test workflow query", "cleaned_query": "test workflow query", "key_terms": ["test", "workflow", "query"], "question_intent": [], "query_type": "informational", "domain_terms": ["workflow"], "word_count": 3, "char_count": 19, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 10, "similarity_threshold": 0.6, "timestamp": 1757442987.8075542}, "processing_timestamp": 1757616049.7901845}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "workflow", "query"], "secondary_terms": [], "search_boost_terms": ["workflow"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:41:18,355 - services.external_task_worker - INFO - Successfully completed task e77257d3-8f3e-11f0-b401-0242ac190005
2025-09-11 14:41:21,185 - __main__ - INFO - Received signal 15, shutting down worker...
2025-09-11 14:41:28,233 - services.external_task_worker - INFO - Starting external task worker: odras-worker-1757616088
2025-09-11 14:42:05,524 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:42:05,524 - services.external_task_worker - INFO - Executing task 0328c32c-8f3f-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 14:42:05,524 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616124.6938977, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 14:42:05,534 - services.external_task_worker - INFO - Successfully completed task 0328c32c-8f3f-11f0-b401-0242ac190005
2025-09-11 14:42:05,541 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:42:05,541 - services.external_task_worker - INFO - Executing task 03a434d7-8f3f-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 14:42:05,541 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616124.6938977, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616124.6938977, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616125.5253005}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:42:05,555 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 14:42:05,623 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 14:42:05,626 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 14:42:05,627 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 14:42:05,640 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 14:42:05,641 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 14:42:05,643 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 14:42:05,643 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 14:42:06,328 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 14:42:06,344 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 14:42:06,351 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 14:42:06,354 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-11 14:42:06,354 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'what is the required Coverage Area?...'
2025-09-11 14:42:06,370 - services.external_task_worker - INFO - Successfully completed task 03a434d7-8f3f-11f0-b401-0242ac190005
2025-09-11 14:42:06,376 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:42:06,376 - services.external_task_worker - INFO - Executing task 0424134b-8f3f-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 14:42:06,376 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616124.6938977, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616124.6938977, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616125.5253005}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:42:06,383 - services.external_task_worker - INFO - Successfully completed task 0424134b-8f3f-11f0-b401-0242ac190005
2025-09-11 14:42:06,388 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:42:06,388 - services.external_task_worker - INFO - Executing task 04260f32-8f3f-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 14:42:06,388 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616124.6938977, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616124.6938977, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616125.5253005}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:42:06,394 - services.external_task_worker - INFO - Successfully completed task 04260f32-8f3f-11f0-b401-0242ac190005
2025-09-11 14:42:06,399 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:42:06,399 - services.external_task_worker - INFO - Executing task 0427bcf7-8f3f-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 14:42:06,400 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616124.6938977, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616124.6938977, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616125.5253005}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:42:06,407 - services.external_task_worker - INFO - Successfully completed task 0427bcf7-8f3f-11f0-b401-0242ac190005
2025-09-11 14:42:06,414 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:42:06,414 - services.external_task_worker - INFO - Executing task 042991ca-8f3f-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 14:42:06,414 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616124.6938977, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616124.6938977, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616125.5253005}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:42:06,421 - services.external_task_worker - INFO - Successfully completed task 042991ca-8f3f-11f0-b401-0242ac190005
2025-09-11 14:42:06,427 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:42:06,427 - services.external_task_worker - INFO - Executing task 042bdbcb-8f3f-11f0-b401-0242ac190005 for topic process-response
2025-09-11 14:42:06,427 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616124.6938977, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616124.6938977, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616125.5253005}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:42:06,433 - services.external_task_worker - INFO - Successfully completed task 042bdbcb-8f3f-11f0-b401-0242ac190005
2025-09-11 14:42:06,440 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:42:06,440 - services.external_task_worker - INFO - Executing task 042db0a1-8f3f-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 14:42:06,440 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616124.6938977, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616124.6938977, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616125.5253005}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:42:06,460 - services.external_task_worker - INFO - Successfully completed task 042db0a1-8f3f-11f0-b401-0242ac190005
2025-09-11 14:43:05,880 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:43:05,880 - services.external_task_worker - INFO - Executing task 2782f2ab-8f3f-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 14:43:05,880 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616185.6886668, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 14:43:05,887 - services.external_task_worker - INFO - Successfully completed task 2782f2ab-8f3f-11f0-b401-0242ac190005
2025-09-11 14:43:05,892 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:43:05,892 - services.external_task_worker - INFO - Executing task 279da6b6-8f3f-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 14:43:05,892 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616185.6886668, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616185.6886668, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616185.8808064}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:43:05,896 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 14:43:05,942 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 14:43:05,948 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 14:43:05,948 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 14:43:05,959 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 14:43:05,959 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 14:43:05,960 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 14:43:05,960 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 14:43:06,781 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 14:43:06,789 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 14:43:06,797 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 14:43:06,798 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-11 14:43:06,798 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'what is the required Coverage Area?...'
2025-09-11 14:43:06,816 - services.external_task_worker - INFO - Successfully completed task 279da6b6-8f3f-11f0-b401-0242ac190005
2025-09-11 14:43:06,823 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:43:06,823 - services.external_task_worker - INFO - Executing task 282b66da-8f3f-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 14:43:06,823 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616185.6886668, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616185.6886668, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616185.8808064}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:43:06,830 - services.external_task_worker - INFO - Successfully completed task 282b66da-8f3f-11f0-b401-0242ac190005
2025-09-11 14:43:06,837 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:43:06,837 - services.external_task_worker - INFO - Executing task 282d89d1-8f3f-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 14:43:06,837 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616185.6886668, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616185.6886668, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616185.8808064}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:43:06,843 - services.external_task_worker - INFO - Successfully completed task 282d89d1-8f3f-11f0-b401-0242ac190005
2025-09-11 14:43:06,849 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:43:06,849 - services.external_task_worker - INFO - Executing task 282f85b6-8f3f-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 14:43:06,849 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616185.6886668, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616185.6886668, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616185.8808064}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:43:06,856 - services.external_task_worker - INFO - Successfully completed task 282f85b6-8f3f-11f0-b401-0242ac190005
2025-09-11 14:43:06,861 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:43:06,862 - services.external_task_worker - INFO - Executing task 28318199-8f3f-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 14:43:06,862 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616185.6886668, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616185.6886668, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616185.8808064}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:43:06,869 - services.external_task_worker - INFO - Successfully completed task 28318199-8f3f-11f0-b401-0242ac190005
2025-09-11 14:43:06,876 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:43:06,876 - services.external_task_worker - INFO - Executing task 28337d7a-8f3f-11f0-b401-0242ac190005 for topic process-response
2025-09-11 14:43:06,876 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616185.6886668, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616185.6886668, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616185.8808064}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:43:06,884 - services.external_task_worker - INFO - Successfully completed task 28337d7a-8f3f-11f0-b401-0242ac190005
2025-09-11 14:43:06,890 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:43:06,890 - services.external_task_worker - INFO - Executing task 2835c780-8f3f-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 14:43:06,890 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616185.6886668, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616185.6886668, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616185.8808064}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:43:06,900 - services.external_task_worker - INFO - Successfully completed task 2835c780-8f3f-11f0-b401-0242ac190005
2025-09-11 14:44:43,500 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:44:43,500 - services.external_task_worker - INFO - Executing task 61a7e4fe-8f3f-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 14:44:43,500 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616283.2365959, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 14:44:43,509 - services.external_task_worker - INFO - Successfully completed task 61a7e4fe-8f3f-11f0-b401-0242ac190005
2025-09-11 14:44:43,516 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:44:43,516 - services.external_task_worker - INFO - Executing task 61cd4769-8f3f-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 14:44:43,516 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616283.2365959, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616283.2365959, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616283.5007591}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:44:43,520 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 14:44:43,567 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 14:44:43,572 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 14:44:43,573 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 14:44:43,595 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 14:44:43,595 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 14:44:43,596 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 14:44:43,596 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 14:44:44,458 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 14:44:44,467 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 14:44:44,476 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 14:44:44,477 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-11 14:44:44,477 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'what is the required Coverage Area?...'
2025-09-11 14:44:44,494 - services.external_task_worker - INFO - Successfully completed task 61cd4769-8f3f-11f0-b401-0242ac190005
2025-09-11 14:44:44,501 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:44:44,501 - services.external_task_worker - INFO - Executing task 6263bb2d-8f3f-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 14:44:44,501 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616283.2365959, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616283.2365959, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616283.5007591}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:44:44,508 - services.external_task_worker - INFO - Successfully completed task 6263bb2d-8f3f-11f0-b401-0242ac190005
2025-09-11 14:44:44,516 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:44:44,516 - services.external_task_worker - INFO - Executing task 62660534-8f3f-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 14:44:44,516 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616283.2365959, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616283.2365959, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616283.5007591}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:44:44,523 - services.external_task_worker - INFO - Successfully completed task 62660534-8f3f-11f0-b401-0242ac190005
2025-09-11 14:44:44,528 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:44:44,528 - services.external_task_worker - INFO - Executing task 62684f39-8f3f-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 14:44:44,528 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616283.2365959, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616283.2365959, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616283.5007591}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:44:44,535 - services.external_task_worker - INFO - Successfully completed task 62684f39-8f3f-11f0-b401-0242ac190005
2025-09-11 14:44:44,541 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:44:44,541 - services.external_task_worker - INFO - Executing task 626a240c-8f3f-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 14:44:44,541 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616283.2365959, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616283.2365959, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616283.5007591}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:44:44,550 - services.external_task_worker - INFO - Successfully completed task 626a240c-8f3f-11f0-b401-0242ac190005
2025-09-11 14:44:44,559 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:44:44,559 - services.external_task_worker - INFO - Executing task 626c6e0d-8f3f-11f0-b401-0242ac190005 for topic process-response
2025-09-11 14:44:44,560 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616283.2365959, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616283.2365959, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616283.5007591}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:44:44,567 - services.external_task_worker - INFO - Successfully completed task 626c6e0d-8f3f-11f0-b401-0242ac190005
2025-09-11 14:44:44,574 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:44:44,574 - services.external_task_worker - INFO - Executing task 626edf23-8f3f-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 14:44:44,574 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616283.2365959, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616283.2365959, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616283.5007591}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:44:44,588 - services.external_task_worker - INFO - Successfully completed task 626edf23-8f3f-11f0-b401-0242ac190005
2025-09-11 14:45:27,873 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:45:27,874 - services.external_task_worker - INFO - Executing task 7bbcd66d-8f3f-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 14:45:27,874 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the safety features required for the navigation system?', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.5, "timestamp": 1757616326.9956, "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6", "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 14:45:27,879 - services.external_task_worker - INFO - Successfully completed task 7bbcd66d-8f3f-11f0-b401-0242ac190005
2025-09-11 14:45:27,885 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:45:27,885 - services.external_task_worker - INFO - Executing task 7c400f58-8f3f-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 14:45:27,885 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the safety features required for the navigation system?', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.5, "timestamp": 1757616326.9956, "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6", "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "What are the safety features required for the navigation system?", "cleaned_query": "What are the safety features required for the navigation system?", "key_terms": ["what", "safety", "features", "required", "navigation", "system"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["system"], "word_count": 10, "char_count": 64, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.5, "timestamp": 1757616326.9956, "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6", "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616327.8743312}', 'search_parameters': '{"primary_terms": ["what", "safety", "features", "required", "navigation"], "secondary_terms": ["system"], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:45:27,888 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 14:45:27,941 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 14:45:27,947 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 14:45:27,948 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 14:45:27,966 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 14:45:27,966 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 14:45:27,967 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 14:45:27,967 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 14:45:28,744 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 14:45:28,755 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 14:45:28,763 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 14:45:28,765 - services.qdrant_service - INFO - Found 12 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-11 14:45:28,765 - services.qdrant_service - INFO - Found 12 similar chunks for query: 'What are the safety features required for the navi...'
2025-09-11 14:45:28,855 - services.external_task_worker - INFO - Successfully completed task 7c400f58-8f3f-11f0-b401-0242ac190005
2025-09-11 14:45:28,863 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:45:28,863 - services.external_task_worker - INFO - Executing task 7cd4873c-8f3f-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 14:45:28,863 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the safety features required for the navigation system?', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.5, "timestamp": 1757616326.9956, "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6", "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "What are the safety features required for the navigation system?", "cleaned_query": "What are the safety features required for the navigation system?", "key_terms": ["what", "safety", "features", "required", "navigation", "system"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["system"], "word_count": 10, "char_count": 64, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.5, "timestamp": 1757616326.9956, "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6", "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616327.8743312}', 'search_parameters': '{"primary_terms": ["what", "safety", "features", "required", "navigation"], "secondary_terms": ["system"], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:45:28,872 - services.external_task_worker - INFO - Successfully completed task 7cd4873c-8f3f-11f0-b401-0242ac190005
2025-09-11 14:45:28,878 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:45:28,879 - services.external_task_worker - INFO - Executing task 7cd74673-8f3f-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 14:45:28,879 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the safety features required for the navigation system?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.5, "timestamp": 1757616326.9956, "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6", "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "What are the safety features required for the navigation system?", "cleaned_query": "What are the safety features required for the navigation system?", "key_terms": ["what", "safety", "features", "required", "navigation", "system"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["system"], "word_count": 10, "char_count": 64, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.5, "timestamp": 1757616326.9956, "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6", "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616327.8743312}', 'search_parameters': '{"primary_terms": ["what", "safety", "features", "required", "navigation"], "secondary_terms": ["system"], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:45:28,886 - services.external_task_worker - INFO - Successfully completed task 7cd74673-8f3f-11f0-b401-0242ac190005
2025-09-11 14:45:28,892 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:45:28,892 - services.external_task_worker - INFO - Executing task 7cd99078-8f3f-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 14:45:28,892 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the safety features required for the navigation system?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.5, "timestamp": 1757616326.9956, "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6", "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What are the safety features required for the navigation system?", "cleaned_query": "What are the safety features required for the navigation system?", "key_terms": ["what", "safety", "features", "required", "navigation", "system"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["system"], "word_count": 10, "char_count": 64, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.5, "timestamp": 1757616326.9956, "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6", "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616327.8743312}', 'search_parameters': '{"primary_terms": ["what", "safety", "features", "required", "navigation"], "secondary_terms": ["system"], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:45:28,905 - services.external_task_worker - INFO - Successfully completed task 7cd99078-8f3f-11f0-b401-0242ac190005
2025-09-11 14:45:28,912 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:45:28,913 - services.external_task_worker - INFO - Executing task 7cdb8c5b-8f3f-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 14:45:28,913 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: What are the safety features required for the navigation system?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What are the safety features required for the navigation system?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.5, "timestamp": 1757616326.9956, "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6", "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What are the safety features required for the navigation system?", "cleaned_query": "What are the safety features required for the navigation system?", "key_terms": ["what", "safety", "features", "required", "navigation", "system"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["system"], "word_count": 10, "char_count": 64, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.5, "timestamp": 1757616326.9956, "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6", "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616327.8743312}', 'search_parameters': '{"primary_terms": ["what", "safety", "features", "required", "navigation"], "secondary_terms": ["system"], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:45:28,920 - services.external_task_worker - INFO - Successfully completed task 7cdb8c5b-8f3f-11f0-b401-0242ac190005
2025-09-11 14:45:28,926 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:45:28,926 - services.external_task_worker - INFO - Executing task 7cdec0bc-8f3f-11f0-b401-0242ac190005 for topic process-response
2025-09-11 14:45:28,926 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: What are the safety features required for the navigation system?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What are the safety features required for the navigation system?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.5, "timestamp": 1757616326.9956, "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6", "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What are the safety features required for the navigation system?", "cleaned_query": "What are the safety features required for the navigation system?", "key_terms": ["what", "safety", "features", "required", "navigation", "system"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["system"], "word_count": 10, "char_count": 64, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.5, "timestamp": 1757616326.9956, "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6", "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616327.8743312}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "safety", "features", "required", "navigation"], "secondary_terms": ["system"], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:45:28,933 - services.external_task_worker - INFO - Successfully completed task 7cdec0bc-8f3f-11f0-b401-0242ac190005
2025-09-11 14:45:28,941 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:45:28,941 - services.external_task_worker - INFO - Executing task 7ce09592-8f3f-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 14:45:28,941 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: What are the safety features required for the navigation system?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What are the safety features required for the navigation system?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.5, "timestamp": 1757616326.9956, "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6", "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "What are the safety features required for the navigation system?", "cleaned_query": "What are the safety features required for the navigation system?", "key_terms": ["what", "safety", "features", "required", "navigation", "system"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["system"], "word_count": 10, "char_count": 64, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.5, "timestamp": 1757616326.9956, "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6", "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616327.8743312}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "safety", "features", "required", "navigation"], "secondary_terms": ["system"], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:45:28,953 - services.external_task_worker - INFO - Successfully completed task 7ce09592-8f3f-11f0-b401-0242ac190005
2025-09-11 14:45:44,053 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:45:44,053 - services.external_task_worker - INFO - Executing task 85c13ac0-8f3f-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 14:45:44,053 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616343.80522, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 14:45:44,058 - services.external_task_worker - INFO - Successfully completed task 85c13ac0-8f3f-11f0-b401-0242ac190005
2025-09-11 14:45:44,062 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:45:44,062 - services.external_task_worker - INFO - Executing task 85e4a15b-8f3f-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 14:45:44,062 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616343.80522, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616343.80522, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616344.053685}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:45:44,065 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 14:45:44,104 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 14:45:44,109 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 14:45:44,109 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 14:45:44,119 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 14:45:44,119 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 14:45:44,120 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 14:45:44,120 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 14:45:44,890 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 14:45:44,908 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 14:45:44,919 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 14:45:44,919 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-11 14:45:44,919 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'what is the required Coverage Area?...'
2025-09-11 14:45:44,935 - services.external_task_worker - INFO - Successfully completed task 85e4a15b-8f3f-11f0-b401-0242ac190005
2025-09-11 14:45:44,942 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:45:44,942 - services.external_task_worker - INFO - Executing task 866a733f-8f3f-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 14:45:44,942 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616343.80522, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616343.80522, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616344.053685}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:45:44,948 - services.external_task_worker - INFO - Successfully completed task 866a733f-8f3f-11f0-b401-0242ac190005
2025-09-11 14:45:44,953 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:45:44,953 - services.external_task_worker - INFO - Executing task 866c6e26-8f3f-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 14:45:44,953 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616343.80522, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616343.80522, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616344.053685}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:45:44,959 - services.external_task_worker - INFO - Successfully completed task 866c6e26-8f3f-11f0-b401-0242ac190005
2025-09-11 14:45:44,965 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:45:44,965 - services.external_task_worker - INFO - Executing task 866e1beb-8f3f-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 14:45:44,965 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616343.80522, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616343.80522, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616344.053685}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:45:44,971 - services.external_task_worker - INFO - Successfully completed task 866e1beb-8f3f-11f0-b401-0242ac190005
2025-09-11 14:45:44,977 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:45:44,978 - services.external_task_worker - INFO - Executing task 866ff0be-8f3f-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 14:45:44,978 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616343.80522, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616343.80522, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616344.053685}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:45:44,983 - services.external_task_worker - INFO - Successfully completed task 866ff0be-8f3f-11f0-b401-0242ac190005
2025-09-11 14:45:44,987 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:45:44,988 - services.external_task_worker - INFO - Executing task 8671c58f-8f3f-11f0-b401-0242ac190005 for topic process-response
2025-09-11 14:45:44,988 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616343.80522, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616343.80522, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616344.053685}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:45:44,993 - services.external_task_worker - INFO - Successfully completed task 8671c58f-8f3f-11f0-b401-0242ac190005
2025-09-11 14:45:44,998 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:45:44,998 - services.external_task_worker - INFO - Executing task 86734c45-8f3f-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 14:45:44,998 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616343.80522, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616343.80522, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616344.053685}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:45:45,008 - services.external_task_worker - INFO - Successfully completed task 86734c45-8f3f-11f0-b401-0242ac190005
2025-09-11 14:46:47,418 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:46:47,418 - services.external_task_worker - INFO - Executing task ab5d381b-8f3f-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 14:46:47,418 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616406.8995333, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 14:46:47,423 - services.external_task_worker - INFO - Successfully completed task ab5d381b-8f3f-11f0-b401-0242ac190005
2025-09-11 14:46:47,428 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:46:47,428 - services.external_task_worker - INFO - Executing task aba98376-8f3f-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 14:46:47,428 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616406.8995333, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616406.8995333, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616407.418664}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:46:47,432 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 14:46:47,474 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 14:46:47,478 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 14:46:47,479 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 14:46:47,532 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 14:46:47,532 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 14:46:47,533 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 14:46:47,533 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 14:46:48,268 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 14:46:48,280 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 14:46:48,289 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 14:46:48,289 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-11 14:46:48,289 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'what is the required Coverage Area?...'
2025-09-11 14:46:48,307 - services.external_task_worker - INFO - Successfully completed task aba98376-8f3f-11f0-b401-0242ac190005
2025-09-11 14:46:48,313 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:46:48,313 - services.external_task_worker - INFO - Executing task ac303fba-8f3f-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 14:46:48,314 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616406.8995333, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616406.8995333, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616407.418664}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:46:48,320 - services.external_task_worker - INFO - Successfully completed task ac303fba-8f3f-11f0-b401-0242ac190005
2025-09-11 14:46:48,325 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:46:48,325 - services.external_task_worker - INFO - Executing task ac323ba1-8f3f-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 14:46:48,325 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616406.8995333, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616406.8995333, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616407.418664}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:46:48,331 - services.external_task_worker - INFO - Successfully completed task ac323ba1-8f3f-11f0-b401-0242ac190005
2025-09-11 14:46:48,338 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:46:48,338 - services.external_task_worker - INFO - Executing task ac33e966-8f3f-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 14:46:48,338 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616406.8995333, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616406.8995333, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616407.418664}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:46:48,344 - services.external_task_worker - INFO - Successfully completed task ac33e966-8f3f-11f0-b401-0242ac190005
2025-09-11 14:46:48,349 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:46:48,349 - services.external_task_worker - INFO - Executing task ac360c59-8f3f-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 14:46:48,349 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616406.8995333, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616406.8995333, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616407.418664}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:46:48,354 - services.external_task_worker - INFO - Successfully completed task ac360c59-8f3f-11f0-b401-0242ac190005
2025-09-11 14:46:48,364 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:46:48,364 - services.external_task_worker - INFO - Executing task ac37920a-8f3f-11f0-b401-0242ac190005 for topic process-response
2025-09-11 14:46:48,365 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616406.8995333, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616406.8995333, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616407.418664}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:46:48,374 - services.external_task_worker - INFO - Successfully completed task ac37920a-8f3f-11f0-b401-0242ac190005
2025-09-11 14:46:48,381 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:46:48,381 - services.external_task_worker - INFO - Executing task ac3a5140-8f3f-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 14:46:48,381 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616406.8995333, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616406.8995333, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616407.418664}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:46:48,393 - services.external_task_worker - INFO - Successfully completed task ac3a5140-8f3f-11f0-b401-0242ac190005
2025-09-11 14:47:26,677 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:47:26,677 - services.external_task_worker - INFO - Executing task c2ccf94a-8f3f-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 14:47:26,677 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the GPS requirements for the navigation system?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616446.21209, "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6", "response_style": "comprehensive"}'}
2025-09-11 14:47:26,687 - services.external_task_worker - INFO - Successfully completed task c2ccf94a-8f3f-11f0-b401-0242ac190005
2025-09-11 14:47:26,694 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:47:26,694 - services.external_task_worker - INFO - Executing task c31043f5-8f3f-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 14:47:26,694 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the GPS requirements for the navigation system?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616446.21209, "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6", "response_style": "comprehensive"}', 'processed_query': '{"original_query": "What are the GPS requirements for the navigation system?", "cleaned_query": "What are the GPS requirements for the navigation system?", "key_terms": ["what", "gps", "requirements", "navigation", "system"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements", "system"], "word_count": 9, "char_count": 56, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616446.21209, "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6", "response_style": "comprehensive"}, "processing_timestamp": 1757616446.6777}', 'search_parameters': '{"primary_terms": ["what", "gps", "requirements", "navigation", "system"], "secondary_terms": [], "search_boost_terms": ["requirements", "system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:47:26,698 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 14:47:26,745 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 14:47:26,751 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 14:47:26,751 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 14:47:26,769 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 14:47:26,769 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 14:47:26,770 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 14:47:26,770 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 14:47:27,945 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 14:47:27,956 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 14:47:27,969 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 14:47:27,970 - services.qdrant_service - INFO - Found 9 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-11 14:47:27,970 - services.qdrant_service - INFO - Found 9 similar chunks for query: 'What are the GPS requirements for the navigation s...'
2025-09-11 14:47:28,065 - services.external_task_worker - INFO - Successfully completed task c31043f5-8f3f-11f0-b401-0242ac190005
2025-09-11 14:47:28,074 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:47:28,075 - services.external_task_worker - INFO - Executing task c3e28829-8f3f-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 14:47:28,075 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the GPS requirements for the navigation system?', 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616446.21209, "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6", "response_style": "comprehensive"}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "What are the GPS requirements for the navigation system?", "cleaned_query": "What are the GPS requirements for the navigation system?", "key_terms": ["what", "gps", "requirements", "navigation", "system"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements", "system"], "word_count": 9, "char_count": 56, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616446.21209, "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6", "response_style": "comprehensive"}, "processing_timestamp": 1757616446.6777}', 'search_parameters': '{"primary_terms": ["what", "gps", "requirements", "navigation", "system"], "secondary_terms": [], "search_boost_terms": ["requirements", "system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:47:28,087 - services.external_task_worker - INFO - Successfully completed task c3e28829-8f3f-11f0-b401-0242ac190005
2025-09-11 14:47:28,097 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:47:28,097 - services.external_task_worker - INFO - Executing task c3e5e3a0-8f3f-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 14:47:28,097 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the GPS requirements for the navigation system?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616446.21209, "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6", "response_style": "comprehensive"}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "What are the GPS requirements for the navigation system?", "cleaned_query": "What are the GPS requirements for the navigation system?", "key_terms": ["what", "gps", "requirements", "navigation", "system"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements", "system"], "word_count": 9, "char_count": 56, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616446.21209, "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6", "response_style": "comprehensive"}, "processing_timestamp": 1757616446.6777}', 'search_parameters': '{"primary_terms": ["what", "gps", "requirements", "navigation", "system"], "secondary_terms": [], "search_boost_terms": ["requirements", "system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:47:28,107 - services.external_task_worker - INFO - Successfully completed task c3e5e3a0-8f3f-11f0-b401-0242ac190005
2025-09-11 14:47:28,117 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:47:28,117 - services.external_task_worker - INFO - Executing task c3e91805-8f3f-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 14:47:28,117 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the GPS requirements for the navigation system?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616446.21209, "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6", "response_style": "comprehensive"}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What are the GPS requirements for the navigation system?", "cleaned_query": "What are the GPS requirements for the navigation system?", "key_terms": ["what", "gps", "requirements", "navigation", "system"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements", "system"], "word_count": 9, "char_count": 56, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616446.21209, "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6", "response_style": "comprehensive"}, "processing_timestamp": 1757616446.6777}', 'search_parameters': '{"primary_terms": ["what", "gps", "requirements", "navigation", "system"], "secondary_terms": [], "search_boost_terms": ["requirements", "system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:47:28,130 - services.external_task_worker - INFO - Successfully completed task c3e91805-8f3f-11f0-b401-0242ac190005
2025-09-11 14:47:28,139 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:47:28,139 - services.external_task_worker - INFO - Executing task c3ec7378-8f3f-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 14:47:28,139 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: What are the GPS requirements for the navigation system?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What are the GPS requirements for the navigation system?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616446.21209, "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6", "response_style": "comprehensive"}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What are the GPS requirements for the navigation system?", "cleaned_query": "What are the GPS requirements for the navigation system?", "key_terms": ["what", "gps", "requirements", "navigation", "system"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements", "system"], "word_count": 9, "char_count": 56, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616446.21209, "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6", "response_style": "comprehensive"}, "processing_timestamp": 1757616446.6777}', 'search_parameters': '{"primary_terms": ["what", "gps", "requirements", "navigation", "system"], "secondary_terms": [], "search_boost_terms": ["requirements", "system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:47:28,148 - services.external_task_worker - INFO - Successfully completed task c3ec7378-8f3f-11f0-b401-0242ac190005
2025-09-11 14:47:28,156 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:47:28,157 - services.external_task_worker - INFO - Executing task c3ef59b9-8f3f-11f0-b401-0242ac190005 for topic process-response
2025-09-11 14:47:28,157 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: What are the GPS requirements for the navigation system?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What are the GPS requirements for the navigation system?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616446.21209, "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6", "response_style": "comprehensive"}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What are the GPS requirements for the navigation system?", "cleaned_query": "What are the GPS requirements for the navigation system?", "key_terms": ["what", "gps", "requirements", "navigation", "system"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements", "system"], "word_count": 9, "char_count": 56, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616446.21209, "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6", "response_style": "comprehensive"}, "processing_timestamp": 1757616446.6777}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "gps", "requirements", "navigation", "system"], "secondary_terms": [], "search_boost_terms": ["requirements", "system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:47:28,166 - services.external_task_worker - INFO - Successfully completed task c3ef59b9-8f3f-11f0-b401-0242ac190005
2025-09-11 14:47:28,174 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:47:28,174 - services.external_task_worker - INFO - Executing task c3f1f1df-8f3f-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 14:47:28,174 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: What are the GPS requirements for the navigation system?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What are the GPS requirements for the navigation system?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616446.21209, "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6", "response_style": "comprehensive"}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "What are the GPS requirements for the navigation system?", "cleaned_query": "What are the GPS requirements for the navigation system?", "key_terms": ["what", "gps", "requirements", "navigation", "system"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements", "system"], "word_count": 9, "char_count": 56, "query_metadata": {"user_id": "api_user", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616446.21209, "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6", "response_style": "comprehensive"}, "processing_timestamp": 1757616446.6777}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "gps", "requirements", "navigation", "system"], "secondary_terms": [], "search_boost_terms": ["requirements", "system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:47:28,196 - services.external_task_worker - INFO - Successfully completed task c3f1f1df-8f3f-11f0-b401-0242ac190005
2025-09-11 14:47:48,340 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:47:48,340 - services.external_task_worker - INFO - Executing task cfdf88b9-8f3f-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 14:47:48,340 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616468.1537535, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 14:47:48,347 - services.external_task_worker - INFO - Successfully completed task cfdf88b9-8f3f-11f0-b401-0242ac190005
2025-09-11 14:47:48,352 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:47:48,352 - services.external_task_worker - INFO - Executing task cff97874-8f3f-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 14:47:48,353 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616468.1537535, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616468.1537535, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616468.340326}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:47:48,356 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 14:47:48,397 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 14:47:48,401 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 14:47:48,402 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 14:47:48,416 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 14:47:48,416 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 14:47:48,417 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 14:47:48,417 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 14:47:49,170 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 14:47:49,182 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 14:47:49,190 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 14:47:49,190 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-11 14:47:49,190 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'what is the required Coverage Area?...'
2025-09-11 14:47:49,208 - services.external_task_worker - INFO - Successfully completed task cff97874-8f3f-11f0-b401-0242ac190005
2025-09-11 14:47:49,214 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:47:49,215 - services.external_task_worker - INFO - Executing task d07cb248-8f3f-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 14:47:49,215 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616468.1537535, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616468.1537535, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616468.340326}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:47:49,222 - services.external_task_worker - INFO - Successfully completed task d07cb248-8f3f-11f0-b401-0242ac190005
2025-09-11 14:47:49,228 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:47:49,228 - services.external_task_worker - INFO - Executing task d07efc4f-8f3f-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 14:47:49,228 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616468.1537535, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616468.1537535, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616468.340326}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:47:49,237 - services.external_task_worker - INFO - Successfully completed task d07efc4f-8f3f-11f0-b401-0242ac190005
2025-09-11 14:47:49,244 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:47:49,244 - services.external_task_worker - INFO - Executing task d0814654-8f3f-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 14:47:49,244 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616468.1537535, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616468.1537535, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616468.340326}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:47:49,251 - services.external_task_worker - INFO - Successfully completed task d0814654-8f3f-11f0-b401-0242ac190005
2025-09-11 14:47:49,259 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:47:49,259 - services.external_task_worker - INFO - Executing task d0839057-8f3f-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 14:47:49,259 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616468.1537535, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616468.1537535, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616468.340326}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:47:49,268 - services.external_task_worker - INFO - Successfully completed task d0839057-8f3f-11f0-b401-0242ac190005
2025-09-11 14:47:49,274 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:47:49,275 - services.external_task_worker - INFO - Executing task d0860168-8f3f-11f0-b401-0242ac190005 for topic process-response
2025-09-11 14:47:49,275 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616468.1537535, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616468.1537535, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616468.340326}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:47:49,282 - services.external_task_worker - INFO - Successfully completed task d0860168-8f3f-11f0-b401-0242ac190005
2025-09-11 14:47:49,288 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:47:49,288 - services.external_task_worker - INFO - Executing task d0884b6e-8f3f-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 14:47:49,288 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616468.1537535, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616468.1537535, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616468.340326}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:47:49,301 - services.external_task_worker - INFO - Successfully completed task d0884b6e-8f3f-11f0-b401-0242ac190005
2025-09-11 14:47:50,317 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:47:50,317 - services.external_task_worker - INFO - Executing task d10f2ec8-8f3f-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 14:47:50,317 - services.external_task_worker - INFO - Task variables: {'user_query': 'test query', 'query_metadata': '{}'}
2025-09-11 14:47:50,339 - services.external_task_worker - INFO - Successfully completed task d10f2ec8-8f3f-11f0-b401-0242ac190005
2025-09-11 14:47:50,360 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:47:50,360 - services.external_task_worker - INFO - Executing task d1294693-8f3f-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 14:47:50,361 - services.external_task_worker - INFO - Task variables: {'user_query': 'test query', 'query_metadata': '{}', 'processed_query': '{"original_query": "test query", "cleaned_query": "test query", "key_terms": ["test", "query"], "question_intent": [], "query_type": "informational", "domain_terms": [], "word_count": 2, "char_count": 10, "query_metadata": {}, "processing_timestamp": 1757616470.317807}', 'search_parameters': '{"primary_terms": ["test", "query"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:47:50,364 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 14:47:50,413 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 14:47:50,420 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 14:47:50,420 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 14:47:50,436 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 14:47:50,436 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 14:47:50,437 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 14:47:50,437 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 14:47:51,226 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 14:47:51,248 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 14:47:51,258 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 14:47:51,258 - services.qdrant_service - INFO - Found 0 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-11 14:47:51,259 - services.qdrant_service - INFO - Found 0 similar chunks for query: 'test query...'
2025-09-11 14:47:51,269 - services.external_task_worker - INFO - Successfully completed task d1294693-8f3f-11f0-b401-0242ac190005
2025-09-11 14:47:51,277 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:47:51,277 - services.external_task_worker - INFO - Executing task d1b755d7-8f3f-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 14:47:51,277 - services.external_task_worker - INFO - Task variables: {'user_query': 'test query', 'query_metadata': '{}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test query", "cleaned_query": "test query", "key_terms": ["test", "query"], "question_intent": [], "query_type": "informational", "domain_terms": [], "word_count": 2, "char_count": 10, "query_metadata": {}, "processing_timestamp": 1757616470.317807}', 'search_parameters': '{"primary_terms": ["test", "query"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:47:51,285 - services.external_task_worker - INFO - Successfully completed task d1b755d7-8f3f-11f0-b401-0242ac190005
2025-09-11 14:47:51,290 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:47:51,290 - services.external_task_worker - INFO - Executing task d1b9c6ee-8f3f-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 14:47:51,291 - services.external_task_worker - INFO - Task variables: {'user_query': 'test query', 'context_quality_score': 0.0, 'query_metadata': '{}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test query", "cleaned_query": "test query", "key_terms": ["test", "query"], "question_intent": [], "query_type": "informational", "domain_terms": [], "word_count": 2, "char_count": 10, "query_metadata": {}, "processing_timestamp": 1757616470.317807}', 'search_parameters': '{"primary_terms": ["test", "query"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:47:51,297 - services.external_task_worker - INFO - Successfully completed task d1b9c6ee-8f3f-11f0-b401-0242ac190005
2025-09-11 14:47:51,304 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:47:51,304 - services.external_task_worker - INFO - Executing task d1bbc2d3-8f3f-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 14:47:51,304 - services.external_task_worker - INFO - Task variables: {'user_query': 'test query', 'context_quality_score': 0.0, 'query_metadata': '{}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test query", "cleaned_query": "test query", "key_terms": ["test", "query"], "question_intent": [], "query_type": "informational", "domain_terms": [], "word_count": 2, "char_count": 10, "query_metadata": {}, "processing_timestamp": 1757616470.317807}', 'search_parameters': '{"primary_terms": ["test", "query"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:47:51,312 - services.external_task_worker - INFO - Successfully completed task d1bbc2d3-8f3f-11f0-b401-0242ac190005
2025-09-11 14:47:51,318 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:47:51,318 - services.external_task_worker - INFO - Executing task d1be0cd6-8f3f-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 14:47:51,318 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test query', 'context_quality_score': 0.0, 'query_metadata': '{}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test query", "cleaned_query": "test query", "key_terms": ["test", "query"], "question_intent": [], "query_type": "informational", "domain_terms": [], "word_count": 2, "char_count": 10, "query_metadata": {}, "processing_timestamp": 1757616470.317807}', 'search_parameters': '{"primary_terms": ["test", "query"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:47:51,326 - services.external_task_worker - INFO - Successfully completed task d1be0cd6-8f3f-11f0-b401-0242ac190005
2025-09-11 14:47:51,332 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:47:51,333 - services.external_task_worker - INFO - Executing task d1c007b7-8f3f-11f0-b401-0242ac190005 for topic process-response
2025-09-11 14:47:51,333 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test query', 'context_quality_score': 0.0, 'query_metadata': '{}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test query", "cleaned_query": "test query", "key_terms": ["test", "query"], "question_intent": [], "query_type": "informational", "domain_terms": [], "word_count": 2, "char_count": 10, "query_metadata": {}, "processing_timestamp": 1757616470.317807}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "query"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:47:51,339 - services.external_task_worker - INFO - Successfully completed task d1c007b7-8f3f-11f0-b401-0242ac190005
2025-09-11 14:47:51,346 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:47:51,346 - services.external_task_worker - INFO - Executing task d1c22aad-8f3f-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 14:47:51,346 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test query\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test query', 'context_quality_score': 0.0, 'query_metadata': '{}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "test query", "cleaned_query": "test query", "key_terms": ["test", "query"], "question_intent": [], "query_type": "informational", "domain_terms": [], "word_count": 2, "char_count": 10, "query_metadata": {}, "processing_timestamp": 1757616470.317807}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "query"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:47:51,360 - services.external_task_worker - INFO - Successfully completed task d1c22aad-8f3f-11f0-b401-0242ac190005
2025-09-11 14:48:19,609 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:48:19,610 - services.external_task_worker - INFO - Executing task e23570b7-8f3f-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 14:48:19,610 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the GPS requirements for the navigation system?', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.5, "timestamp": 1757616498.9127336, "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6", "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 14:48:19,616 - services.external_task_worker - INFO - Successfully completed task e23570b7-8f3f-11f0-b401-0242ac190005
2025-09-11 14:48:19,621 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:48:19,622 - services.external_task_worker - INFO - Executing task e29ce532-8f3f-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 14:48:19,622 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the GPS requirements for the navigation system?', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.5, "timestamp": 1757616498.9127336, "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6", "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "What are the GPS requirements for the navigation system?", "cleaned_query": "What are the GPS requirements for the navigation system?", "key_terms": ["what", "gps", "requirements", "navigation", "system"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements", "system"], "word_count": 9, "char_count": 56, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.5, "timestamp": 1757616498.9127336, "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6", "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616499.6104646}', 'search_parameters': '{"primary_terms": ["what", "gps", "requirements", "navigation", "system"], "secondary_terms": [], "search_boost_terms": ["requirements", "system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:48:19,625 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 14:48:19,667 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 14:48:19,671 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 14:48:19,671 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 14:48:19,684 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 14:48:19,684 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 14:48:19,685 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 14:48:19,685 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 14:48:20,648 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 14:48:20,678 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 14:48:20,689 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 14:48:20,690 - services.qdrant_service - INFO - Found 9 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-11 14:48:20,690 - services.qdrant_service - INFO - Found 9 similar chunks for query: 'What are the GPS requirements for the navigation s...'
2025-09-11 14:48:20,758 - services.external_task_worker - INFO - Successfully completed task e29ce532-8f3f-11f0-b401-0242ac190005
2025-09-11 14:48:20,764 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:48:20,764 - services.external_task_worker - INFO - Executing task e34b26a6-8f3f-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 14:48:20,764 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the GPS requirements for the navigation system?', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.5, "timestamp": 1757616498.9127336, "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6", "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "What are the GPS requirements for the navigation system?", "cleaned_query": "What are the GPS requirements for the navigation system?", "key_terms": ["what", "gps", "requirements", "navigation", "system"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements", "system"], "word_count": 9, "char_count": 56, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.5, "timestamp": 1757616498.9127336, "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6", "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616499.6104646}', 'search_parameters': '{"primary_terms": ["what", "gps", "requirements", "navigation", "system"], "secondary_terms": [], "search_boost_terms": ["requirements", "system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:48:20,771 - services.external_task_worker - INFO - Successfully completed task e34b26a6-8f3f-11f0-b401-0242ac190005
2025-09-11 14:48:20,777 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:48:20,777 - services.external_task_worker - INFO - Executing task e34cfb7d-8f3f-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 14:48:20,777 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the GPS requirements for the navigation system?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.5, "timestamp": 1757616498.9127336, "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6", "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "What are the GPS requirements for the navigation system?", "cleaned_query": "What are the GPS requirements for the navigation system?", "key_terms": ["what", "gps", "requirements", "navigation", "system"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements", "system"], "word_count": 9, "char_count": 56, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.5, "timestamp": 1757616498.9127336, "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6", "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616499.6104646}', 'search_parameters': '{"primary_terms": ["what", "gps", "requirements", "navigation", "system"], "secondary_terms": [], "search_boost_terms": ["requirements", "system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:48:20,782 - services.external_task_worker - INFO - Successfully completed task e34cfb7d-8f3f-11f0-b401-0242ac190005
2025-09-11 14:48:20,787 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:48:20,787 - services.external_task_worker - INFO - Executing task e34ef762-8f3f-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 14:48:20,787 - services.external_task_worker - INFO - Task variables: {'user_query': 'What are the GPS requirements for the navigation system?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.5, "timestamp": 1757616498.9127336, "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6", "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What are the GPS requirements for the navigation system?", "cleaned_query": "What are the GPS requirements for the navigation system?", "key_terms": ["what", "gps", "requirements", "navigation", "system"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements", "system"], "word_count": 9, "char_count": 56, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.5, "timestamp": 1757616498.9127336, "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6", "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616499.6104646}', 'search_parameters': '{"primary_terms": ["what", "gps", "requirements", "navigation", "system"], "secondary_terms": [], "search_boost_terms": ["requirements", "system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:48:20,792 - services.external_task_worker - INFO - Successfully completed task e34ef762-8f3f-11f0-b401-0242ac190005
2025-09-11 14:48:20,796 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:48:20,796 - services.external_task_worker - INFO - Executing task e3507e15-8f3f-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 14:48:20,796 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: What are the GPS requirements for the navigation system?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What are the GPS requirements for the navigation system?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.5, "timestamp": 1757616498.9127336, "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6", "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What are the GPS requirements for the navigation system?", "cleaned_query": "What are the GPS requirements for the navigation system?", "key_terms": ["what", "gps", "requirements", "navigation", "system"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements", "system"], "word_count": 9, "char_count": 56, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.5, "timestamp": 1757616498.9127336, "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6", "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616499.6104646}', 'search_parameters': '{"primary_terms": ["what", "gps", "requirements", "navigation", "system"], "secondary_terms": [], "search_boost_terms": ["requirements", "system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:48:20,800 - services.external_task_worker - INFO - Successfully completed task e3507e15-8f3f-11f0-b401-0242ac190005
2025-09-11 14:48:20,805 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:48:20,805 - services.external_task_worker - INFO - Executing task e351b6a6-8f3f-11f0-b401-0242ac190005 for topic process-response
2025-09-11 14:48:20,805 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: What are the GPS requirements for the navigation system?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What are the GPS requirements for the navigation system?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.5, "timestamp": 1757616498.9127336, "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6", "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "What are the GPS requirements for the navigation system?", "cleaned_query": "What are the GPS requirements for the navigation system?", "key_terms": ["what", "gps", "requirements", "navigation", "system"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements", "system"], "word_count": 9, "char_count": 56, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.5, "timestamp": 1757616498.9127336, "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6", "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616499.6104646}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "gps", "requirements", "navigation", "system"], "secondary_terms": [], "search_boost_terms": ["requirements", "system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:48:20,810 - services.external_task_worker - INFO - Successfully completed task e351b6a6-8f3f-11f0-b401-0242ac190005
2025-09-11 14:48:20,815 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:48:20,815 - services.external_task_worker - INFO - Executing task e3533d5c-8f3f-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 14:48:20,815 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: What are the GPS requirements for the navigation system?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'What are the GPS requirements for the navigation system?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.5, "timestamp": 1757616498.9127336, "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6", "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "What are the GPS requirements for the navigation system?", "cleaned_query": "What are the GPS requirements for the navigation system?", "key_terms": ["what", "gps", "requirements", "navigation", "system"], "question_intent": ["what"], "query_type": "definition", "domain_terms": ["requirements", "system"], "word_count": 9, "char_count": 56, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.5, "timestamp": 1757616498.9127336, "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6", "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616499.6104646}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "gps", "requirements", "navigation", "system"], "secondary_terms": [], "search_boost_terms": ["requirements", "system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:48:20,825 - services.external_task_worker - INFO - Successfully completed task e3533d5c-8f3f-11f0-b401-0242ac190005
2025-09-11 14:49:32,216 - urllib3.connectionpool - WARNING - Retrying (Retry(total=2, connect=None, read=None, redirect=None, status=None)) after connection broken by 'ConnectTimeoutError(<urllib3.connection.HTTPConnection object at 0x7fc287063250>, 'Connection to localhost timed out. (connect timeout=30)')': /engine-rest/external-task/fetchAndLock
2025-09-11 14:49:42,281 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:49:42,282 - services.external_task_worker - INFO - Executing task 13b67a46-8f40-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 14:49:42,282 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616581.969486, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 14:49:42,287 - services.external_task_worker - INFO - Successfully completed task 13b67a46-8f40-11f0-b401-0242ac190005
2025-09-11 14:49:42,291 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:49:42,291 - services.external_task_worker - INFO - Executing task 13e3a4e1-8f40-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 14:49:42,291 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616581.969486, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616581.969486, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616582.2823286}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:49:42,295 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 14:49:42,335 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 14:49:42,338 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 14:49:42,339 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 14:49:42,350 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 14:49:42,350 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 14:49:42,351 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 14:49:42,351 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 14:49:43,415 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 14:49:43,423 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 14:49:43,434 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 14:49:43,435 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-11 14:49:43,435 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'what is the required Coverage Area?...'
2025-09-11 14:49:43,451 - services.external_task_worker - INFO - Successfully completed task 13e3a4e1-8f40-11f0-b401-0242ac190005
2025-09-11 14:49:43,456 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:49:43,456 - services.external_task_worker - INFO - Executing task 149519a5-8f40-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 14:49:43,456 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616581.969486, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616581.969486, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616582.2823286}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:49:43,462 - services.external_task_worker - INFO - Successfully completed task 149519a5-8f40-11f0-b401-0242ac190005
2025-09-11 14:49:43,467 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:49:43,467 - services.external_task_worker - INFO - Executing task 1496c76c-8f40-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 14:49:43,467 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616581.969486, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616581.969486, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616582.2823286}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:49:43,473 - services.external_task_worker - INFO - Successfully completed task 1496c76c-8f40-11f0-b401-0242ac190005
2025-09-11 14:49:43,479 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:49:43,479 - services.external_task_worker - INFO - Executing task 14987531-8f40-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 14:49:43,479 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616581.969486, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616581.969486, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616582.2823286}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:49:43,485 - services.external_task_worker - INFO - Successfully completed task 14987531-8f40-11f0-b401-0242ac190005
2025-09-11 14:49:43,491 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:49:43,491 - services.external_task_worker - INFO - Executing task 149a4a04-8f40-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 14:49:43,491 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616581.969486, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616581.969486, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616582.2823286}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:49:43,497 - services.external_task_worker - INFO - Successfully completed task 149a4a04-8f40-11f0-b401-0242ac190005
2025-09-11 14:49:43,502 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:49:43,503 - services.external_task_worker - INFO - Executing task 149c1ed5-8f40-11f0-b401-0242ac190005 for topic process-response
2025-09-11 14:49:43,503 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616581.969486, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616581.969486, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616582.2823286}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:49:43,508 - services.external_task_worker - INFO - Successfully completed task 149c1ed5-8f40-11f0-b401-0242ac190005
2025-09-11 14:49:43,513 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:49:43,513 - services.external_task_worker - INFO - Executing task 149dcc9b-8f40-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 14:49:43,513 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616581.969486, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616581.969486, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616582.2823286}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:49:43,522 - services.external_task_worker - INFO - Successfully completed task 149dcc9b-8f40-11f0-b401-0242ac190005
2025-09-11 14:50:43,953 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:50:43,953 - services.external_task_worker - INFO - Executing task 3828ebb5-8f40-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 14:50:43,953 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616643.1134455, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 14:50:43,959 - services.external_task_worker - INFO - Successfully completed task 3828ebb5-8f40-11f0-b401-0242ac190005
2025-09-11 14:50:43,963 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:50:43,964 - services.external_task_worker - INFO - Executing task 38a5e400-8f40-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 14:50:43,964 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616643.1134455, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616643.1134455, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616643.9538481}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:50:43,967 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 14:50:44,014 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 14:50:44,019 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 14:50:44,020 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 14:50:44,035 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 14:50:44,036 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 14:50:44,036 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 14:50:44,036 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 14:50:44,829 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 14:50:44,843 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 14:50:44,852 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 14:50:44,853 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-11 14:50:44,853 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'what is the required Coverage Area?...'
2025-09-11 14:50:44,871 - services.external_task_worker - INFO - Successfully completed task 38a5e400-8f40-11f0-b401-0242ac190005
2025-09-11 14:50:44,879 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:50:44,879 - services.external_task_worker - INFO - Executing task 39310d14-8f40-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 14:50:44,879 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616643.1134455, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616643.1134455, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616643.9538481}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:50:44,886 - services.external_task_worker - INFO - Successfully completed task 39310d14-8f40-11f0-b401-0242ac190005
2025-09-11 14:50:44,892 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:50:44,893 - services.external_task_worker - INFO - Executing task 3933571b-8f40-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 14:50:44,893 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616643.1134455, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616643.1134455, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616643.9538481}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:50:44,900 - services.external_task_worker - INFO - Successfully completed task 3933571b-8f40-11f0-b401-0242ac190005
2025-09-11 14:50:44,907 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:50:44,907 - services.external_task_worker - INFO - Executing task 39357a10-8f40-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 14:50:44,907 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616643.1134455, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616643.1134455, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616643.9538481}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:50:44,915 - services.external_task_worker - INFO - Successfully completed task 39357a10-8f40-11f0-b401-0242ac190005
2025-09-11 14:50:44,921 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:50:44,921 - services.external_task_worker - INFO - Executing task 39379c03-8f40-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 14:50:44,921 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616643.1134455, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616643.1134455, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616643.9538481}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:50:44,930 - services.external_task_worker - INFO - Successfully completed task 39379c03-8f40-11f0-b401-0242ac190005
2025-09-11 14:50:44,936 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:50:44,936 - services.external_task_worker - INFO - Executing task 3939bef4-8f40-11f0-b401-0242ac190005 for topic process-response
2025-09-11 14:50:44,936 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616643.1134455, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616643.1134455, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616643.9538481}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:50:44,944 - services.external_task_worker - INFO - Successfully completed task 3939bef4-8f40-11f0-b401-0242ac190005
2025-09-11 14:50:44,951 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:50:44,951 - services.external_task_worker - INFO - Executing task 393c08fa-8f40-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 14:50:44,951 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616643.1134455, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616643.1134455, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616643.9538481}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:50:44,965 - services.external_task_worker - INFO - Successfully completed task 393c08fa-8f40-11f0-b401-0242ac190005
2025-09-11 14:51:20,240 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:51:20,240 - services.external_task_worker - INFO - Executing task 4dee3134-8f40-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 14:51:20,240 - services.external_task_worker - INFO - Task variables: {'user_query': 'Test query from frontend', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616679.6408513, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 14:51:20,249 - services.external_task_worker - INFO - Successfully completed task 4dee3134-8f40-11f0-b401-0242ac190005
2025-09-11 14:51:20,255 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:51:20,255 - services.external_task_worker - INFO - Executing task 4e4726bf-8f40-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 14:51:20,255 - services.external_task_worker - INFO - Task variables: {'user_query': 'Test query from frontend', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616679.6408513, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "Test query from frontend", "cleaned_query": "Test query from frontend", "key_terms": ["test", "query", "from", "frontend"], "question_intent": [], "query_type": "informational", "domain_terms": [], "word_count": 4, "char_count": 24, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616679.6408513, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616680.2405732}', 'search_parameters': '{"primary_terms": ["test", "query", "from", "frontend"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:51:20,258 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 14:51:20,303 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 14:51:20,308 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 14:51:20,308 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 14:51:20,322 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 14:51:20,322 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 14:51:20,323 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 14:51:20,323 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 14:51:21,072 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 14:51:21,083 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 14:51:21,090 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 14:51:21,091 - services.qdrant_service - INFO - Found 0 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-11 14:51:21,091 - services.qdrant_service - INFO - Found 0 similar chunks for query: 'Test query from frontend...'
2025-09-11 14:51:21,100 - services.external_task_worker - INFO - Successfully completed task 4e4726bf-8f40-11f0-b401-0242ac190005
2025-09-11 14:51:21,107 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:51:21,108 - services.external_task_worker - INFO - Executing task 4ec90103-8f40-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 14:51:21,108 - services.external_task_worker - INFO - Task variables: {'user_query': 'Test query from frontend', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616679.6408513, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "Test query from frontend", "cleaned_query": "Test query from frontend", "key_terms": ["test", "query", "from", "frontend"], "question_intent": [], "query_type": "informational", "domain_terms": [], "word_count": 4, "char_count": 24, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616679.6408513, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616680.2405732}', 'search_parameters': '{"primary_terms": ["test", "query", "from", "frontend"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:51:21,115 - services.external_task_worker - INFO - Successfully completed task 4ec90103-8f40-11f0-b401-0242ac190005
2025-09-11 14:51:21,121 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:51:21,121 - services.external_task_worker - INFO - Executing task 4ecb721a-8f40-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 14:51:21,121 - services.external_task_worker - INFO - Task variables: {'user_query': 'Test query from frontend', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616679.6408513, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "Test query from frontend", "cleaned_query": "Test query from frontend", "key_terms": ["test", "query", "from", "frontend"], "question_intent": [], "query_type": "informational", "domain_terms": [], "word_count": 4, "char_count": 24, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616679.6408513, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616680.2405732}', 'search_parameters': '{"primary_terms": ["test", "query", "from", "frontend"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:51:21,128 - services.external_task_worker - INFO - Successfully completed task 4ecb721a-8f40-11f0-b401-0242ac190005
2025-09-11 14:51:21,135 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:51:21,135 - services.external_task_worker - INFO - Executing task 4ecd6dff-8f40-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 14:51:21,135 - services.external_task_worker - INFO - Task variables: {'user_query': 'Test query from frontend', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616679.6408513, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "Test query from frontend", "cleaned_query": "Test query from frontend", "key_terms": ["test", "query", "from", "frontend"], "question_intent": [], "query_type": "informational", "domain_terms": [], "word_count": 4, "char_count": 24, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616679.6408513, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616680.2405732}', 'search_parameters': '{"primary_terms": ["test", "query", "from", "frontend"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:51:21,143 - services.external_task_worker - INFO - Successfully completed task 4ecd6dff-8f40-11f0-b401-0242ac190005
2025-09-11 14:51:21,149 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:51:21,149 - services.external_task_worker - INFO - Executing task 4ecfb802-8f40-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 14:51:21,149 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: Test query from frontend\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'Test query from frontend', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616679.6408513, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "Test query from frontend", "cleaned_query": "Test query from frontend", "key_terms": ["test", "query", "from", "frontend"], "question_intent": [], "query_type": "informational", "domain_terms": [], "word_count": 4, "char_count": 24, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616679.6408513, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616680.2405732}', 'search_parameters': '{"primary_terms": ["test", "query", "from", "frontend"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:51:21,155 - services.external_task_worker - INFO - Successfully completed task 4ecfb802-8f40-11f0-b401-0242ac190005
2025-09-11 14:51:21,162 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:51:21,162 - services.external_task_worker - INFO - Executing task 4ed1b3e3-8f40-11f0-b401-0242ac190005 for topic process-response
2025-09-11 14:51:21,162 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: Test query from frontend\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'Test query from frontend', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616679.6408513, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "Test query from frontend", "cleaned_query": "Test query from frontend", "key_terms": ["test", "query", "from", "frontend"], "question_intent": [], "query_type": "informational", "domain_terms": [], "word_count": 4, "char_count": 24, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616679.6408513, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616680.2405732}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "query", "from", "frontend"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:51:21,168 - services.external_task_worker - INFO - Successfully completed task 4ed1b3e3-8f40-11f0-b401-0242ac190005
2025-09-11 14:51:21,175 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:51:21,175 - services.external_task_worker - INFO - Executing task 4ed388b9-8f40-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 14:51:21,176 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: Test query from frontend\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'Test query from frontend', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616679.6408513, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "Test query from frontend", "cleaned_query": "Test query from frontend", "key_terms": ["test", "query", "from", "frontend"], "question_intent": [], "query_type": "informational", "domain_terms": [], "word_count": 4, "char_count": 24, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616679.6408513, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616680.2405732}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "query", "from", "frontend"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:51:21,186 - services.external_task_worker - INFO - Successfully completed task 4ed388b9-8f40-11f0-b401-0242ac190005
2025-09-11 14:51:59,419 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:51:59,420 - services.external_task_worker - INFO - Executing task 6533af13-8f40-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 14:51:59,420 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616718.6869037, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 14:51:59,425 - services.external_task_worker - INFO - Successfully completed task 6533af13-8f40-11f0-b401-0242ac190005
2025-09-11 14:51:59,429 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:51:59,429 - services.external_task_worker - INFO - Executing task 65a115fe-8f40-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 14:51:59,429 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616718.6869037, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616718.6869037, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616719.4202573}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:51:59,433 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 14:51:59,474 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 14:51:59,477 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 14:51:59,477 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 14:51:59,488 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 14:51:59,488 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 14:51:59,488 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 14:51:59,488 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 14:52:00,252 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 14:52:00,282 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 14:52:00,292 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 14:52:00,293 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-11 14:52:00,293 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'what is the required Coverage Area?...'
2025-09-11 14:52:00,309 - services.external_task_worker - INFO - Successfully completed task 65a115fe-8f40-11f0-b401-0242ac190005
2025-09-11 14:52:00,314 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:52:00,314 - services.external_task_worker - INFO - Executing task 6627f952-8f40-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 14:52:00,314 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616718.6869037, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616718.6869037, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616719.4202573}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:52:00,320 - services.external_task_worker - INFO - Successfully completed task 6627f952-8f40-11f0-b401-0242ac190005
2025-09-11 14:52:00,326 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:52:00,326 - services.external_task_worker - INFO - Executing task 6629a719-8f40-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 14:52:00,326 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616718.6869037, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616718.6869037, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616719.4202573}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:52:00,332 - services.external_task_worker - INFO - Successfully completed task 6629a719-8f40-11f0-b401-0242ac190005
2025-09-11 14:52:00,337 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:52:00,337 - services.external_task_worker - INFO - Executing task 662ba2fe-8f40-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 14:52:00,337 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616718.6869037, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616718.6869037, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616719.4202573}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:52:00,344 - services.external_task_worker - INFO - Successfully completed task 662ba2fe-8f40-11f0-b401-0242ac190005
2025-09-11 14:52:00,348 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:52:00,349 - services.external_task_worker - INFO - Executing task 662d50c1-8f40-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 14:52:00,349 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616718.6869037, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616718.6869037, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616719.4202573}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:52:00,354 - services.external_task_worker - INFO - Successfully completed task 662d50c1-8f40-11f0-b401-0242ac190005
2025-09-11 14:52:00,359 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:52:00,359 - services.external_task_worker - INFO - Executing task 662efe82-8f40-11f0-b401-0242ac190005 for topic process-response
2025-09-11 14:52:00,359 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616718.6869037, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616718.6869037, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616719.4202573}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:52:00,364 - services.external_task_worker - INFO - Successfully completed task 662efe82-8f40-11f0-b401-0242ac190005
2025-09-11 14:52:00,370 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:52:00,370 - services.external_task_worker - INFO - Executing task 66308538-8f40-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 14:52:00,370 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616718.6869037, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616718.6869037, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616719.4202573}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:52:00,379 - services.external_task_worker - INFO - Successfully completed task 66308538-8f40-11f0-b401-0242ac190005
2025-09-11 14:52:37,659 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:52:37,659 - services.external_task_worker - INFO - Executing task 7c417a22-8f40-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 14:52:37,659 - services.external_task_worker - INFO - Task variables: {'user_query': 'test query from frontend', 'query_metadata': '{"test": true}'}
2025-09-11 14:52:37,665 - services.external_task_worker - INFO - Successfully completed task 7c417a22-8f40-11f0-b401-0242ac190005
2025-09-11 14:52:37,669 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:52:37,670 - services.external_task_worker - INFO - Executing task 7c6c0cad-8f40-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 14:52:37,670 - services.external_task_worker - INFO - Task variables: {'user_query': 'test query from frontend', 'query_metadata': '{"test": true}', 'processed_query': '{"original_query": "test query from frontend", "cleaned_query": "test query from frontend", "key_terms": ["test", "query", "from", "frontend"], "question_intent": [], "query_type": "informational", "domain_terms": [], "word_count": 4, "char_count": 24, "query_metadata": {"test": true}, "processing_timestamp": 1757616757.6598802}', 'search_parameters': '{"primary_terms": ["test", "query", "from", "frontend"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:52:37,673 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 14:52:37,717 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 14:52:37,720 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 14:52:37,720 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 14:52:37,734 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 14:52:37,734 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 14:52:37,734 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 14:52:37,735 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 14:52:38,502 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 14:52:38,514 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 14:52:38,522 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 14:52:38,523 - services.qdrant_service - INFO - Found 0 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-11 14:52:38,523 - services.qdrant_service - INFO - Found 0 similar chunks for query: 'test query from frontend...'
2025-09-11 14:52:38,534 - services.external_task_worker - INFO - Successfully completed task 7c6c0cad-8f40-11f0-b401-0242ac190005
2025-09-11 14:52:38,539 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:52:38,540 - services.external_task_worker - INFO - Executing task 7cf07f01-8f40-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 14:52:38,540 - services.external_task_worker - INFO - Task variables: {'user_query': 'test query from frontend', 'query_metadata': '{"test": true}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test query from frontend", "cleaned_query": "test query from frontend", "key_terms": ["test", "query", "from", "frontend"], "question_intent": [], "query_type": "informational", "domain_terms": [], "word_count": 4, "char_count": 24, "query_metadata": {"test": true}, "processing_timestamp": 1757616757.6598802}', 'search_parameters': '{"primary_terms": ["test", "query", "from", "frontend"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:52:38,546 - services.external_task_worker - INFO - Successfully completed task 7cf07f01-8f40-11f0-b401-0242ac190005
2025-09-11 14:52:38,551 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:52:38,551 - services.external_task_worker - INFO - Executing task 7cf27ae8-8f40-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 14:52:38,551 - services.external_task_worker - INFO - Task variables: {'user_query': 'test query from frontend', 'context_quality_score': 0.0, 'query_metadata': '{"test": true}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "test query from frontend", "cleaned_query": "test query from frontend", "key_terms": ["test", "query", "from", "frontend"], "question_intent": [], "query_type": "informational", "domain_terms": [], "word_count": 4, "char_count": 24, "query_metadata": {"test": true}, "processing_timestamp": 1757616757.6598802}', 'search_parameters': '{"primary_terms": ["test", "query", "from", "frontend"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:52:38,557 - services.external_task_worker - INFO - Successfully completed task 7cf27ae8-8f40-11f0-b401-0242ac190005
2025-09-11 14:52:38,562 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:52:38,563 - services.external_task_worker - INFO - Executing task 7cf44ebd-8f40-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 14:52:38,563 - services.external_task_worker - INFO - Task variables: {'user_query': 'test query from frontend', 'context_quality_score': 0.0, 'query_metadata': '{"test": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test query from frontend", "cleaned_query": "test query from frontend", "key_terms": ["test", "query", "from", "frontend"], "question_intent": [], "query_type": "informational", "domain_terms": [], "word_count": 4, "char_count": 24, "query_metadata": {"test": true}, "processing_timestamp": 1757616757.6598802}', 'search_parameters': '{"primary_terms": ["test", "query", "from", "frontend"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:52:38,568 - services.external_task_worker - INFO - Successfully completed task 7cf44ebd-8f40-11f0-b401-0242ac190005
2025-09-11 14:52:38,573 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:52:38,574 - services.external_task_worker - INFO - Executing task 7cf5fc80-8f40-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 14:52:38,574 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test query from frontend\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test query from frontend', 'context_quality_score': 0.0, 'query_metadata': '{"test": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test query from frontend", "cleaned_query": "test query from frontend", "key_terms": ["test", "query", "from", "frontend"], "question_intent": [], "query_type": "informational", "domain_terms": [], "word_count": 4, "char_count": 24, "query_metadata": {"test": true}, "processing_timestamp": 1757616757.6598802}', 'search_parameters': '{"primary_terms": ["test", "query", "from", "frontend"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:52:38,579 - services.external_task_worker - INFO - Successfully completed task 7cf5fc80-8f40-11f0-b401-0242ac190005
2025-09-11 14:52:38,584 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:52:38,584 - services.external_task_worker - INFO - Executing task 7cf7aa41-8f40-11f0-b401-0242ac190005 for topic process-response
2025-09-11 14:52:38,584 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test query from frontend\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test query from frontend', 'context_quality_score': 0.0, 'query_metadata': '{"test": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "test query from frontend", "cleaned_query": "test query from frontend", "key_terms": ["test", "query", "from", "frontend"], "question_intent": [], "query_type": "informational", "domain_terms": [], "word_count": 4, "char_count": 24, "query_metadata": {"test": true}, "processing_timestamp": 1757616757.6598802}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "query", "from", "frontend"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:52:38,590 - services.external_task_worker - INFO - Successfully completed task 7cf7aa41-8f40-11f0-b401-0242ac190005
2025-09-11 14:52:38,596 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:52:38,596 - services.external_task_worker - INFO - Executing task 7cf930f7-8f40-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 14:52:38,596 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: test query from frontend\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'test query from frontend', 'context_quality_score': 0.0, 'query_metadata': '{"test": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "test query from frontend", "cleaned_query": "test query from frontend", "key_terms": ["test", "query", "from", "frontend"], "question_intent": [], "query_type": "informational", "domain_terms": [], "word_count": 4, "char_count": 24, "query_metadata": {"test": true}, "processing_timestamp": 1757616757.6598802}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["test", "query", "from", "frontend"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:52:38,605 - services.external_task_worker - INFO - Successfully completed task 7cf930f7-8f40-11f0-b401-0242ac190005
2025-09-11 14:53:22,109 - __main__ - INFO - Received signal 15, shutting down worker...
2025-09-11 14:53:38,326 - services.external_task_worker - INFO - Starting external task worker: odras-worker-1757616818
2025-09-11 14:54:37,717 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:54:37,717 - services.external_task_worker - INFO - Executing task c3af9bd1-8f40-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 14:54:37,717 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616877.2020802, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 14:54:37,726 - services.external_task_worker - INFO - Successfully completed task c3af9bd1-8f40-11f0-b401-0242ac190005
2025-09-11 14:54:37,734 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:54:37,734 - services.external_task_worker - INFO - Executing task c3fb990c-8f40-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 14:54:37,734 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616877.2020802, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616877.2020802, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616877.718023}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:54:37,751 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 14:54:37,839 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 14:54:37,845 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 14:54:37,847 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 14:54:37,869 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 14:54:37,869 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 14:54:37,878 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 14:54:37,879 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 14:54:39,163 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 14:54:39,182 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 14:54:39,192 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 14:54:39,194 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-11 14:54:39,194 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'what is the required Coverage Area?...'
2025-09-11 14:54:39,210 - services.external_task_worker - INFO - Successfully completed task c3fb990c-8f40-11f0-b401-0242ac190005
2025-09-11 14:54:39,217 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:54:39,217 - services.external_task_worker - INFO - Executing task c4de5800-8f40-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 14:54:39,217 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616877.2020802, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616877.2020802, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616877.718023}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:54:39,225 - services.external_task_worker - INFO - Successfully completed task c4de5800-8f40-11f0-b401-0242ac190005
2025-09-11 14:54:39,230 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:54:39,230 - services.external_task_worker - INFO - Executing task c4e0a207-8f40-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 14:54:39,230 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616877.2020802, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616877.2020802, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616877.718023}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:54:39,236 - services.external_task_worker - INFO - Successfully completed task c4e0a207-8f40-11f0-b401-0242ac190005
2025-09-11 14:54:39,241 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:54:39,241 - services.external_task_worker - INFO - Executing task c4e24fcc-8f40-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 14:54:39,241 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616877.2020802, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616877.2020802, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616877.718023}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:54:39,247 - services.external_task_worker - INFO - Successfully completed task c4e24fcc-8f40-11f0-b401-0242ac190005
2025-09-11 14:54:39,254 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:54:39,254 - services.external_task_worker - INFO - Executing task c4e3fd8f-8f40-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 14:54:39,254 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616877.2020802, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616877.2020802, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616877.718023}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:54:39,260 - services.external_task_worker - INFO - Successfully completed task c4e3fd8f-8f40-11f0-b401-0242ac190005
2025-09-11 14:54:39,265 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:54:39,265 - services.external_task_worker - INFO - Executing task c4e5f970-8f40-11f0-b401-0242ac190005 for topic process-response
2025-09-11 14:54:39,266 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616877.2020802, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616877.2020802, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616877.718023}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:54:39,271 - services.external_task_worker - INFO - Successfully completed task c4e5f970-8f40-11f0-b401-0242ac190005
2025-09-11 14:54:39,276 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:54:39,276 - services.external_task_worker - INFO - Executing task c4e7a736-8f40-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 14:54:39,276 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616877.2020802, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757616877.2020802, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757616877.718023}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:54:39,288 - services.external_task_worker - INFO - Successfully completed task c4e7a736-8f40-11f0-b401-0242ac190005
2025-09-11 14:57:06,477 - __main__ - INFO - Received signal 15, shutting down worker...
2025-09-11 14:57:23,054 - services.external_task_worker - INFO - Starting external task worker: odras-worker-1757617043
2025-09-11 14:57:38,162 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:57:38,162 - services.external_task_worker - INFO - Executing task 2f2ed560-8f41-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 14:57:38,162 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617057.5546913, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 14:57:38,173 - services.external_task_worker - INFO - Successfully completed task 2f2ed560-8f41-11f0-b401-0242ac190005
2025-09-11 14:57:38,178 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:57:38,178 - services.external_task_worker - INFO - Executing task 2f89c6bb-8f41-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 14:57:38,178 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617057.5546913, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617057.5546913, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617058.1634996}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:57:38,191 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 14:57:38,253 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 14:57:38,256 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 14:57:38,257 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 14:57:38,269 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 14:57:38,269 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 14:57:38,271 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 14:57:38,271 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 14:57:39,348 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 14:57:39,377 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 14:57:39,386 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 14:57:39,388 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-11 14:57:39,388 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'what is the required Coverage Area?...'
2025-09-11 14:57:39,405 - services.external_task_worker - INFO - Successfully completed task 2f89c6bb-8f41-11f0-b401-0242ac190005
2025-09-11 14:57:39,411 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:57:39,411 - services.external_task_worker - INFO - Executing task 3045eadf-8f41-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 14:57:39,411 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617057.5546913, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617057.5546913, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617058.1634996}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:57:39,419 - services.external_task_worker - INFO - Successfully completed task 3045eadf-8f41-11f0-b401-0242ac190005
2025-09-11 14:57:39,425 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:57:39,425 - services.external_task_worker - INFO - Executing task 3047e6c6-8f41-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 14:57:39,425 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617057.5546913, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617057.5546913, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617058.1634996}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:57:39,431 - services.external_task_worker - INFO - Successfully completed task 3047e6c6-8f41-11f0-b401-0242ac190005
2025-09-11 14:57:39,436 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:57:39,436 - services.external_task_worker - INFO - Executing task 3049e2ab-8f41-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 14:57:39,436 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617057.5546913, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617057.5546913, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617058.1634996}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:57:39,442 - services.external_task_worker - INFO - Successfully completed task 3049e2ab-8f41-11f0-b401-0242ac190005
2025-09-11 14:57:39,446 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:57:39,446 - services.external_task_worker - INFO - Executing task 304b906e-8f41-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 14:57:39,446 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617057.5546913, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617057.5546913, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617058.1634996}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:57:39,453 - services.external_task_worker - INFO - Successfully completed task 304b906e-8f41-11f0-b401-0242ac190005
2025-09-11 14:57:39,458 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:57:39,458 - services.external_task_worker - INFO - Executing task 304d3e2f-8f41-11f0-b401-0242ac190005 for topic process-response
2025-09-11 14:57:39,458 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617057.5546913, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617057.5546913, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617058.1634996}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:57:39,465 - services.external_task_worker - INFO - Successfully completed task 304d3e2f-8f41-11f0-b401-0242ac190005
2025-09-11 14:57:39,470 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:57:39,470 - services.external_task_worker - INFO - Executing task 304f1305-8f41-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 14:57:39,470 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617057.5546913, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617057.5546913, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617058.1634996}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:57:39,482 - services.external_task_worker - INFO - Successfully completed task 304f1305-8f41-11f0-b401-0242ac190005
2025-09-11 14:57:51,554 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:57:51,555 - services.external_task_worker - INFO - Executing task 375d900f-8f41-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 14:57:51,555 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617071.274889, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 14:57:51,563 - services.external_task_worker - INFO - Successfully completed task 375d900f-8f41-11f0-b401-0242ac190005
2025-09-11 14:57:51,569 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:57:51,570 - services.external_task_worker - INFO - Executing task 3784ee4a-8f41-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 14:57:51,570 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617071.274889, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617071.274889, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617071.5553052}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:57:51,574 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 14:57:51,629 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 14:57:51,634 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 14:57:51,634 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 14:57:51,652 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 14:57:51,652 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 14:57:51,653 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 14:57:51,653 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 14:57:52,397 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 14:57:52,412 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 14:57:52,422 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 14:57:52,423 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-11 14:57:52,423 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'what is the required Coverage Area?...'
2025-09-11 14:57:52,444 - services.external_task_worker - INFO - Successfully completed task 3784ee4a-8f41-11f0-b401-0242ac190005
2025-09-11 14:57:52,452 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:57:52,453 - services.external_task_worker - INFO - Executing task 380b5c6e-8f41-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 14:57:52,453 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617071.274889, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617071.274889, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617071.5553052}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:57:52,460 - services.external_task_worker - INFO - Successfully completed task 380b5c6e-8f41-11f0-b401-0242ac190005
2025-09-11 14:57:52,467 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:57:52,467 - services.external_task_worker - INFO - Executing task 380df495-8f41-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 14:57:52,467 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617071.274889, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617071.274889, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617071.5553052}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:57:52,474 - services.external_task_worker - INFO - Successfully completed task 380df495-8f41-11f0-b401-0242ac190005
2025-09-11 14:57:52,482 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:57:52,482 - services.external_task_worker - INFO - Executing task 3810168a-8f41-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 14:57:52,483 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617071.274889, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617071.274889, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617071.5553052}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:57:52,491 - services.external_task_worker - INFO - Successfully completed task 3810168a-8f41-11f0-b401-0242ac190005
2025-09-11 14:57:52,498 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:57:52,498 - services.external_task_worker - INFO - Executing task 3812aead-8f41-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 14:57:52,498 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617071.274889, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617071.274889, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617071.5553052}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:57:52,505 - services.external_task_worker - INFO - Successfully completed task 3812aead-8f41-11f0-b401-0242ac190005
2025-09-11 14:57:52,512 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:57:52,512 - services.external_task_worker - INFO - Executing task 3814aa8e-8f41-11f0-b401-0242ac190005 for topic process-response
2025-09-11 14:57:52,513 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617071.274889, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617071.274889, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617071.5553052}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:57:52,520 - services.external_task_worker - INFO - Successfully completed task 3814aa8e-8f41-11f0-b401-0242ac190005
2025-09-11 14:57:52,528 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:57:52,528 - services.external_task_worker - INFO - Executing task 38171ba4-8f41-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 14:57:52,528 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617071.274889, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617071.274889, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617071.5553052}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:57:52,541 - services.external_task_worker - INFO - Successfully completed task 38171ba4-8f41-11f0-b401-0242ac190005
2025-09-11 14:58:14,692 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:58:14,692 - services.external_task_worker - INFO - Executing task 44d56ffe-8f41-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 14:58:14,692 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617093.876625, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 14:58:14,699 - services.external_task_worker - INFO - Successfully completed task 44d56ffe-8f41-11f0-b401-0242ac190005
2025-09-11 14:58:14,705 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:58:14,705 - services.external_task_worker - INFO - Executing task 454f5b09-8f41-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 14:58:14,705 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617093.876625, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617093.876625, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617094.693068}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:58:14,709 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 14:58:14,755 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 14:58:14,761 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 14:58:14,762 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 14:58:14,787 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 14:58:14,787 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 14:58:14,787 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 14:58:14,788 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 14:58:15,539 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 14:58:15,548 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 14:58:15,557 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 14:58:15,557 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-11 14:58:15,557 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'what is the required Coverage Area?...'
2025-09-11 14:58:15,570 - services.external_task_worker - INFO - Successfully completed task 454f5b09-8f41-11f0-b401-0242ac190005
2025-09-11 14:58:15,576 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:58:15,576 - services.external_task_worker - INFO - Executing task 45d4428d-8f41-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 14:58:15,576 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617093.876625, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617093.876625, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617094.693068}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:58:15,582 - services.external_task_worker - INFO - Successfully completed task 45d4428d-8f41-11f0-b401-0242ac190005
2025-09-11 14:58:15,589 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:58:15,589 - services.external_task_worker - INFO - Executing task 45d63e74-8f41-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 14:58:15,589 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617093.876625, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617093.876625, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617094.693068}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:58:15,597 - services.external_task_worker - INFO - Successfully completed task 45d63e74-8f41-11f0-b401-0242ac190005
2025-09-11 14:58:15,604 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:58:15,605 - services.external_task_worker - INFO - Executing task 45d83a59-8f41-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 14:58:15,605 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617093.876625, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617093.876625, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617094.693068}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:58:15,612 - services.external_task_worker - INFO - Successfully completed task 45d83a59-8f41-11f0-b401-0242ac190005
2025-09-11 14:58:15,619 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:58:15,619 - services.external_task_worker - INFO - Executing task 45daab6c-8f41-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 14:58:15,619 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617093.876625, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617093.876625, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617094.693068}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:58:15,625 - services.external_task_worker - INFO - Successfully completed task 45daab6c-8f41-11f0-b401-0242ac190005
2025-09-11 14:58:15,631 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:58:15,631 - services.external_task_worker - INFO - Executing task 45dcce5d-8f41-11f0-b401-0242ac190005 for topic process-response
2025-09-11 14:58:15,631 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617093.876625, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617093.876625, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617094.693068}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:58:15,638 - services.external_task_worker - INFO - Successfully completed task 45dcce5d-8f41-11f0-b401-0242ac190005
2025-09-11 14:58:15,645 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:58:15,645 - services.external_task_worker - INFO - Executing task 45dea333-8f41-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 14:58:15,645 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617093.876625, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617093.876625, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617094.693068}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:58:15,661 - services.external_task_worker - INFO - Successfully completed task 45dea333-8f41-11f0-b401-0242ac190005
2025-09-11 14:58:43,878 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:58:43,878 - services.external_task_worker - INFO - Executing task 562b9b8d-8f41-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 14:58:43,878 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617122.9643612, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 14:58:43,885 - services.external_task_worker - INFO - Successfully completed task 562b9b8d-8f41-11f0-b401-0242ac190005
2025-09-11 14:58:43,890 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:58:43,890 - services.external_task_worker - INFO - Executing task 56b4c8d8-8f41-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 14:58:43,890 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617122.9643612, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617122.9643612, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617123.8789577}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:58:43,894 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 14:58:43,937 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 14:58:43,940 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 14:58:43,940 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 14:58:43,951 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 14:58:43,951 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 14:58:43,952 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 14:58:43,952 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 14:58:44,741 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 14:58:44,752 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 14:58:44,763 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 14:58:44,763 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-11 14:58:44,763 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'what is the required Coverage Area?...'
2025-09-11 14:58:44,777 - services.external_task_worker - INFO - Successfully completed task 56b4c8d8-8f41-11f0-b401-0242ac190005
2025-09-11 14:58:44,782 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:58:44,783 - services.external_task_worker - INFO - Executing task 573ce4ac-8f41-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 14:58:44,783 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617122.9643612, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617122.9643612, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617123.8789577}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:58:44,789 - services.external_task_worker - INFO - Successfully completed task 573ce4ac-8f41-11f0-b401-0242ac190005
2025-09-11 14:58:44,793 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:58:44,793 - services.external_task_worker - INFO - Executing task 573eb983-8f41-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 14:58:44,794 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617122.9643612, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617122.9643612, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617123.8789577}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:58:44,799 - services.external_task_worker - INFO - Successfully completed task 573eb983-8f41-11f0-b401-0242ac190005
2025-09-11 14:58:44,804 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:58:44,804 - services.external_task_worker - INFO - Executing task 57404038-8f41-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 14:58:44,804 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617122.9643612, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617122.9643612, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617123.8789577}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:58:44,809 - services.external_task_worker - INFO - Successfully completed task 57404038-8f41-11f0-b401-0242ac190005
2025-09-11 14:58:44,814 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:58:44,815 - services.external_task_worker - INFO - Executing task 5741edfb-8f41-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 14:58:44,815 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617122.9643612, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617122.9643612, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617123.8789577}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:58:44,820 - services.external_task_worker - INFO - Successfully completed task 5741edfb-8f41-11f0-b401-0242ac190005
2025-09-11 14:58:44,824 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:58:44,825 - services.external_task_worker - INFO - Executing task 574374ac-8f41-11f0-b401-0242ac190005 for topic process-response
2025-09-11 14:58:44,825 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617122.9643612, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617122.9643612, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617123.8789577}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:58:44,830 - services.external_task_worker - INFO - Successfully completed task 574374ac-8f41-11f0-b401-0242ac190005
2025-09-11 14:58:44,835 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:58:44,835 - services.external_task_worker - INFO - Executing task 57452272-8f41-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 14:58:44,836 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617122.9643612, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617122.9643612, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617123.8789577}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:58:44,844 - services.external_task_worker - INFO - Successfully completed task 57452272-8f41-11f0-b401-0242ac190005
2025-09-11 14:59:26,377 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:59:26,377 - services.external_task_worker - INFO - Executing task 6fe65f2c-8f41-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 14:59:26,377 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617166.1250348, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 14:59:26,384 - services.external_task_worker - INFO - Successfully completed task 6fe65f2c-8f41-11f0-b401-0242ac190005
2025-09-11 14:59:26,390 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:59:26,390 - services.external_task_worker - INFO - Executing task 700977a7-8f41-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 14:59:26,390 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617166.1250348, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617166.1250348, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617166.3774903}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:59:26,395 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 14:59:26,440 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 14:59:26,443 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 14:59:26,444 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 14:59:26,457 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 14:59:26,457 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 14:59:26,457 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 14:59:26,458 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 14:59:27,167 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 14:59:27,188 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 14:59:27,195 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 14:59:27,196 - services.qdrant_service - INFO - Found 8 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-11 14:59:27,196 - services.qdrant_service - INFO - Found 8 similar chunks for query: 'navigation system...'
2025-09-11 14:59:27,257 - services.external_task_worker - INFO - Successfully completed task 700977a7-8f41-11f0-b401-0242ac190005
2025-09-11 14:59:27,264 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:59:27,264 - services.external_task_worker - INFO - Executing task 708ed45b-8f41-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 14:59:27,264 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617166.1250348, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617166.1250348, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617166.3774903}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:59:27,272 - services.external_task_worker - INFO - Successfully completed task 708ed45b-8f41-11f0-b401-0242ac190005
2025-09-11 14:59:27,278 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:59:27,278 - services.external_task_worker - INFO - Executing task 7090f652-8f41-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 14:59:27,278 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617166.1250348, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617166.1250348, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617166.3774903}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:59:27,286 - services.external_task_worker - INFO - Successfully completed task 7090f652-8f41-11f0-b401-0242ac190005
2025-09-11 14:59:27,292 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:59:27,292 - services.external_task_worker - INFO - Executing task 70934057-8f41-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 14:59:27,292 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617166.1250348, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617166.1250348, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617166.3774903}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:59:27,299 - services.external_task_worker - INFO - Successfully completed task 70934057-8f41-11f0-b401-0242ac190005
2025-09-11 14:59:27,306 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:59:27,306 - services.external_task_worker - INFO - Executing task 70953c3a-8f41-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 14:59:27,306 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: navigation system\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'navigation system', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617166.1250348, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617166.1250348, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617166.3774903}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:59:27,312 - services.external_task_worker - INFO - Successfully completed task 70953c3a-8f41-11f0-b401-0242ac190005
2025-09-11 14:59:27,318 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:59:27,318 - services.external_task_worker - INFO - Executing task 70975f2b-8f41-11f0-b401-0242ac190005 for topic process-response
2025-09-11 14:59:27,318 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: navigation system\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'navigation system', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617166.1250348, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617166.1250348, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617166.3774903}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:59:27,323 - services.external_task_worker - INFO - Successfully completed task 70975f2b-8f41-11f0-b401-0242ac190005
2025-09-11 14:59:27,328 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 14:59:27,328 - services.external_task_worker - INFO - Executing task 70990cf1-8f41-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 14:59:27,328 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: navigation system\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'navigation system', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617166.1250348, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617166.1250348, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617166.3774903}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 14:59:27,339 - services.external_task_worker - INFO - Successfully completed task 70990cf1-8f41-11f0-b401-0242ac190005
2025-09-11 15:00:51,868 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:00:51,868 - services.external_task_worker - INFO - Executing task a2cb167f-8f41-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 15:00:51,868 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617251.501434, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 15:00:51,878 - services.external_task_worker - INFO - Successfully completed task a2cb167f-8f41-11f0-b401-0242ac190005
2025-09-11 15:00:51,885 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:00:51,886 - services.external_task_worker - INFO - Executing task a2fea9ba-8f41-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 15:00:51,886 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617251.501434, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617251.501434, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617251.8687253}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:00:51,891 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 15:00:51,958 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 15:00:51,964 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 15:00:51,964 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 15:00:51,990 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 15:00:51,990 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 15:00:51,991 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 15:00:51,991 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 15:00:52,768 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 15:00:52,783 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 15:00:52,803 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 15:00:52,803 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-11 15:00:52,803 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'what is the required Coverage Area?...'
2025-09-11 15:00:52,818 - services.external_task_worker - INFO - Successfully completed task a2fea9ba-8f41-11f0-b401-0242ac190005
2025-09-11 15:00:52,824 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:00:52,824 - services.external_task_worker - INFO - Executing task a38e66ba-8f41-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 15:00:52,824 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617251.501434, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617251.501434, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617251.8687253}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:00:52,831 - services.external_task_worker - INFO - Successfully completed task a38e66ba-8f41-11f0-b401-0242ac190005
2025-09-11 15:00:52,838 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:00:52,838 - services.external_task_worker - INFO - Executing task a39062a1-8f41-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 15:00:52,838 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617251.501434, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617251.501434, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617251.8687253}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:00:52,846 - services.external_task_worker - INFO - Successfully completed task a39062a1-8f41-11f0-b401-0242ac190005
2025-09-11 15:00:52,853 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:00:52,853 - services.external_task_worker - INFO - Executing task a392aca6-8f41-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 15:00:52,853 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617251.501434, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617251.501434, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617251.8687253}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:00:52,859 - services.external_task_worker - INFO - Successfully completed task a392aca6-8f41-11f0-b401-0242ac190005
2025-09-11 15:00:52,865 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:00:52,865 - services.external_task_worker - INFO - Executing task a394a889-8f41-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 15:00:52,865 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617251.501434, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617251.501434, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617251.8687253}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:00:52,871 - services.external_task_worker - INFO - Successfully completed task a394a889-8f41-11f0-b401-0242ac190005
2025-09-11 15:00:52,877 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:00:52,877 - services.external_task_worker - INFO - Executing task a3967c5a-8f41-11f0-b401-0242ac190005 for topic process-response
2025-09-11 15:00:52,877 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617251.501434, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617251.501434, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617251.8687253}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:00:52,884 - services.external_task_worker - INFO - Successfully completed task a3967c5a-8f41-11f0-b401-0242ac190005
2025-09-11 15:00:52,891 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:00:52,891 - services.external_task_worker - INFO - Executing task a3987840-8f41-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 15:00:52,891 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617251.501434, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617251.501434, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617251.8687253}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:00:52,901 - services.external_task_worker - INFO - Successfully completed task a3987840-8f41-11f0-b401-0242ac190005
2025-09-11 15:00:54,918 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:00:54,918 - services.external_task_worker - INFO - Executing task a4cdc413-8f41-11f0-b401-0242ac190005 for topic chunk-document
2025-09-11 15:00:54,919 - services.external_task_worker - INFO - Task variables: {}
2025-09-11 15:00:54,919 - services.external_task_worker - ERROR - Error executing task a4cdc413-8f41-11f0-b401-0242ac190005: Task execution failed: parsed_content variable is required
2025-09-11 15:00:54,919 - services.external_task_worker - ERROR - Traceback (most recent call last):
  File "/home/jdehart/working/ODRAS/scripts/../backend/services/external_task_worker.py", line 240, in execute_task
    result = handler(task_variables)
  File "/home/jdehart/working/ODRAS/scripts/../backend/services/external_task_worker.py", line 376, in handle_chunk_document
    raise Exception("parsed_content variable is required")
Exception: parsed_content variable is required

2025-09-11 15:01:29,223 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:01:29,223 - services.external_task_worker - INFO - Executing task b9095cb1-8f41-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 15:01:29,223 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617288.8306258, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 15:01:29,235 - services.external_task_worker - INFO - Successfully completed task b9095cb1-8f41-11f0-b401-0242ac190005
2025-09-11 15:01:29,244 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:01:29,245 - services.external_task_worker - INFO - Executing task b942953c-8f41-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 15:01:29,245 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617288.8306258, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617288.8306258, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617289.2236652}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:01:29,249 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 15:01:29,293 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 15:01:29,299 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 15:01:29,299 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 15:01:29,313 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 15:01:29,314 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 15:01:29,314 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 15:01:29,314 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 15:01:30,136 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 15:01:30,150 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 15:01:30,171 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 15:01:30,172 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-11 15:01:30,172 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'what is the required Coverage Area?...'
2025-09-11 15:01:30,189 - services.external_task_worker - INFO - Successfully completed task b942953c-8f41-11f0-b401-0242ac190005
2025-09-11 15:01:30,197 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:01:30,197 - services.external_task_worker - INFO - Executing task b9d47510-8f41-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 15:01:30,197 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617288.8306258, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617288.8306258, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617289.2236652}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:01:30,206 - services.external_task_worker - INFO - Successfully completed task b9d47510-8f41-11f0-b401-0242ac190005
2025-09-11 15:01:30,215 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:01:30,216 - services.external_task_worker - INFO - Executing task b9d75b57-8f41-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 15:01:30,216 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617288.8306258, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617288.8306258, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617289.2236652}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:01:30,225 - services.external_task_worker - INFO - Successfully completed task b9d75b57-8f41-11f0-b401-0242ac190005
2025-09-11 15:01:30,234 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:01:30,234 - services.external_task_worker - INFO - Executing task b9da1a8c-8f41-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 15:01:30,234 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617288.8306258, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617288.8306258, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617289.2236652}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:01:30,243 - services.external_task_worker - INFO - Successfully completed task b9da1a8c-8f41-11f0-b401-0242ac190005
2025-09-11 15:01:30,252 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:01:30,253 - services.external_task_worker - INFO - Executing task b9dcd9bf-8f41-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 15:01:30,253 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617288.8306258, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617288.8306258, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617289.2236652}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:01:30,265 - services.external_task_worker - INFO - Successfully completed task b9dcd9bf-8f41-11f0-b401-0242ac190005
2025-09-11 15:01:30,277 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:01:30,277 - services.external_task_worker - INFO - Executing task b9dfe710-8f41-11f0-b401-0242ac190005 for topic process-response
2025-09-11 15:01:30,277 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617288.8306258, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617288.8306258, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617289.2236652}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:01:30,288 - services.external_task_worker - INFO - Successfully completed task b9dfe710-8f41-11f0-b401-0242ac190005
2025-09-11 15:01:30,295 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:01:30,295 - services.external_task_worker - INFO - Executing task b9e3b7b6-8f41-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 15:01:30,295 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617288.8306258, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617288.8306258, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617289.2236652}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:01:30,307 - services.external_task_worker - INFO - Successfully completed task b9e3b7b6-8f41-11f0-b401-0242ac190005
2025-09-11 15:01:40,398 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:01:40,399 - services.external_task_worker - INFO - Executing task bfcb3ff0-8f41-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 15:01:40,399 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617300.1696303, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 15:01:40,406 - services.external_task_worker - INFO - Successfully completed task bfcb3ff0-8f41-11f0-b401-0242ac190005
2025-09-11 15:01:40,410 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:01:40,410 - services.external_task_worker - INFO - Executing task bfebc05b-8f41-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 15:01:40,411 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617300.1696303, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617300.1696303, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617300.3991969}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:01:40,414 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 15:01:40,459 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 15:01:40,463 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 15:01:40,463 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 15:01:40,475 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 15:01:40,475 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 15:01:40,476 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 15:01:40,476 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 15:01:41,179 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 15:01:41,194 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 15:01:41,204 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 15:01:41,204 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-11 15:01:41,204 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'what is the required Coverage Area?...'
2025-09-11 15:01:41,221 - services.external_task_worker - INFO - Successfully completed task bfebc05b-8f41-11f0-b401-0242ac190005
2025-09-11 15:01:41,227 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:01:41,227 - services.external_task_worker - INFO - Executing task c067ce3f-8f41-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 15:01:41,227 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617300.1696303, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617300.1696303, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617300.3991969}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:01:41,234 - services.external_task_worker - INFO - Successfully completed task c067ce3f-8f41-11f0-b401-0242ac190005
2025-09-11 15:01:41,241 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:01:41,241 - services.external_task_worker - INFO - Executing task c069f136-8f41-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 15:01:41,241 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617300.1696303, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617300.1696303, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617300.3991969}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:01:41,249 - services.external_task_worker - INFO - Successfully completed task c069f136-8f41-11f0-b401-0242ac190005
2025-09-11 15:01:41,257 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:01:41,257 - services.external_task_worker - INFO - Executing task c06c3b3b-8f41-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 15:01:41,257 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617300.1696303, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617300.1696303, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617300.3991969}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:01:41,264 - services.external_task_worker - INFO - Successfully completed task c06c3b3b-8f41-11f0-b401-0242ac190005
2025-09-11 15:01:41,269 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:01:41,269 - services.external_task_worker - INFO - Executing task c06eac4e-8f41-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 15:01:41,269 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617300.1696303, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617300.1696303, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617300.3991969}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:01:41,275 - services.external_task_worker - INFO - Successfully completed task c06eac4e-8f41-11f0-b401-0242ac190005
2025-09-11 15:01:41,281 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:01:41,281 - services.external_task_worker - INFO - Executing task c0705a0f-8f41-11f0-b401-0242ac190005 for topic process-response
2025-09-11 15:01:41,281 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617300.1696303, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617300.1696303, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617300.3991969}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:01:41,290 - services.external_task_worker - INFO - Successfully completed task c0705a0f-8f41-11f0-b401-0242ac190005
2025-09-11 15:01:41,296 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:01:41,296 - services.external_task_worker - INFO - Executing task c0727d05-8f41-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 15:01:41,296 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617300.1696303, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617300.1696303, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617300.3991969}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:01:41,306 - services.external_task_worker - INFO - Successfully completed task c0727d05-8f41-11f0-b401-0242ac190005
2025-09-11 15:02:45,755 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:02:45,756 - services.external_task_worker - INFO - Executing task e64d0a5f-8f41-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 15:02:45,756 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617364.7719688, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 15:02:45,761 - services.external_task_worker - INFO - Successfully completed task e64d0a5f-8f41-11f0-b401-0242ac190005
2025-09-11 15:02:45,766 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:02:45,767 - services.external_task_worker - INFO - Executing task e6e022ba-8f41-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 15:02:45,767 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617364.7719688, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617364.7719688, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617365.7561224}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:02:45,771 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 15:02:45,812 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 15:02:45,815 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 15:02:45,815 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 15:02:45,827 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 15:02:45,828 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 15:02:45,828 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 15:02:45,828 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 15:02:46,519 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 15:02:46,543 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 15:02:46,551 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 15:02:46,552 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-11 15:02:46,552 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'what is the required Coverage Area?...'
2025-09-11 15:02:46,569 - services.external_task_worker - INFO - Successfully completed task e6e022ba-8f41-11f0-b401-0242ac190005
2025-09-11 15:02:46,575 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:02:46,575 - services.external_task_worker - INFO - Executing task e75b463e-8f41-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 15:02:46,575 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617364.7719688, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617364.7719688, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617365.7561224}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:02:46,582 - services.external_task_worker - INFO - Successfully completed task e75b463e-8f41-11f0-b401-0242ac190005
2025-09-11 15:02:46,588 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:02:46,588 - services.external_task_worker - INFO - Executing task e75d4225-8f41-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 15:02:46,588 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617364.7719688, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617364.7719688, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617365.7561224}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:02:46,594 - services.external_task_worker - INFO - Successfully completed task e75d4225-8f41-11f0-b401-0242ac190005
2025-09-11 15:02:46,602 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:02:46,602 - services.external_task_worker - INFO - Executing task e75f3d0a-8f41-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 15:02:46,602 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617364.7719688, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617364.7719688, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617365.7561224}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:02:46,608 - services.external_task_worker - INFO - Successfully completed task e75f3d0a-8f41-11f0-b401-0242ac190005
2025-09-11 15:02:46,614 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:02:46,614 - services.external_task_worker - INFO - Executing task e7615ffd-8f41-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 15:02:46,614 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617364.7719688, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617364.7719688, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617365.7561224}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:02:46,622 - services.external_task_worker - INFO - Successfully completed task e7615ffd-8f41-11f0-b401-0242ac190005
2025-09-11 15:02:46,627 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:02:46,627 - services.external_task_worker - INFO - Executing task e7635bde-8f41-11f0-b401-0242ac190005 for topic process-response
2025-09-11 15:02:46,627 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617364.7719688, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617364.7719688, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617365.7561224}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:02:46,634 - services.external_task_worker - INFO - Successfully completed task e7635bde-8f41-11f0-b401-0242ac190005
2025-09-11 15:02:46,640 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:02:46,641 - services.external_task_worker - INFO - Executing task e76557c4-8f41-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 15:02:46,641 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617364.7719688, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617364.7719688, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617365.7561224}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:02:46,652 - services.external_task_worker - INFO - Successfully completed task e76557c4-8f41-11f0-b401-0242ac190005
2025-09-11 15:03:25,990 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:03:25,990 - services.external_task_worker - INFO - Executing task fe8105ee-8f41-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 15:03:25,990 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617405.37913, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 15:03:25,995 - services.external_task_worker - INFO - Successfully completed task fe8105ee-8f41-11f0-b401-0242ac190005
2025-09-11 15:03:26,000 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:03:26,000 - services.external_task_worker - INFO - Executing task fedb8219-8f41-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 15:03:26,000 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617405.37913, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617405.37913, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617405.990979}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:03:26,003 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 15:03:26,046 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 15:03:26,050 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 15:03:26,051 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 15:03:26,062 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 15:03:26,062 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 15:03:26,063 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 15:03:26,063 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 15:03:26,881 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 15:03:26,909 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 15:03:26,916 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 15:03:26,917 - services.qdrant_service - INFO - Found 8 results in collection 'knowledge_chunks' with threshold 0.4
2025-09-11 15:03:26,918 - services.qdrant_service - INFO - Found 8 similar chunks for query: 'navigation system...'
2025-09-11 15:03:26,974 - services.external_task_worker - INFO - Successfully completed task fedb8219-8f41-11f0-b401-0242ac190005
2025-09-11 15:03:26,981 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:03:26,981 - services.external_task_worker - INFO - Executing task ff70bd4d-8f41-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 15:03:26,981 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617405.37913, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617405.37913, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617405.990979}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:03:26,987 - services.external_task_worker - INFO - Successfully completed task ff70bd4d-8f41-11f0-b401-0242ac190005
2025-09-11 15:03:26,992 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:03:26,992 - services.external_task_worker - INFO - Executing task ff72b934-8f41-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 15:03:26,992 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617405.37913, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617405.37913, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617405.990979}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:03:26,998 - services.external_task_worker - INFO - Successfully completed task ff72b934-8f41-11f0-b401-0242ac190005
2025-09-11 15:03:27,005 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:03:27,006 - services.external_task_worker - INFO - Executing task ff7466f9-8f41-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 15:03:27,006 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617405.37913, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617405.37913, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617405.990979}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:03:27,012 - services.external_task_worker - INFO - Successfully completed task ff7466f9-8f41-11f0-b401-0242ac190005
2025-09-11 15:03:27,018 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:03:27,018 - services.external_task_worker - INFO - Executing task ff7689ec-8f41-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 15:03:27,018 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: navigation system\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'navigation system', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617405.37913, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617405.37913, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617405.990979}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:03:27,024 - services.external_task_worker - INFO - Successfully completed task ff7689ec-8f41-11f0-b401-0242ac190005
2025-09-11 15:03:27,029 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:03:27,030 - services.external_task_worker - INFO - Executing task ff785ebd-8f41-11f0-b401-0242ac190005 for topic process-response
2025-09-11 15:03:27,030 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: navigation system\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'navigation system', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617405.37913, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617405.37913, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617405.990979}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:03:27,039 - services.external_task_worker - INFO - Successfully completed task ff785ebd-8f41-11f0-b401-0242ac190005
2025-09-11 15:03:27,044 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:03:27,044 - services.external_task_worker - INFO - Executing task ff7a3393-8f41-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 15:03:27,044 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: navigation system\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'navigation system', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617405.37913, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617405.37913, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617405.990979}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:03:27,054 - services.external_task_worker - INFO - Successfully completed task ff7a3393-8f41-11f0-b401-0242ac190005
2025-09-11 15:03:53,899 - __main__ - INFO - Received signal 15, shutting down worker...
2025-09-11 15:04:09,914 - services.external_task_worker - INFO - Starting external task worker: odras-worker-1757617449
2025-09-11 15:04:25,016 - services.external_task_worker - INFO - Received 2 tasks
2025-09-11 15:04:25,016 - services.external_task_worker - INFO - Executing task 2176744d-8f42-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 15:04:25,016 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617464.0264032, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 15:04:25,022 - services.external_task_worker - INFO - Successfully completed task 2176744d-8f42-11f0-b401-0242ac190005
2025-09-11 15:04:25,023 - services.external_task_worker - INFO - Executing task 21862bc7-8f42-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 15:04:25,023 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617464.1325665, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 15:04:25,027 - services.external_task_worker - INFO - Successfully completed task 21862bc7-8f42-11f0-b401-0242ac190005
2025-09-11 15:04:25,035 - services.external_task_worker - INFO - Received 2 tasks
2025-09-11 15:04:25,035 - services.external_task_worker - INFO - Executing task 220a5002-8f42-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 15:04:25,035 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617464.0264032, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617464.0264032, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617465.0171251}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:04:25,047 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 15:04:25,124 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 15:04:25,129 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 15:04:25,131 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 15:04:25,154 - services.external_task_worker - INFO - Successfully completed task 220a5002-8f42-11f0-b401-0242ac190005
2025-09-11 15:04:25,155 - services.external_task_worker - INFO - Executing task 220b136d-8f42-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 15:04:25,155 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617464.1325665, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617464.1325665, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617465.0232463}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:04:25,159 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 15:04:25,213 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 15:04:25,217 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 15:04:25,218 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 15:04:25,243 - services.external_task_worker - INFO - Successfully completed task 220b136d-8f42-11f0-b401-0242ac190005
2025-09-11 15:04:25,251 - services.external_task_worker - INFO - Received 2 tasks
2025-09-11 15:04:25,251 - services.external_task_worker - INFO - Executing task 221e4d61-8f42-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 15:04:25,251 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617464.0264032, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617464.0264032, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617465.0171251}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:04:25,260 - services.external_task_worker - INFO - Successfully completed task 221e4d61-8f42-11f0-b401-0242ac190005
2025-09-11 15:04:25,261 - services.external_task_worker - INFO - Executing task 222be205-8f42-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 15:04:25,261 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617464.1325665, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617464.1325665, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617465.0232463}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:04:25,271 - services.external_task_worker - INFO - Successfully completed task 222be205-8f42-11f0-b401-0242ac190005
2025-09-11 15:04:25,280 - services.external_task_worker - INFO - Received 2 tasks
2025-09-11 15:04:25,280 - services.external_task_worker - INFO - Executing task 222e531c-8f42-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 15:04:25,280 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617464.0264032, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617464.0264032, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617465.0171251}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:04:25,289 - services.external_task_worker - INFO - Successfully completed task 222e531c-8f42-11f0-b401-0242ac190005
2025-09-11 15:04:25,289 - services.external_task_worker - INFO - Executing task 222fd9d3-8f42-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 15:04:25,289 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617464.1325665, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617464.1325665, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617465.0232463}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:04:25,300 - services.external_task_worker - INFO - Successfully completed task 222fd9d3-8f42-11f0-b401-0242ac190005
2025-09-11 15:04:25,308 - services.external_task_worker - INFO - Received 2 tasks
2025-09-11 15:04:25,309 - services.external_task_worker - INFO - Executing task 2232c018-8f42-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 15:04:25,309 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617464.0264032, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617464.0264032, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617465.0171251}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:04:25,316 - services.external_task_worker - INFO - Successfully completed task 2232c018-8f42-11f0-b401-0242ac190005
2025-09-11 15:04:25,317 - services.external_task_worker - INFO - Executing task 223446cd-8f42-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 15:04:25,317 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617464.1325665, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617464.1325665, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617465.0232463}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:04:25,324 - services.external_task_worker - INFO - Successfully completed task 223446cd-8f42-11f0-b401-0242ac190005
2025-09-11 15:04:25,333 - services.external_task_worker - INFO - Received 2 tasks
2025-09-11 15:04:25,333 - services.external_task_worker - INFO - Executing task 22370600-8f42-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 15:04:25,333 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617464.0264032, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617464.0264032, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617465.0171251}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:04:25,342 - services.external_task_worker - INFO - Successfully completed task 22370600-8f42-11f0-b401-0242ac190005
2025-09-11 15:04:25,342 - services.external_task_worker - INFO - Executing task 22381783-8f42-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 15:04:25,342 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: navigation system\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'navigation system', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617464.1325665, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617464.1325665, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617465.0232463}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:04:25,349 - services.external_task_worker - INFO - Successfully completed task 22381783-8f42-11f0-b401-0242ac190005
2025-09-11 15:04:25,356 - services.external_task_worker - INFO - Received 2 tasks
2025-09-11 15:04:25,356 - services.external_task_worker - INFO - Executing task 223ad5b4-8f42-11f0-b401-0242ac190005 for topic process-response
2025-09-11 15:04:25,356 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617464.0264032, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617464.0264032, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617465.0171251}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:04:25,364 - services.external_task_worker - INFO - Successfully completed task 223ad5b4-8f42-11f0-b401-0242ac190005
2025-09-11 15:04:25,364 - services.external_task_worker - INFO - Executing task 223c0e45-8f42-11f0-b401-0242ac190005 for topic process-response
2025-09-11 15:04:25,364 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: navigation system\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'navigation system', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617464.1325665, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617464.1325665, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617465.0232463}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:04:25,373 - services.external_task_worker - INFO - Successfully completed task 223c0e45-8f42-11f0-b401-0242ac190005
2025-09-11 15:04:25,380 - services.external_task_worker - INFO - Received 2 tasks
2025-09-11 15:04:25,380 - services.external_task_worker - INFO - Executing task 223e313b-8f42-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 15:04:25,380 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617464.0264032, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617464.0264032, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617465.0171251}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:04:25,391 - services.external_task_worker - INFO - Successfully completed task 223e313b-8f42-11f0-b401-0242ac190005
2025-09-11 15:04:25,392 - services.external_task_worker - INFO - Executing task 223f90e1-8f42-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 15:04:25,392 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: navigation system\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'navigation system', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617464.1325665, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617464.1325665, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617465.0232463}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:04:25,409 - services.external_task_worker - INFO - Successfully completed task 223f90e1-8f42-11f0-b401-0242ac190005
2025-09-11 15:04:26,418 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:04:26,419 - services.external_task_worker - INFO - Executing task 22d652cb-8f42-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 15:04:26,419 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617466.3321517, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 15:04:26,424 - services.external_task_worker - INFO - Successfully completed task 22d652cb-8f42-11f0-b401-0242ac190005
2025-09-11 15:04:26,429 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:04:26,429 - services.external_task_worker - INFO - Executing task 22e016e6-8f42-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 15:04:26,429 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617466.3321517, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617466.3321517, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617466.4191854}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:04:26,433 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 15:04:26,482 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 15:04:26,495 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 15:04:26,496 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 15:04:26,514 - services.external_task_worker - INFO - Successfully completed task 22e016e6-8f42-11f0-b401-0242ac190005
2025-09-11 15:04:26,519 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:04:26,519 - services.external_task_worker - INFO - Executing task 22edf9aa-8f42-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 15:04:26,519 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617466.3321517, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617466.3321517, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617466.4191854}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:04:26,525 - services.external_task_worker - INFO - Successfully completed task 22edf9aa-8f42-11f0-b401-0242ac190005
2025-09-11 15:04:26,531 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:04:26,531 - services.external_task_worker - INFO - Executing task 22ef8061-8f42-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 15:04:26,531 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617466.3321517, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617466.3321517, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617466.4191854}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:04:26,539 - services.external_task_worker - INFO - Successfully completed task 22ef8061-8f42-11f0-b401-0242ac190005
2025-09-11 15:04:26,544 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:04:26,544 - services.external_task_worker - INFO - Executing task 22f17c46-8f42-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 15:04:26,544 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617466.3321517, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617466.3321517, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617466.4191854}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:04:26,548 - services.external_task_worker - INFO - Successfully completed task 22f17c46-8f42-11f0-b401-0242ac190005
2025-09-11 15:04:26,560 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:04:26,560 - services.external_task_worker - INFO - Executing task 22f32a09-8f42-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 15:04:26,560 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617466.3321517, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617466.3321517, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617466.4191854}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:04:26,568 - services.external_task_worker - INFO - Successfully completed task 22f32a09-8f42-11f0-b401-0242ac190005
2025-09-11 15:04:26,573 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:04:26,573 - services.external_task_worker - INFO - Executing task 22f6104a-8f42-11f0-b401-0242ac190005 for topic process-response
2025-09-11 15:04:26,573 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617466.3321517, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617466.3321517, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617466.4191854}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:04:26,579 - services.external_task_worker - INFO - Successfully completed task 22f6104a-8f42-11f0-b401-0242ac190005
2025-09-11 15:04:26,583 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:04:26,583 - services.external_task_worker - INFO - Executing task 22f7e420-8f42-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 15:04:26,583 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617466.3321517, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617466.3321517, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617466.4191854}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:04:26,592 - services.external_task_worker - INFO - Successfully completed task 22f7e420-8f42-11f0-b401-0242ac190005
2025-09-11 15:06:49,382 - __main__ - INFO - Received signal 15, shutting down worker...
2025-09-11 15:07:05,541 - services.external_task_worker - INFO - Starting external task worker: odras-worker-1757617625
2025-09-11 15:07:05,547 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:07:05,547 - services.external_task_worker - INFO - Executing task 81a2349a-8f42-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 15:07:05,547 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617625.3760507, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 15:07:05,552 - services.external_task_worker - INFO - Successfully completed task 81a2349a-8f42-11f0-b401-0242ac190005
2025-09-11 15:07:05,556 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:07:05,556 - services.external_task_worker - INFO - Executing task 81b91815-8f42-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 15:07:05,556 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617625.3760507, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617625.3760507, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617625.5475385}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:07:05,568 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 15:07:05,631 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 15:07:05,636 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 15:07:05,638 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 15:07:05,652 - services.external_task_worker - INFO - Successfully completed task 81b91815-8f42-11f0-b401-0242ac190005
2025-09-11 15:07:05,658 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:07:05,658 - services.external_task_worker - INFO - Executing task 81c85a69-8f42-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 15:07:05,658 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617625.3760507, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617625.3760507, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617625.5475385}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:07:05,665 - services.external_task_worker - INFO - Successfully completed task 81c85a69-8f42-11f0-b401-0242ac190005
2025-09-11 15:07:05,671 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:07:05,672 - services.external_task_worker - INFO - Executing task 81ca5650-8f42-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 15:07:05,672 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617625.3760507, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617625.3760507, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617625.5475385}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:07:05,678 - services.external_task_worker - INFO - Successfully completed task 81ca5650-8f42-11f0-b401-0242ac190005
2025-09-11 15:07:05,684 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:07:05,684 - services.external_task_worker - INFO - Executing task 81cc7945-8f42-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 15:07:05,684 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617625.3760507, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617625.3760507, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617625.5475385}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:07:05,692 - services.external_task_worker - INFO - Successfully completed task 81cc7945-8f42-11f0-b401-0242ac190005
2025-09-11 15:07:05,697 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:07:05,697 - services.external_task_worker - INFO - Executing task 81ce7528-8f42-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 15:07:05,697 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617625.3760507, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617625.3760507, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617625.5475385}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:07:05,704 - services.external_task_worker - INFO - Successfully completed task 81ce7528-8f42-11f0-b401-0242ac190005
2025-09-11 15:07:05,711 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:07:05,711 - services.external_task_worker - INFO - Executing task 81d049f9-8f42-11f0-b401-0242ac190005 for topic process-response
2025-09-11 15:07:05,711 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617625.3760507, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617625.3760507, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617625.5475385}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:07:05,718 - services.external_task_worker - INFO - Successfully completed task 81d049f9-8f42-11f0-b401-0242ac190005
2025-09-11 15:07:05,723 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:07:05,723 - services.external_task_worker - INFO - Executing task 81d26cef-8f42-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 15:07:05,724 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617625.3760507, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617625.3760507, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617625.5475385}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:07:05,735 - services.external_task_worker - INFO - Successfully completed task 81d26cef-8f42-11f0-b401-0242ac190005
2025-09-11 15:07:22,873 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:07:22,873 - services.external_task_worker - INFO - Executing task 8b8e7dc9-8f42-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 15:07:22,873 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617642.0252805, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 15:07:22,878 - services.external_task_worker - INFO - Successfully completed task 8b8e7dc9-8f42-11f0-b401-0242ac190005
2025-09-11 15:07:22,882 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:07:22,882 - services.external_task_worker - INFO - Executing task 8c0cfcb4-8f42-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 15:07:22,882 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617642.0252805, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617642.0252805, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617642.8735454}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:07:22,885 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 15:07:22,929 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 15:07:22,932 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 15:07:22,932 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 15:07:22,947 - services.external_task_worker - INFO - Successfully completed task 8c0cfcb4-8f42-11f0-b401-0242ac190005
2025-09-11 15:07:22,951 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:07:22,951 - services.external_task_worker - INFO - Executing task 8c178318-8f42-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 15:07:22,951 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617642.0252805, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617642.0252805, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617642.8735454}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:07:22,956 - services.external_task_worker - INFO - Successfully completed task 8c178318-8f42-11f0-b401-0242ac190005
2025-09-11 15:07:22,959 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:07:22,959 - services.external_task_worker - INFO - Executing task 8c18e2bf-8f42-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 15:07:22,960 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617642.0252805, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617642.0252805, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617642.8735454}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:07:22,964 - services.external_task_worker - INFO - Successfully completed task 8c18e2bf-8f42-11f0-b401-0242ac190005
2025-09-11 15:07:22,969 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:07:22,969 - services.external_task_worker - INFO - Executing task 8c1a1b54-8f42-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 15:07:22,969 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617642.0252805, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617642.0252805, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617642.8735454}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:07:22,974 - services.external_task_worker - INFO - Successfully completed task 8c1a1b54-8f42-11f0-b401-0242ac190005
2025-09-11 15:07:22,978 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:07:22,978 - services.external_task_worker - INFO - Executing task 8c1ba207-8f42-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 15:07:22,978 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: navigation system\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'navigation system', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617642.0252805, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617642.0252805, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617642.8735454}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:07:22,982 - services.external_task_worker - INFO - Successfully completed task 8c1ba207-8f42-11f0-b401-0242ac190005
2025-09-11 15:07:22,986 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:07:22,986 - services.external_task_worker - INFO - Executing task 8c1cda98-8f42-11f0-b401-0242ac190005 for topic process-response
2025-09-11 15:07:22,986 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: navigation system\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'navigation system', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617642.0252805, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617642.0252805, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617642.8735454}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:07:22,990 - services.external_task_worker - INFO - Successfully completed task 8c1cda98-8f42-11f0-b401-0242ac190005
2025-09-11 15:07:22,994 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:07:22,994 - services.external_task_worker - INFO - Executing task 8c1e132e-8f42-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 15:07:22,994 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: navigation system\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'navigation system', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617642.0252805, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757617642.0252805, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617642.8735454}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:07:23,004 - services.external_task_worker - INFO - Successfully completed task 8c1e132e-8f42-11f0-b401-0242ac190005
2025-09-11 15:07:24,020 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:07:24,021 - services.external_task_worker - INFO - Executing task 8c3da938-8f42-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 15:07:24,021 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.2, "timestamp": 1757617643.1744595, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 15:07:24,028 - services.external_task_worker - INFO - Successfully completed task 8c3da938-8f42-11f0-b401-0242ac190005
2025-09-11 15:07:24,033 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:07:24,033 - services.external_task_worker - INFO - Executing task 8cbc4f33-8f42-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 15:07:24,033 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.2, "timestamp": 1757617643.1744595, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.2, "timestamp": 1757617643.1744595, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617644.0213666}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:07:24,037 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 15:07:24,080 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 15:07:24,083 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 15:07:24,083 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 15:07:24,097 - services.external_task_worker - INFO - Successfully completed task 8cbc4f33-8f42-11f0-b401-0242ac190005
2025-09-11 15:07:24,104 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:07:24,104 - services.external_task_worker - INFO - Executing task 8cc6fda7-8f42-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 15:07:24,104 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.2, "timestamp": 1757617643.1744595, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.2, "timestamp": 1757617643.1744595, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617644.0213666}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:07:24,112 - services.external_task_worker - INFO - Successfully completed task 8cc6fda7-8f42-11f0-b401-0242ac190005
2025-09-11 15:07:24,117 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:07:24,118 - services.external_task_worker - INFO - Executing task 8cc8f98e-8f42-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 15:07:24,118 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.2, "timestamp": 1757617643.1744595, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.2, "timestamp": 1757617643.1744595, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617644.0213666}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:07:24,124 - services.external_task_worker - INFO - Successfully completed task 8cc8f98e-8f42-11f0-b401-0242ac190005
2025-09-11 15:07:24,128 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:07:24,128 - services.external_task_worker - INFO - Executing task 8ccb1c83-8f42-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 15:07:24,128 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.2, "timestamp": 1757617643.1744595, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.2, "timestamp": 1757617643.1744595, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617644.0213666}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:07:24,133 - services.external_task_worker - INFO - Successfully completed task 8ccb1c83-8f42-11f0-b401-0242ac190005
2025-09-11 15:07:24,137 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:07:24,137 - services.external_task_worker - INFO - Executing task 8ccc7c26-8f42-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 15:07:24,138 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: navigation system\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'navigation system', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.2, "timestamp": 1757617643.1744595, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.2, "timestamp": 1757617643.1744595, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617644.0213666}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:07:24,142 - services.external_task_worker - INFO - Successfully completed task 8ccc7c26-8f42-11f0-b401-0242ac190005
2025-09-11 15:07:24,147 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:07:24,147 - services.external_task_worker - INFO - Executing task 8ccddac7-8f42-11f0-b401-0242ac190005 for topic process-response
2025-09-11 15:07:24,147 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: navigation system\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'navigation system', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.2, "timestamp": 1757617643.1744595, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.2, "timestamp": 1757617643.1744595, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617644.0213666}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:07:24,153 - services.external_task_worker - INFO - Successfully completed task 8ccddac7-8f42-11f0-b401-0242ac190005
2025-09-11 15:07:24,157 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:07:24,157 - services.external_task_worker - INFO - Executing task 8ccf617d-8f42-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 15:07:24,157 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: navigation system\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'navigation system', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.2, "timestamp": 1757617643.1744595, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.2, "timestamp": 1757617643.1744595, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617644.0213666}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:07:24,168 - services.external_task_worker - INFO - Successfully completed task 8ccf617d-8f42-11f0-b401-0242ac190005
2025-09-11 15:08:27,608 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:08:27,608 - services.external_task_worker - INFO - Executing task b294e037-8f42-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 15:08:27,608 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617707.493664, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 15:08:27,616 - services.external_task_worker - INFO - Successfully completed task b294e037-8f42-11f0-b401-0242ac190005
2025-09-11 15:08:27,623 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:08:27,623 - services.external_task_worker - INFO - Executing task b2a2c302-8f42-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 15:08:27,623 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617707.493664, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617707.493664, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617707.6084247}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:08:27,628 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 15:08:27,674 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 15:08:27,679 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 15:08:27,680 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 15:08:27,699 - services.external_task_worker - INFO - Successfully completed task b2a2c302-8f42-11f0-b401-0242ac190005
2025-09-11 15:08:27,705 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:08:27,705 - services.external_task_worker - INFO - Executing task b2afbb66-8f42-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 15:08:27,705 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617707.493664, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617707.493664, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617707.6084247}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:08:27,714 - services.external_task_worker - INFO - Successfully completed task b2afbb66-8f42-11f0-b401-0242ac190005
2025-09-11 15:08:27,721 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:08:27,722 - services.external_task_worker - INFO - Executing task b2b1de5d-8f42-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 15:08:27,722 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617707.493664, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617707.493664, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617707.6084247}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:08:27,727 - services.external_task_worker - INFO - Successfully completed task b2b1de5d-8f42-11f0-b401-0242ac190005
2025-09-11 15:08:27,733 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:08:27,733 - services.external_task_worker - INFO - Executing task b2b42862-8f42-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 15:08:27,733 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617707.493664, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617707.493664, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617707.6084247}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:08:27,740 - services.external_task_worker - INFO - Successfully completed task b2b42862-8f42-11f0-b401-0242ac190005
2025-09-11 15:08:27,746 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:08:27,746 - services.external_task_worker - INFO - Executing task b2b5fd35-8f42-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 15:08:27,746 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required coverage area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617707.493664, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617707.493664, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617707.6084247}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:08:27,756 - services.external_task_worker - INFO - Successfully completed task b2b5fd35-8f42-11f0-b401-0242ac190005
2025-09-11 15:08:27,763 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:08:27,763 - services.external_task_worker - INFO - Executing task b2b86e46-8f42-11f0-b401-0242ac190005 for topic process-response
2025-09-11 15:08:27,763 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required coverage area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617707.493664, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617707.493664, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617707.6084247}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:08:27,771 - services.external_task_worker - INFO - Successfully completed task b2b86e46-8f42-11f0-b401-0242ac190005
2025-09-11 15:08:27,777 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:08:27,777 - services.external_task_worker - INFO - Executing task b2ba913c-8f42-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 15:08:27,777 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required coverage area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617707.493664, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617707.493664, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617707.6084247}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:08:27,787 - services.external_task_worker - INFO - Successfully completed task b2ba913c-8f42-11f0-b401-0242ac190005
2025-09-11 15:08:29,451 - __main__ - INFO - Received signal 15, shutting down worker...
2025-09-11 15:08:45,779 - services.external_task_worker - INFO - Starting external task worker: odras-worker-1757617725
2025-09-11 15:08:58,882 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:08:58,882 - services.external_task_worker - INFO - Executing task c4f8ac36-8f42-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 15:08:58,882 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.2, "timestamp": 1757617738.2226017, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 15:08:58,889 - services.external_task_worker - INFO - Successfully completed task c4f8ac36-8f42-11f0-b401-0242ac190005
2025-09-11 15:08:58,897 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:08:58,897 - services.external_task_worker - INFO - Executing task c546f361-8f42-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 15:08:58,897 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.2, "timestamp": 1757617738.2226017, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.2, "timestamp": 1757617738.2226017, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617738.8832543}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:08:58,915 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 15:08:59,004 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 15:08:59,008 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 15:08:59,009 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 15:08:59,029 - services.external_task_worker - INFO - Successfully completed task c546f361-8f42-11f0-b401-0242ac190005
2025-09-11 15:08:59,034 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:08:59,035 - services.external_task_worker - INFO - Executing task c55c4f35-8f42-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 15:08:59,035 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.2, "timestamp": 1757617738.2226017, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.2, "timestamp": 1757617738.2226017, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617738.8832543}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:08:59,041 - services.external_task_worker - INFO - Successfully completed task c55c4f35-8f42-11f0-b401-0242ac190005
2025-09-11 15:08:59,047 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:08:59,047 - services.external_task_worker - INFO - Executing task c55e240c-8f42-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 15:08:59,047 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.2, "timestamp": 1757617738.2226017, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.2, "timestamp": 1757617738.2226017, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617738.8832543}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:08:59,055 - services.external_task_worker - INFO - Successfully completed task c55e240c-8f42-11f0-b401-0242ac190005
2025-09-11 15:08:59,061 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:08:59,061 - services.external_task_worker - INFO - Executing task c5601ff1-8f42-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 15:08:59,061 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.2, "timestamp": 1757617738.2226017, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.2, "timestamp": 1757617738.2226017, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617738.8832543}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:08:59,068 - services.external_task_worker - INFO - Successfully completed task c5601ff1-8f42-11f0-b401-0242ac190005
2025-09-11 15:08:59,074 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:08:59,074 - services.external_task_worker - INFO - Executing task c56242e4-8f42-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 15:08:59,074 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: navigation system\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'navigation system', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.2, "timestamp": 1757617738.2226017, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.2, "timestamp": 1757617738.2226017, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617738.8832543}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:08:59,081 - services.external_task_worker - INFO - Successfully completed task c56242e4-8f42-11f0-b401-0242ac190005
2025-09-11 15:08:59,089 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:08:59,089 - services.external_task_worker - INFO - Executing task c5643ec5-8f42-11f0-b401-0242ac190005 for topic process-response
2025-09-11 15:08:59,089 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: navigation system\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'navigation system', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.2, "timestamp": 1757617738.2226017, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.2, "timestamp": 1757617738.2226017, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617738.8832543}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:08:59,097 - services.external_task_worker - INFO - Successfully completed task c5643ec5-8f42-11f0-b401-0242ac190005
2025-09-11 15:08:59,103 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:08:59,103 - services.external_task_worker - INFO - Executing task c56688cb-8f42-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 15:08:59,103 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: navigation system\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'navigation system', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.2, "timestamp": 1757617738.2226017, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.2, "timestamp": 1757617738.2226017, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617738.8832543}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:08:59,118 - services.external_task_worker - INFO - Successfully completed task c56688cb-8f42-11f0-b401-0242ac190005
2025-09-11 15:09:02,145 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:09:02,145 - services.external_task_worker - INFO - Executing task c7246585-8f42-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 15:09:02,145 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617741.9912388, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 15:09:02,151 - services.external_task_worker - INFO - Successfully completed task c7246585-8f42-11f0-b401-0242ac190005
2025-09-11 15:09:02,156 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:09:02,157 - services.external_task_worker - INFO - Executing task c738d800-8f42-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 15:09:02,157 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617741.9912388, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617741.9912388, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617742.145961}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:09:02,161 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 15:09:02,208 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 15:09:02,213 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 15:09:02,213 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 15:09:02,232 - services.external_task_worker - INFO - Successfully completed task c738d800-8f42-11f0-b401-0242ac190005
2025-09-11 15:09:02,239 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:09:02,239 - services.external_task_worker - INFO - Executing task c744e604-8f42-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 15:09:02,239 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617741.9912388, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617741.9912388, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617742.145961}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:09:02,251 - services.external_task_worker - INFO - Successfully completed task c744e604-8f42-11f0-b401-0242ac190005
2025-09-11 15:09:02,260 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:09:02,260 - services.external_task_worker - INFO - Executing task c747f35b-8f42-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 15:09:02,260 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617741.9912388, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617741.9912388, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617742.145961}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:09:02,270 - services.external_task_worker - INFO - Successfully completed task c747f35b-8f42-11f0-b401-0242ac190005
2025-09-11 15:09:02,277 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:09:02,277 - services.external_task_worker - INFO - Executing task c74a8b80-8f42-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 15:09:02,278 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617741.9912388, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617741.9912388, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617742.145961}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:09:02,299 - services.external_task_worker - INFO - Successfully completed task c74a8b80-8f42-11f0-b401-0242ac190005
2025-09-11 15:09:02,305 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:09:02,305 - services.external_task_worker - INFO - Executing task c74f1e73-8f42-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 15:09:02,305 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required coverage area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617741.9912388, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617741.9912388, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617742.145961}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:09:02,312 - services.external_task_worker - INFO - Successfully completed task c74f1e73-8f42-11f0-b401-0242ac190005
2025-09-11 15:09:02,319 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:09:02,319 - services.external_task_worker - INFO - Executing task c7514164-8f42-11f0-b401-0242ac190005 for topic process-response
2025-09-11 15:09:02,320 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required coverage area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617741.9912388, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617741.9912388, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617742.145961}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:09:02,327 - services.external_task_worker - INFO - Successfully completed task c7514164-8f42-11f0-b401-0242ac190005
2025-09-11 15:09:02,335 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:09:02,335 - services.external_task_worker - INFO - Executing task c753645a-8f42-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 15:09:02,335 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required coverage area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617741.9912388, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617741.9912388, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617742.145961}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:09:02,346 - services.external_task_worker - INFO - Successfully completed task c753645a-8f42-11f0-b401-0242ac190005
2025-09-11 15:10:37,777 - __main__ - INFO - Received signal 15, shutting down worker...
2025-09-11 15:10:54,050 - services.external_task_worker - INFO - Starting external task worker: odras-worker-1757617854
2025-09-11 15:11:00,100 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:11:00,100 - services.external_task_worker - INFO - Executing task 0cfc7de4-8f43-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 15:11:00,101 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617859.1730082, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 15:11:00,110 - services.external_task_worker - INFO - Successfully completed task 0cfc7de4-8f43-11f0-b401-0242ac190005
2025-09-11 15:11:00,115 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:11:00,116 - services.external_task_worker - INFO - Executing task 0d877fef-8f43-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 15:11:00,116 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617859.1730082, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617859.1730082, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617860.1014142}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:11:00,127 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 15:11:00,195 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 15:11:00,199 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 15:11:00,200 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 15:11:00,214 - services.external_task_worker - INFO - Successfully completed task 0d877fef-8f43-11f0-b401-0242ac190005
2025-09-11 15:11:00,218 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:11:00,219 - services.external_task_worker - INFO - Executing task 0d97d3b3-8f43-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 15:11:00,219 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617859.1730082, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617859.1730082, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617860.1014142}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:11:00,223 - services.external_task_worker - INFO - Successfully completed task 0d97d3b3-8f43-11f0-b401-0242ac190005
2025-09-11 15:11:00,227 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:11:00,227 - services.external_task_worker - INFO - Executing task 0d99335a-8f43-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 15:11:00,227 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617859.1730082, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617859.1730082, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617860.1014142}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:11:00,232 - services.external_task_worker - INFO - Successfully completed task 0d99335a-8f43-11f0-b401-0242ac190005
2025-09-11 15:11:00,236 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:11:00,236 - services.external_task_worker - INFO - Executing task 0d9a92ff-8f43-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 15:11:00,236 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617859.1730082, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617859.1730082, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617860.1014142}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:11:00,240 - services.external_task_worker - INFO - Successfully completed task 0d9a92ff-8f43-11f0-b401-0242ac190005
2025-09-11 15:11:00,244 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:11:00,244 - services.external_task_worker - INFO - Executing task 0d9bcb92-8f43-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 15:11:00,244 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required coverage area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617859.1730082, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617859.1730082, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617860.1014142}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:11:00,257 - services.external_task_worker - INFO - Successfully completed task 0d9bcb92-8f43-11f0-b401-0242ac190005
2025-09-11 15:11:00,264 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:11:00,264 - services.external_task_worker - INFO - Executing task 0d9d2b33-8f43-11f0-b401-0242ac190005 for topic process-response
2025-09-11 15:11:00,264 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required coverage area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617859.1730082, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617859.1730082, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617860.1014142}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:11:00,270 - services.external_task_worker - INFO - Successfully completed task 0d9d2b33-8f43-11f0-b401-0242ac190005
2025-09-11 15:11:00,275 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:11:00,275 - services.external_task_worker - INFO - Executing task 0da05f99-8f43-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 15:11:00,275 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required coverage area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617859.1730082, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757617859.1730082, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617860.1014142}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:11:00,284 - services.external_task_worker - INFO - Successfully completed task 0da05f99-8f43-11f0-b401-0242ac190005
2025-09-11 15:11:05,329 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:11:05,330 - services.external_task_worker - INFO - Executing task 100ec7a3-8f43-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 15:11:05,330 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.2, "timestamp": 1757617864.324634, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 15:11:05,335 - services.external_task_worker - INFO - Successfully completed task 100ec7a3-8f43-11f0-b401-0242ac190005
2025-09-11 15:11:05,338 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:11:05,338 - services.external_task_worker - INFO - Executing task 10a53a5e-8f43-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 15:11:05,338 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.2, "timestamp": 1757617864.324634, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.2, "timestamp": 1757617864.324634, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617865.330258}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:11:05,342 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 15:11:05,383 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 15:11:05,387 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 15:11:05,387 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 15:11:05,401 - services.external_task_worker - INFO - Successfully completed task 10a53a5e-8f43-11f0-b401-0242ac190005
2025-09-11 15:11:05,405 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:11:05,406 - services.external_task_worker - INFO - Executing task 10af4c92-8f43-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 15:11:05,406 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.2, "timestamp": 1757617864.324634, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.2, "timestamp": 1757617864.324634, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617865.330258}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:11:05,411 - services.external_task_worker - INFO - Successfully completed task 10af4c92-8f43-11f0-b401-0242ac190005
2025-09-11 15:11:05,415 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:11:05,415 - services.external_task_worker - INFO - Executing task 10b0d349-8f43-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 15:11:05,416 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.2, "timestamp": 1757617864.324634, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.2, "timestamp": 1757617864.324634, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617865.330258}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:11:05,420 - services.external_task_worker - INFO - Successfully completed task 10b0d349-8f43-11f0-b401-0242ac190005
2025-09-11 15:11:05,425 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:11:05,425 - services.external_task_worker - INFO - Executing task 10b232ee-8f43-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 15:11:05,425 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.2, "timestamp": 1757617864.324634, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.2, "timestamp": 1757617864.324634, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617865.330258}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:11:05,435 - services.external_task_worker - INFO - Successfully completed task 10b232ee-8f43-11f0-b401-0242ac190005
2025-09-11 15:11:05,446 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:11:05,447 - services.external_task_worker - INFO - Executing task 10b3b9a1-8f43-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 15:11:05,447 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: navigation system\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'navigation system', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.2, "timestamp": 1757617864.324634, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.2, "timestamp": 1757617864.324634, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617865.330258}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:11:05,457 - services.external_task_worker - INFO - Successfully completed task 10b3b9a1-8f43-11f0-b401-0242ac190005
2025-09-11 15:11:05,465 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:11:05,465 - services.external_task_worker - INFO - Executing task 10b73c22-8f43-11f0-b401-0242ac190005 for topic process-response
2025-09-11 15:11:05,465 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: navigation system\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'navigation system', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.2, "timestamp": 1757617864.324634, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.2, "timestamp": 1757617864.324634, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617865.330258}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:11:05,472 - services.external_task_worker - INFO - Successfully completed task 10b73c22-8f43-11f0-b401-0242ac190005
2025-09-11 15:11:05,478 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:11:05,478 - services.external_task_worker - INFO - Executing task 10ba2268-8f43-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 15:11:05,478 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: navigation system\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'navigation system', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.2, "timestamp": 1757617864.324634, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.2, "timestamp": 1757617864.324634, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757617865.330258}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:11:05,488 - services.external_task_worker - INFO - Successfully completed task 10ba2268-8f43-11f0-b401-0242ac190005
2025-09-11 15:13:13,695 - __main__ - INFO - Received signal 15, shutting down worker...
2025-09-11 15:13:30,178 - services.external_task_worker - INFO - Starting external task worker: odras-worker-1757618010
2025-09-11 15:13:30,186 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:13:30,186 - services.external_task_worker - INFO - Executing task 658c0082-8f43-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 15:13:30,186 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618007.7529511, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 15:13:30,193 - services.external_task_worker - INFO - Successfully completed task 658c0082-8f43-11f0-b401-0242ac190005
2025-09-11 15:13:30,198 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:13:30,198 - services.external_task_worker - INFO - Executing task 66fc808d-8f43-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 15:13:30,198 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618007.7529511, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618007.7529511, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618010.1866257}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:13:30,211 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 15:13:30,284 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 15:13:30,290 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 15:13:30,292 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 15:13:30,309 - services.rag_service - INFO - Processing RAG query: 'what is the required coverage area?' for user 33ea8707-3cdc-4aed-904d-7e8f2ad922cf
2025-09-11 15:13:30,314 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 15:13:30,314 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 15:13:30,317 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 15:13:30,317 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 15:13:31,544 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 15:13:31,562 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 15:13:31,570 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 15:13:31,573 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.5
2025-09-11 15:13:31,573 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'what is the required coverage area?...'
2025-09-11 15:13:35,140 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-11 15:13:35,177 - services.rag_service - INFO - Successfully generated RAG response with 1 chunks
2025-09-11 15:13:35,186 - services.external_task_worker - INFO - Successfully completed task 66fc808d-8f43-11f0-b401-0242ac190005
2025-09-11 15:13:35,191 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:13:35,191 - services.external_task_worker - INFO - Executing task 69f686c1-8f43-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 15:13:35,191 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618007.7529511, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[{"chunk_id": null, "content": "", "similarity_score": 0.5798365, "source_document": "disaster_response_requirements", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "unknown"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618007.7529511, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618010.1866257}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:13:35,210 - services.external_task_worker - INFO - Successfully completed task 69f686c1-8f43-11f0-b401-0242ac190005
2025-09-11 15:13:35,230 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:13:35,231 - services.external_task_worker - INFO - Executing task 69f85b98-8f43-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 15:13:35,231 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618007.7529511, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": null, "content": "", "similarity_score": 0.5798365, "source_document": "disaster_response_requirements", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "unknown"}]', 'retrieved_chunks': '[{"chunk_id": null, "content": "", "similarity_score": 0.5798365, "source_document": "disaster_response_requirements", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "unknown"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618007.7529511, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618010.1866257}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:13:35,240 - services.external_task_worker - INFO - Successfully completed task 69f85b98-8f43-11f0-b401-0242ac190005
2025-09-11 15:13:35,246 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:13:35,246 - services.external_task_worker - INFO - Executing task 69fec44d-8f43-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 15:13:35,246 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618007.7529511, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": null, "content": "", "similarity_score": 0.5798365, "source_document": "disaster_response_requirements", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "unknown"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618007.7529511, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618010.1866257}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:13:35,251 - services.external_task_worker - INFO - Successfully completed task 69fec44d-8f43-11f0-b401-0242ac190005
2025-09-11 15:13:35,256 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:13:35,256 - services.external_task_worker - INFO - Executing task 6a009820-8f43-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 15:13:35,256 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: \n\nUser Question: what is the required coverage area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618007.7529511, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": null, "content": "", "similarity_score": 0.5798365, "source_document": "disaster_response_requirements", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "unknown"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618007.7529511, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618010.1866257}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:13:35,262 - services.external_task_worker - INFO - Successfully completed task 6a009820-8f43-11f0-b401-0242ac190005
2025-09-11 15:13:35,269 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:13:35,269 - services.external_task_worker - INFO - Executing task 6a021ed1-8f43-11f0-b401-0242ac190005 for topic process-response
2025-09-11 15:13:35,269 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: \n\nUser Question: what is the required coverage area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618007.7529511, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": null, "content": "", "similarity_score": 0.5798365, "source_document": "disaster_response_requirements", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "unknown"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618007.7529511, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618010.1866257}', 'llm_response': 'Based on the available context:\n\n[Context 1]:\n\nNote: Limited context available for this query.', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:13:35,275 - services.external_task_worker - INFO - Successfully completed task 6a021ed1-8f43-11f0-b401-0242ac190005
2025-09-11 15:13:35,282 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:13:35,282 - services.external_task_worker - INFO - Executing task 6a0441c7-8f43-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 15:13:35,282 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: \n\nUser Question: what is the required coverage area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618007.7529511, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": null, "content": "", "similarity_score": 0.5798365, "source_document": "disaster_response_requirements", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "unknown"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the available context:\n\n[Context 1]:\n\nNote: Limited context available for this query.\n\nSources:\n[1] disaster_response_requirements\n', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618007.7529511, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618010.1866257}', 'llm_response': 'Based on the available context:\n\n[Context 1]:\n\nNote: Limited context available for this query.', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:13:35,291 - services.external_task_worker - INFO - Successfully completed task 6a0441c7-8f43-11f0-b401-0242ac190005
2025-09-11 15:13:42,387 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:13:42,387 - services.external_task_worker - INFO - Executing task 6df4dd01-8f43-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 15:13:42,387 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618021.8602216, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 15:13:42,400 - services.external_task_worker - INFO - Successfully completed task 6df4dd01-8f43-11f0-b401-0242ac190005
2025-09-11 15:13:42,408 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:13:42,408 - services.external_task_worker - INFO - Executing task 6e42aefc-8f43-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 15:13:42,408 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618021.8602216, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618021.8602216, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618022.3875024}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:13:42,412 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 15:13:42,456 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 15:13:42,461 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 15:13:42,461 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 15:13:42,473 - services.rag_service - INFO - Processing RAG query: 'navigation system' for user 7cad5fa0-49eb-4dc4-8c4d-b637900bd667
2025-09-11 15:13:42,477 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 15:13:42,477 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 15:13:42,478 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 15:13:42,478 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 15:13:43,180 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 15:13:43,192 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 15:13:43,202 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 15:13:43,203 - services.qdrant_service - INFO - Found 6 results in collection 'knowledge_chunks' with threshold 0.3
2025-09-11 15:13:43,203 - services.qdrant_service - INFO - Found 6 similar chunks for query: 'navigation system...'
2025-09-11 15:13:45,460 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-11 15:13:45,493 - services.rag_service - INFO - Successfully generated RAG response with 3 chunks
2025-09-11 15:13:45,505 - services.external_task_worker - INFO - Successfully completed task 6e42aefc-8f43-11f0-b401-0242ac190005
2025-09-11 15:13:45,512 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:13:45,512 - services.external_task_worker - INFO - Executing task 701ced50-8f43-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 15:13:45,512 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618021.8602216, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[{"chunk_id": null, "content": "", "similarity_score": 0.4128619, "source_document": "test_navigation_requirements", "asset_id": "3faedafc-5215-4036-b98c-dd2826f262bd", "project_id": "unknown"}, {"chunk_id": null, "content": "", "similarity_score": 0.4128619, "source_document": "test_navigation_requirements", "asset_id": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "project_id": "unknown"}, {"chunk_id": null, "content": "", "similarity_score": 0.41286188, "source_document": "test_navigation_requirements", "asset_id": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "project_id": "unknown"}]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618021.8602216, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618022.3875024}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:13:45,519 - services.external_task_worker - INFO - Successfully completed task 701ced50-8f43-11f0-b401-0242ac190005
2025-09-11 15:13:45,524 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:13:45,524 - services.external_task_worker - INFO - Executing task 701f3757-8f43-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 15:13:45,524 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'context_quality_score': 0.4128618933333333, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618021.8602216, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": null, "content": "", "similarity_score": 0.4128619, "source_document": "test_navigation_requirements", "asset_id": "3faedafc-5215-4036-b98c-dd2826f262bd", "project_id": "unknown"}, {"chunk_id": null, "content": "", "similarity_score": 0.4128619, "source_document": "test_navigation_requirements", "asset_id": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "project_id": "unknown"}, {"chunk_id": null, "content": "", "similarity_score": 0.41286188, "source_document": "test_navigation_requirements", "asset_id": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "project_id": "unknown"}]', 'retrieved_chunks': '[{"chunk_id": null, "content": "", "similarity_score": 0.4128619, "source_document": "test_navigation_requirements", "asset_id": "3faedafc-5215-4036-b98c-dd2826f262bd", "project_id": "unknown"}, {"chunk_id": null, "content": "", "similarity_score": 0.4128619, "source_document": "test_navigation_requirements", "asset_id": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "project_id": "unknown"}, {"chunk_id": null, "content": "", "similarity_score": 0.41286188, "source_document": "test_navigation_requirements", "asset_id": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "project_id": "unknown"}]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618021.8602216, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618022.3875024}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:13:45,531 - services.external_task_worker - INFO - Successfully completed task 701f3757-8f43-11f0-b401-0242ac190005
2025-09-11 15:13:45,537 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:13:45,537 - services.external_task_worker - INFO - Executing task 70210c2c-8f43-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 15:13:45,537 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'context_quality_score': 0.4128618933333333, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618021.8602216, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": null, "content": "", "similarity_score": 0.4128619, "source_document": "test_navigation_requirements", "asset_id": "3faedafc-5215-4036-b98c-dd2826f262bd", "project_id": "unknown"}, {"chunk_id": null, "content": "", "similarity_score": 0.4128619, "source_document": "test_navigation_requirements", "asset_id": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "project_id": "unknown"}, {"chunk_id": null, "content": "", "similarity_score": 0.41286188, "source_document": "test_navigation_requirements", "asset_id": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "project_id": "unknown"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618021.8602216, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618022.3875024}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:13:45,545 - services.external_task_worker - INFO - Successfully completed task 70210c2c-8f43-11f0-b401-0242ac190005
2025-09-11 15:13:45,552 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:13:45,552 - services.external_task_worker - INFO - Executing task 7023080f-8f43-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 15:13:45,552 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: \n[Context 2]: \n[Context 3]: \n\nUser Question: navigation system\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'navigation system', 'context_quality_score': 0.4128618933333333, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618021.8602216, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": null, "content": "", "similarity_score": 0.4128619, "source_document": "test_navigation_requirements", "asset_id": "3faedafc-5215-4036-b98c-dd2826f262bd", "project_id": "unknown"}, {"chunk_id": null, "content": "", "similarity_score": 0.4128619, "source_document": "test_navigation_requirements", "asset_id": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "project_id": "unknown"}, {"chunk_id": null, "content": "", "similarity_score": 0.41286188, "source_document": "test_navigation_requirements", "asset_id": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "project_id": "unknown"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618021.8602216, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618022.3875024}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:13:45,560 - services.external_task_worker - INFO - Successfully completed task 7023080f-8f43-11f0-b401-0242ac190005
2025-09-11 15:13:45,567 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:13:45,567 - services.external_task_worker - INFO - Executing task 70255210-8f43-11f0-b401-0242ac190005 for topic process-response
2025-09-11 15:13:45,567 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: \n[Context 2]: \n[Context 3]: \n\nUser Question: navigation system\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'navigation system', 'context_quality_score': 0.4128618933333333, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618021.8602216, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": null, "content": "", "similarity_score": 0.4128619, "source_document": "test_navigation_requirements", "asset_id": "3faedafc-5215-4036-b98c-dd2826f262bd", "project_id": "unknown"}, {"chunk_id": null, "content": "", "similarity_score": 0.4128619, "source_document": "test_navigation_requirements", "asset_id": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "project_id": "unknown"}, {"chunk_id": null, "content": "", "similarity_score": 0.41286188, "source_document": "test_navigation_requirements", "asset_id": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "project_id": "unknown"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618021.8602216, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618022.3875024}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]:\n[Context 2]:\n[Context 3]:\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:13:45,575 - services.external_task_worker - INFO - Successfully completed task 70255210-8f43-11f0-b401-0242ac190005
2025-09-11 15:13:45,581 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:13:45,582 - services.external_task_worker - INFO - Executing task 70279c16-8f43-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 15:13:45,582 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: \n[Context 2]: \n[Context 3]: \n\nUser Question: navigation system\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'navigation system', 'context_quality_score': 0.4128618933333333, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618021.8602216, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": null, "content": "", "similarity_score": 0.4128619, "source_document": "test_navigation_requirements", "asset_id": "3faedafc-5215-4036-b98c-dd2826f262bd", "project_id": "unknown"}, {"chunk_id": null, "content": "", "similarity_score": 0.4128619, "source_document": "test_navigation_requirements", "asset_id": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "project_id": "unknown"}, {"chunk_id": null, "content": "", "similarity_score": 0.41286188, "source_document": "test_navigation_requirements", "asset_id": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "project_id": "unknown"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]:\n[Context 2]:\n[Context 3]:\n\nThis response is based on the relevant documentation found in your knowledge assets.\n\nSources:\n[1] test_navigation_requirements\n[2] test_navigation_requirements\n[3] test_navigation_requirements\n', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618021.8602216, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618022.3875024}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]:\n[Context 2]:\n[Context 3]:\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:13:45,593 - services.external_task_worker - INFO - Successfully completed task 70279c16-8f43-11f0-b401-0242ac190005
2025-09-11 15:14:14,945 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:14:14,945 - services.external_task_worker - INFO - Executing task 811ae790-8f43-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 15:14:14,945 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618053.9869118, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 15:14:14,956 - services.external_task_worker - INFO - Successfully completed task 811ae790-8f43-11f0-b401-0242ac190005
2025-09-11 15:14:14,961 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:14:14,961 - services.external_task_worker - INFO - Executing task 81aaca9b-8f43-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 15:14:14,961 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618053.9869118, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618053.9869118, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618054.9460444}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:14:14,965 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 15:14:15,014 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 15:14:15,021 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 15:14:15,021 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 15:14:15,035 - services.rag_service - INFO - Processing RAG query: 'what is the required coverage area?' for user 33ea8707-3cdc-4aed-904d-7e8f2ad922cf
2025-09-11 15:14:15,040 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 15:14:15,040 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 15:14:15,041 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 15:14:15,041 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 15:14:15,795 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 15:14:15,809 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 15:14:15,819 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 15:14:15,820 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.5
2025-09-11 15:14:15,820 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'what is the required coverage area?...'
2025-09-11 15:14:18,118 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-11 15:14:18,154 - services.rag_service - INFO - Successfully generated RAG response with 1 chunks
2025-09-11 15:14:18,172 - services.external_task_worker - INFO - Successfully completed task 81aaca9b-8f43-11f0-b401-0242ac190005
2025-09-11 15:14:18,180 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:14:18,180 - services.external_task_worker - INFO - Executing task 839583af-8f43-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 15:14:18,180 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618053.9869118, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[{"chunk_id": null, "content": "", "similarity_score": 0.5798365, "source_document": "disaster_response_requirements", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "unknown"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618053.9869118, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618054.9460444}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:14:18,190 - services.external_task_worker - INFO - Successfully completed task 839583af-8f43-11f0-b401-0242ac190005
2025-09-11 15:14:18,197 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:14:18,197 - services.external_task_worker - INFO - Executing task 83981bd6-8f43-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 15:14:18,198 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618053.9869118, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": null, "content": "", "similarity_score": 0.5798365, "source_document": "disaster_response_requirements", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "unknown"}]', 'retrieved_chunks': '[{"chunk_id": null, "content": "", "similarity_score": 0.5798365, "source_document": "disaster_response_requirements", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "unknown"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618053.9869118, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618054.9460444}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:14:18,206 - services.external_task_worker - INFO - Successfully completed task 83981bd6-8f43-11f0-b401-0242ac190005
2025-09-11 15:14:18,211 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:14:18,212 - services.external_task_worker - INFO - Executing task 839ab3fb-8f43-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 15:14:18,212 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618053.9869118, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": null, "content": "", "similarity_score": 0.5798365, "source_document": "disaster_response_requirements", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "unknown"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618053.9869118, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618054.9460444}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:14:18,219 - services.external_task_worker - INFO - Successfully completed task 839ab3fb-8f43-11f0-b401-0242ac190005
2025-09-11 15:14:18,226 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:14:18,227 - services.external_task_worker - INFO - Executing task 839cd6ee-8f43-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 15:14:18,227 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: \n\nUser Question: what is the required coverage area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618053.9869118, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": null, "content": "", "similarity_score": 0.5798365, "source_document": "disaster_response_requirements", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "unknown"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618053.9869118, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618054.9460444}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:14:18,234 - services.external_task_worker - INFO - Successfully completed task 839cd6ee-8f43-11f0-b401-0242ac190005
2025-09-11 15:14:18,242 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:14:18,242 - services.external_task_worker - INFO - Executing task 839ef9df-8f43-11f0-b401-0242ac190005 for topic process-response
2025-09-11 15:14:18,242 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: \n\nUser Question: what is the required coverage area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618053.9869118, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": null, "content": "", "similarity_score": 0.5798365, "source_document": "disaster_response_requirements", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "unknown"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618053.9869118, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618054.9460444}', 'llm_response': 'Based on the available context:\n\n[Context 1]:\n\nNote: Limited context available for this query.', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:14:18,249 - services.external_task_worker - INFO - Successfully completed task 839ef9df-8f43-11f0-b401-0242ac190005
2025-09-11 15:14:18,257 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:14:18,257 - services.external_task_worker - INFO - Executing task 83a16af5-8f43-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 15:14:18,257 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: \n\nUser Question: what is the required coverage area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618053.9869118, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": null, "content": "", "similarity_score": 0.5798365, "source_document": "disaster_response_requirements", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "unknown"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the available context:\n\n[Context 1]:\n\nNote: Limited context available for this query.\n\nSources:\n[1] disaster_response_requirements\n', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618053.9869118, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618054.9460444}', 'llm_response': 'Based on the available context:\n\n[Context 1]:\n\nNote: Limited context available for this query.', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:14:18,273 - services.external_task_worker - INFO - Successfully completed task 83a16af5-8f43-11f0-b401-0242ac190005
2025-09-11 15:14:52,621 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:14:52,621 - services.external_task_worker - INFO - Executing task 97e2a8ef-8f43-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 15:14:52,621 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618092.2092323, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 15:14:52,630 - services.external_task_worker - INFO - Successfully completed task 97e2a8ef-8f43-11f0-b401-0242ac190005
2025-09-11 15:14:52,637 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:14:52,637 - services.external_task_worker - INFO - Executing task 981f3cda-8f43-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 15:14:52,637 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618092.2092323, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618092.2092323, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618092.6220937}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:14:52,641 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 15:14:52,692 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 15:14:52,698 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 15:14:52,698 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 15:14:52,717 - services.rag_service - INFO - Processing RAG query: 'what is the required coverage area?' for user 33ea8707-3cdc-4aed-904d-7e8f2ad922cf
2025-09-11 15:14:52,721 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 15:14:52,721 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 15:14:52,721 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 15:14:52,722 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 15:14:53,401 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 15:14:53,422 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 15:14:53,429 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 15:14:53,430 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.5
2025-09-11 15:14:53,430 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'what is the required coverage area?...'
2025-09-11 15:14:53,618 - __main__ - INFO - Received signal 15, shutting down worker...
2025-09-11 15:15:09,765 - services.external_task_worker - INFO - Starting external task worker: odras-worker-1757618109
2025-09-11 15:15:22,852 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:15:22,852 - services.external_task_worker - INFO - Executing task a9ba8814-8f43-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 15:15:22,852 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618122.0321453, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 15:15:22,858 - services.external_task_worker - INFO - Successfully completed task a9ba8814-8f43-11f0-b401-0242ac190005
2025-09-11 15:15:22,862 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:15:22,862 - services.external_task_worker - INFO - Executing task aa241f6f-8f43-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 15:15:22,862 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618122.0321453, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618122.0321453, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618122.8532052}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:15:22,876 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 15:15:22,961 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 15:15:22,966 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 15:15:22,968 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 15:15:22,982 - services.rag_service - INFO - Processing RAG query: 'what is the required coverage area?' for user 33ea8707-3cdc-4aed-904d-7e8f2ad922cf
2025-09-11 15:15:22,985 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 15:15:22,986 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 15:15:22,987 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 15:15:22,987 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 15:15:24,057 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 15:15:24,083 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 15:15:24,091 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 15:15:24,093 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.5
2025-09-11 15:15:24,094 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'what is the required coverage area?...'
2025-09-11 15:15:26,849 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-11 15:15:26,868 - services.rag_service - INFO - Successfully generated RAG response with 1 chunks
2025-09-11 15:15:26,877 - services.external_task_worker - INFO - Successfully completed task aa241f6f-8f43-11f0-b401-0242ac190005
2025-09-11 15:15:26,882 - services.external_task_worker - INFO - Received 2 tasks
2025-09-11 15:15:26,882 - services.external_task_worker - INFO - Executing task aa3b7809-8f43-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 15:15:26,882 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618122.9885092, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 15:15:26,887 - services.external_task_worker - INFO - Successfully completed task aa3b7809-8f43-11f0-b401-0242ac190005
2025-09-11 15:15:26,887 - services.external_task_worker - INFO - Executing task ac895ebd-8f43-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 15:15:26,887 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618122.0321453, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[{"chunk_id": null, "content": "Content from disaster_response_requirements", "similarity_score": 0.5798365, "source_document": "disaster_response_requirements", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "unknown"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618122.0321453, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618122.8532052}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:15:26,893 - services.external_task_worker - INFO - Successfully completed task ac895ebd-8f43-11f0-b401-0242ac190005
2025-09-11 15:15:26,898 - services.external_task_worker - INFO - Received 2 tasks
2025-09-11 15:15:26,898 - services.external_task_worker - INFO - Executing task ac8ae578-8f43-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 15:15:26,898 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618122.9885092, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618122.9885092, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618126.8829787}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:15:26,902 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 15:15:26,944 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 15:15:26,946 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 15:15:26,947 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 15:15:26,955 - services.rag_service - INFO - Processing RAG query: 'navigation system' for user 7cad5fa0-49eb-4dc4-8c4d-b637900bd667
2025-09-11 15:15:26,958 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 15:15:26,959 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 15:15:26,959 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 15:15:26,959 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 15:15:27,833 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 15:15:27,844 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 15:15:27,850 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 15:15:27,851 - services.qdrant_service - INFO - Found 6 results in collection 'knowledge_chunks' with threshold 0.3
2025-09-11 15:15:27,851 - services.qdrant_service - INFO - Found 6 similar chunks for query: 'navigation system...'
2025-09-11 15:15:30,239 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-11 15:15:30,263 - services.rag_service - INFO - Successfully generated RAG response with 3 chunks
2025-09-11 15:15:30,273 - services.external_task_worker - INFO - Successfully completed task ac8ae578-8f43-11f0-b401-0242ac190005
2025-09-11 15:15:30,273 - services.external_task_worker - INFO - Executing task ac8ba8df-8f43-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 15:15:30,273 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618122.0321453, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": null, "content": "Content from disaster_response_requirements", "similarity_score": 0.5798365, "source_document": "disaster_response_requirements", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "unknown"}]', 'retrieved_chunks': '[{"chunk_id": null, "content": "Content from disaster_response_requirements", "similarity_score": 0.5798365, "source_document": "disaster_response_requirements", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "unknown"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618122.0321453, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618122.8532052}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:15:30,278 - services.external_task_worker - INFO - Successfully completed task ac8ba8df-8f43-11f0-b401-0242ac190005
2025-09-11 15:15:30,283 - services.external_task_worker - INFO - Received 2 tasks
2025-09-11 15:15:30,283 - services.external_task_worker - INFO - Executing task ae8f6833-8f43-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 15:15:30,283 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618122.9885092, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[{"chunk_id": null, "content": "Content from test_navigation_requirements", "similarity_score": 0.4128619, "source_document": "test_navigation_requirements", "asset_id": "3faedafc-5215-4036-b98c-dd2826f262bd", "project_id": "unknown"}, {"chunk_id": null, "content": "Content from test_navigation_requirements", "similarity_score": 0.4128619, "source_document": "test_navigation_requirements", "asset_id": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "project_id": "unknown"}, {"chunk_id": null, "content": "Content from test_navigation_requirements", "similarity_score": 0.41286188, "source_document": "test_navigation_requirements", "asset_id": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "project_id": "unknown"}]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618122.9885092, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618126.8829787}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:15:30,288 - services.external_task_worker - INFO - Successfully completed task ae8f6833-8f43-11f0-b401-0242ac190005
2025-09-11 15:15:30,289 - services.external_task_worker - INFO - Executing task ae9052a8-8f43-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 15:15:30,289 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618122.0321453, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": null, "content": "Content from disaster_response_requirements", "similarity_score": 0.5798365, "source_document": "disaster_response_requirements", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "unknown"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618122.0321453, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618122.8532052}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:15:30,293 - services.external_task_worker - INFO - Successfully completed task ae9052a8-8f43-11f0-b401-0242ac190005
2025-09-11 15:15:30,298 - services.external_task_worker - INFO - Received 2 tasks
2025-09-11 15:15:30,298 - services.external_task_worker - INFO - Executing task ae91d95f-8f43-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 15:15:30,298 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'context_quality_score': 0.4128618933333333, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618122.9885092, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": null, "content": "Content from test_navigation_requirements", "similarity_score": 0.4128619, "source_document": "test_navigation_requirements", "asset_id": "3faedafc-5215-4036-b98c-dd2826f262bd", "project_id": "unknown"}, {"chunk_id": null, "content": "Content from test_navigation_requirements", "similarity_score": 0.4128619, "source_document": "test_navigation_requirements", "asset_id": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "project_id": "unknown"}, {"chunk_id": null, "content": "Content from test_navigation_requirements", "similarity_score": 0.41286188, "source_document": "test_navigation_requirements", "asset_id": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "project_id": "unknown"}]', 'retrieved_chunks': '[{"chunk_id": null, "content": "Content from test_navigation_requirements", "similarity_score": 0.4128619, "source_document": "test_navigation_requirements", "asset_id": "3faedafc-5215-4036-b98c-dd2826f262bd", "project_id": "unknown"}, {"chunk_id": null, "content": "Content from test_navigation_requirements", "similarity_score": 0.4128619, "source_document": "test_navigation_requirements", "asset_id": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "project_id": "unknown"}, {"chunk_id": null, "content": "Content from test_navigation_requirements", "similarity_score": 0.41286188, "source_document": "test_navigation_requirements", "asset_id": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "project_id": "unknown"}]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618122.9885092, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618126.8829787}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:15:30,305 - services.external_task_worker - INFO - Successfully completed task ae91d95f-8f43-11f0-b401-0242ac190005
2025-09-11 15:15:30,305 - services.external_task_worker - INFO - Executing task ae929cc2-8f43-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 15:15:30,305 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: Content from disaster_response_requirements\n\nUser Question: what is the required coverage area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618122.0321453, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": null, "content": "Content from disaster_response_requirements", "similarity_score": 0.5798365, "source_document": "disaster_response_requirements", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "unknown"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618122.0321453, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618122.8532052}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:15:30,310 - services.external_task_worker - INFO - Successfully completed task ae929cc2-8f43-11f0-b401-0242ac190005
2025-09-11 15:15:30,314 - services.external_task_worker - INFO - Received 2 tasks
2025-09-11 15:15:30,315 - services.external_task_worker - INFO - Executing task ae944a87-8f43-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 15:15:30,315 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'context_quality_score': 0.4128618933333333, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618122.9885092, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": null, "content": "Content from test_navigation_requirements", "similarity_score": 0.4128619, "source_document": "test_navigation_requirements", "asset_id": "3faedafc-5215-4036-b98c-dd2826f262bd", "project_id": "unknown"}, {"chunk_id": null, "content": "Content from test_navigation_requirements", "similarity_score": 0.4128619, "source_document": "test_navigation_requirements", "asset_id": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "project_id": "unknown"}, {"chunk_id": null, "content": "Content from test_navigation_requirements", "similarity_score": 0.41286188, "source_document": "test_navigation_requirements", "asset_id": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "project_id": "unknown"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618122.9885092, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618126.8829787}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:15:30,321 - services.external_task_worker - INFO - Successfully completed task ae944a87-8f43-11f0-b401-0242ac190005
2025-09-11 15:15:30,321 - services.external_task_worker - INFO - Executing task ae950de8-8f43-11f0-b401-0242ac190005 for topic process-response
2025-09-11 15:15:30,321 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: Content from disaster_response_requirements\n\nUser Question: what is the required coverage area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618122.0321453, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": null, "content": "Content from disaster_response_requirements", "similarity_score": 0.5798365, "source_document": "disaster_response_requirements", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "unknown"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618122.0321453, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618122.8532052}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: Content from disaster_response_requirements\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:15:30,326 - services.external_task_worker - INFO - Successfully completed task ae950de8-8f43-11f0-b401-0242ac190005
2025-09-11 15:15:30,333 - services.external_task_worker - INFO - Received 2 tasks
2025-09-11 15:15:30,333 - services.external_task_worker - INFO - Executing task ae96bbab-8f43-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 15:15:30,333 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: Content from test_navigation_requirements\n[Context 2]: Content from test_navigation_requirements\n[Context 3]: Content from test_navigation_requirements\n\nUser Question: navigation system\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'navigation system', 'context_quality_score': 0.4128618933333333, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618122.9885092, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": null, "content": "Content from test_navigation_requirements", "similarity_score": 0.4128619, "source_document": "test_navigation_requirements", "asset_id": "3faedafc-5215-4036-b98c-dd2826f262bd", "project_id": "unknown"}, {"chunk_id": null, "content": "Content from test_navigation_requirements", "similarity_score": 0.4128619, "source_document": "test_navigation_requirements", "asset_id": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "project_id": "unknown"}, {"chunk_id": null, "content": "Content from test_navigation_requirements", "similarity_score": 0.41286188, "source_document": "test_navigation_requirements", "asset_id": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "project_id": "unknown"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618122.9885092, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618126.8829787}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:15:30,341 - services.external_task_worker - INFO - Successfully completed task ae96bbab-8f43-11f0-b401-0242ac190005
2025-09-11 15:15:30,341 - services.external_task_worker - INFO - Executing task ae97a621-8f43-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 15:15:30,341 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: Content from disaster_response_requirements\n\nUser Question: what is the required coverage area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618122.0321453, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": null, "content": "Content from disaster_response_requirements", "similarity_score": 0.5798365, "source_document": "disaster_response_requirements", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "unknown"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: Content from disaster_response_requirements\n\nThis response is based on the relevant documentation found in your knowledge assets.\n\nSources:\n[1] disaster_response_requirements\n', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618122.0321453, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618122.8532052}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: Content from disaster_response_requirements\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:15:30,352 - services.external_task_worker - INFO - Successfully completed task ae97a621-8f43-11f0-b401-0242ac190005
2025-09-11 15:15:30,358 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:15:30,358 - services.external_task_worker - INFO - Executing task ae99c912-8f43-11f0-b401-0242ac190005 for topic process-response
2025-09-11 15:15:30,358 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: Content from test_navigation_requirements\n[Context 2]: Content from test_navigation_requirements\n[Context 3]: Content from test_navigation_requirements\n\nUser Question: navigation system\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'navigation system', 'context_quality_score': 0.4128618933333333, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618122.9885092, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": null, "content": "Content from test_navigation_requirements", "similarity_score": 0.4128619, "source_document": "test_navigation_requirements", "asset_id": "3faedafc-5215-4036-b98c-dd2826f262bd", "project_id": "unknown"}, {"chunk_id": null, "content": "Content from test_navigation_requirements", "similarity_score": 0.4128619, "source_document": "test_navigation_requirements", "asset_id": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "project_id": "unknown"}, {"chunk_id": null, "content": "Content from test_navigation_requirements", "similarity_score": 0.41286188, "source_document": "test_navigation_requirements", "asset_id": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "project_id": "unknown"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618122.9885092, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618126.8829787}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: Content from test_navigation_requirements\n[Context 2]: Content from test_navigation_requirements\n[Context 3]: Content from test_navigation_requirements\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:15:30,367 - services.external_task_worker - INFO - Successfully completed task ae99c912-8f43-11f0-b401-0242ac190005
2025-09-11 15:15:30,373 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:15:30,373 - services.external_task_worker - INFO - Executing task ae9d71b8-8f43-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 15:15:30,373 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: Content from test_navigation_requirements\n[Context 2]: Content from test_navigation_requirements\n[Context 3]: Content from test_navigation_requirements\n\nUser Question: navigation system\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'navigation system', 'context_quality_score': 0.4128618933333333, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618122.9885092, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": null, "content": "Content from test_navigation_requirements", "similarity_score": 0.4128619, "source_document": "test_navigation_requirements", "asset_id": "3faedafc-5215-4036-b98c-dd2826f262bd", "project_id": "unknown"}, {"chunk_id": null, "content": "Content from test_navigation_requirements", "similarity_score": 0.4128619, "source_document": "test_navigation_requirements", "asset_id": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "project_id": "unknown"}, {"chunk_id": null, "content": "Content from test_navigation_requirements", "similarity_score": 0.41286188, "source_document": "test_navigation_requirements", "asset_id": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "project_id": "unknown"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: Content from test_navigation_requirements\n[Context 2]: Content from test_navigation_requirements\n[Context 3]: Content from test_navigation_requirements\n\nThis response is based on the relevant documentation found in your knowledge assets.\n\nSources:\n[1] test_navigation_requirements\n[2] test_navigation_requirements\n[3] test_navigation_requirements\n', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618122.9885092, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618126.8829787}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: Content from test_navigation_requirements\n[Context 2]: Content from test_navigation_requirements\n[Context 3]: Content from test_navigation_requirements\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:15:30,391 - services.external_task_worker - INFO - Successfully completed task ae9d71b8-8f43-11f0-b401-0242ac190005
2025-09-11 15:16:02,541 - __main__ - INFO - Received signal 15, shutting down worker...
2025-09-11 15:16:18,657 - services.external_task_worker - INFO - Starting external task worker: odras-worker-1757618178
2025-09-11 15:16:28,729 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:16:28,730 - services.external_task_worker - INFO - Executing task d11f854e-8f43-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 15:16:28,730 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618188.140106, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 15:16:28,740 - services.external_task_worker - INFO - Successfully completed task d11f854e-8f43-11f0-b401-0242ac190005
2025-09-11 15:16:28,748 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:16:28,748 - services.external_task_worker - INFO - Executing task d1689c59-8f43-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 15:16:28,748 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618188.140106, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618188.140106, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618188.7309089}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:16:28,759 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 15:16:28,816 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 15:16:28,821 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 15:16:28,822 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 15:16:28,833 - services.rag_service - INFO - Processing RAG query: 'what is the required coverage area?' for user 33ea8707-3cdc-4aed-904d-7e8f2ad922cf
2025-09-11 15:16:28,837 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 15:16:28,837 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 15:16:28,839 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 15:16:28,839 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 15:16:29,844 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 15:16:29,863 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 15:16:29,872 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 15:16:29,874 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.5
2025-09-11 15:16:29,874 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'what is the required coverage area?...'
2025-09-11 15:16:30,600 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 503 Service Unavailable"
2025-09-11 15:16:30,602 - services.llm_team - ERROR - OpenAI API returned HTTP 503: upstream connect error or disconnect/reset before headers. reset reason: connection termination
2025-09-11 15:16:30,602 - services.rag_service - ERROR - RAG query failed: 'answer'
2025-09-11 15:16:30,614 - services.external_task_worker - INFO - Successfully completed task d1689c59-8f43-11f0-b401-0242ac190005
2025-09-11 15:16:30,618 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:16:30,619 - services.external_task_worker - INFO - Executing task d286b69d-8f43-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 15:16:30,619 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618188.140106, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618188.140106, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618188.7309089}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:16:30,624 - services.external_task_worker - INFO - Successfully completed task d286b69d-8f43-11f0-b401-0242ac190005
2025-09-11 15:16:30,630 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:16:30,630 - services.external_task_worker - INFO - Executing task d2883d54-8f43-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 15:16:30,630 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618188.140106, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618188.140106, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618188.7309089}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:16:30,635 - services.external_task_worker - INFO - Successfully completed task d2883d54-8f43-11f0-b401-0242ac190005
2025-09-11 15:16:30,640 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:16:30,640 - services.external_task_worker - INFO - Executing task d28a1229-8f43-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 15:16:30,640 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618188.140106, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618188.140106, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618188.7309089}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:16:30,646 - services.external_task_worker - INFO - Successfully completed task d28a1229-8f43-11f0-b401-0242ac190005
2025-09-11 15:16:30,651 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:16:30,651 - services.external_task_worker - INFO - Executing task d28b98dc-8f43-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 15:16:30,651 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required coverage area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618188.140106, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618188.140106, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618188.7309089}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:16:30,658 - services.external_task_worker - INFO - Successfully completed task d28b98dc-8f43-11f0-b401-0242ac190005
2025-09-11 15:16:30,663 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:16:30,663 - services.external_task_worker - INFO - Executing task d28d6dad-8f43-11f0-b401-0242ac190005 for topic process-response
2025-09-11 15:16:30,663 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required coverage area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618188.140106, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618188.140106, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618188.7309089}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:16:30,669 - services.external_task_worker - INFO - Successfully completed task d28d6dad-8f43-11f0-b401-0242ac190005
2025-09-11 15:16:30,675 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:16:30,675 - services.external_task_worker - INFO - Executing task d28f1b78-8f43-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 15:16:30,675 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required coverage area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618188.140106, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618188.140106, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618188.7309089}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:16:30,686 - services.external_task_worker - INFO - Successfully completed task d28f1b78-8f43-11f0-b401-0242ac190005
2025-09-11 15:16:35,729 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:16:35,729 - services.external_task_worker - INFO - Executing task d5324f22-8f43-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 15:16:35,729 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618195.0676513, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 15:16:35,737 - services.external_task_worker - INFO - Successfully completed task d5324f22-8f43-11f0-b401-0242ac190005
2025-09-11 15:16:35,742 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:16:35,742 - services.external_task_worker - INFO - Executing task d5946c6d-8f43-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 15:16:35,742 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618195.0676513, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618195.0676513, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618195.7300477}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:16:35,746 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 15:16:35,788 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 15:16:35,792 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 15:16:35,793 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 15:16:35,801 - services.rag_service - INFO - Processing RAG query: 'navigation system' for user 7cad5fa0-49eb-4dc4-8c4d-b637900bd667
2025-09-11 15:16:35,805 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 15:16:35,805 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 15:16:35,806 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 15:16:35,806 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 15:16:36,491 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 15:16:36,507 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 15:16:36,515 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 15:16:36,517 - services.qdrant_service - INFO - Found 6 results in collection 'knowledge_chunks' with threshold 0.3
2025-09-11 15:16:36,517 - services.qdrant_service - INFO - Found 6 similar chunks for query: 'navigation system...'
2025-09-11 15:16:39,429 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-11 15:16:39,466 - services.rag_service - INFO - Successfully generated RAG response with 3 chunks
2025-09-11 15:16:39,474 - services.external_task_worker - INFO - Successfully completed task d5946c6d-8f43-11f0-b401-0242ac190005
2025-09-11 15:16:39,479 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:16:39,479 - services.external_task_worker - INFO - Executing task d7cecb21-8f43-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 15:16:39,479 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618195.0676513, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[{"chunk_id": null, "content": "Content from test_navigation_requirements", "similarity_score": 0.4128619, "source_document": "test_navigation_requirements", "asset_id": "3faedafc-5215-4036-b98c-dd2826f262bd", "project_id": "unknown"}, {"chunk_id": null, "content": "Content from test_navigation_requirements", "similarity_score": 0.4128619, "source_document": "test_navigation_requirements", "asset_id": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "project_id": "unknown"}, {"chunk_id": null, "content": "Content from test_navigation_requirements", "similarity_score": 0.41286188, "source_document": "test_navigation_requirements", "asset_id": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "project_id": "unknown"}]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618195.0676513, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618195.7300477}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:16:39,486 - services.external_task_worker - INFO - Successfully completed task d7cecb21-8f43-11f0-b401-0242ac190005
2025-09-11 15:16:39,490 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:16:39,491 - services.external_task_worker - INFO - Executing task d7d078e8-8f43-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 15:16:39,491 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'context_quality_score': 0.4128618933333333, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618195.0676513, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": null, "content": "Content from test_navigation_requirements", "similarity_score": 0.4128619, "source_document": "test_navigation_requirements", "asset_id": "3faedafc-5215-4036-b98c-dd2826f262bd", "project_id": "unknown"}, {"chunk_id": null, "content": "Content from test_navigation_requirements", "similarity_score": 0.4128619, "source_document": "test_navigation_requirements", "asset_id": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "project_id": "unknown"}, {"chunk_id": null, "content": "Content from test_navigation_requirements", "similarity_score": 0.41286188, "source_document": "test_navigation_requirements", "asset_id": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "project_id": "unknown"}]', 'retrieved_chunks': '[{"chunk_id": null, "content": "Content from test_navigation_requirements", "similarity_score": 0.4128619, "source_document": "test_navigation_requirements", "asset_id": "3faedafc-5215-4036-b98c-dd2826f262bd", "project_id": "unknown"}, {"chunk_id": null, "content": "Content from test_navigation_requirements", "similarity_score": 0.4128619, "source_document": "test_navigation_requirements", "asset_id": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "project_id": "unknown"}, {"chunk_id": null, "content": "Content from test_navigation_requirements", "similarity_score": 0.41286188, "source_document": "test_navigation_requirements", "asset_id": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "project_id": "unknown"}]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618195.0676513, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618195.7300477}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:16:39,496 - services.external_task_worker - INFO - Successfully completed task d7d078e8-8f43-11f0-b401-0242ac190005
2025-09-11 15:16:39,502 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:16:39,502 - services.external_task_worker - INFO - Executing task d7d1ff9d-8f43-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 15:16:39,502 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'context_quality_score': 0.4128618933333333, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618195.0676513, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": null, "content": "Content from test_navigation_requirements", "similarity_score": 0.4128619, "source_document": "test_navigation_requirements", "asset_id": "3faedafc-5215-4036-b98c-dd2826f262bd", "project_id": "unknown"}, {"chunk_id": null, "content": "Content from test_navigation_requirements", "similarity_score": 0.4128619, "source_document": "test_navigation_requirements", "asset_id": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "project_id": "unknown"}, {"chunk_id": null, "content": "Content from test_navigation_requirements", "similarity_score": 0.41286188, "source_document": "test_navigation_requirements", "asset_id": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "project_id": "unknown"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618195.0676513, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618195.7300477}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:16:39,510 - services.external_task_worker - INFO - Successfully completed task d7d1ff9d-8f43-11f0-b401-0242ac190005
2025-09-11 15:16:39,516 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:16:39,516 - services.external_task_worker - INFO - Executing task d7d42290-8f43-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 15:16:39,517 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: Content from test_navigation_requirements\n[Context 2]: Content from test_navigation_requirements\n[Context 3]: Content from test_navigation_requirements\n\nUser Question: navigation system\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'navigation system', 'context_quality_score': 0.4128618933333333, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618195.0676513, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": null, "content": "Content from test_navigation_requirements", "similarity_score": 0.4128619, "source_document": "test_navigation_requirements", "asset_id": "3faedafc-5215-4036-b98c-dd2826f262bd", "project_id": "unknown"}, {"chunk_id": null, "content": "Content from test_navigation_requirements", "similarity_score": 0.4128619, "source_document": "test_navigation_requirements", "asset_id": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "project_id": "unknown"}, {"chunk_id": null, "content": "Content from test_navigation_requirements", "similarity_score": 0.41286188, "source_document": "test_navigation_requirements", "asset_id": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "project_id": "unknown"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618195.0676513, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618195.7300477}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:16:39,523 - services.external_task_worker - INFO - Successfully completed task d7d42290-8f43-11f0-b401-0242ac190005
2025-09-11 15:16:39,529 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:16:39,529 - services.external_task_worker - INFO - Executing task d7d61e71-8f43-11f0-b401-0242ac190005 for topic process-response
2025-09-11 15:16:39,529 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: Content from test_navigation_requirements\n[Context 2]: Content from test_navigation_requirements\n[Context 3]: Content from test_navigation_requirements\n\nUser Question: navigation system\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'navigation system', 'context_quality_score': 0.4128618933333333, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618195.0676513, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": null, "content": "Content from test_navigation_requirements", "similarity_score": 0.4128619, "source_document": "test_navigation_requirements", "asset_id": "3faedafc-5215-4036-b98c-dd2826f262bd", "project_id": "unknown"}, {"chunk_id": null, "content": "Content from test_navigation_requirements", "similarity_score": 0.4128619, "source_document": "test_navigation_requirements", "asset_id": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "project_id": "unknown"}, {"chunk_id": null, "content": "Content from test_navigation_requirements", "similarity_score": 0.41286188, "source_document": "test_navigation_requirements", "asset_id": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "project_id": "unknown"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618195.0676513, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618195.7300477}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: Content from test_navigation_requirements\n[Context 2]: Content from test_navigation_requirements\n[Context 3]: Content from test_navigation_requirements\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:16:39,537 - services.external_task_worker - INFO - Successfully completed task d7d61e71-8f43-11f0-b401-0242ac190005
2025-09-11 15:16:39,544 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:16:39,544 - services.external_task_worker - INFO - Executing task d7d81a5c-8f43-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 15:16:39,544 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: Content from test_navigation_requirements\n[Context 2]: Content from test_navigation_requirements\n[Context 3]: Content from test_navigation_requirements\n\nUser Question: navigation system\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'navigation system', 'context_quality_score': 0.4128618933333333, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618195.0676513, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": null, "content": "Content from test_navigation_requirements", "similarity_score": 0.4128619, "source_document": "test_navigation_requirements", "asset_id": "3faedafc-5215-4036-b98c-dd2826f262bd", "project_id": "unknown"}, {"chunk_id": null, "content": "Content from test_navigation_requirements", "similarity_score": 0.4128619, "source_document": "test_navigation_requirements", "asset_id": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "project_id": "unknown"}, {"chunk_id": null, "content": "Content from test_navigation_requirements", "similarity_score": 0.41286188, "source_document": "test_navigation_requirements", "asset_id": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "project_id": "unknown"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: Content from test_navigation_requirements\n[Context 2]: Content from test_navigation_requirements\n[Context 3]: Content from test_navigation_requirements\n\nThis response is based on the relevant documentation found in your knowledge assets.\n\nSources:\n[1] test_navigation_requirements\n[2] test_navigation_requirements\n[3] test_navigation_requirements\n', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618195.0676513, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618195.7300477}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: Content from test_navigation_requirements\n[Context 2]: Content from test_navigation_requirements\n[Context 3]: Content from test_navigation_requirements\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:16:39,555 - services.external_task_worker - INFO - Successfully completed task d7d81a5c-8f43-11f0-b401-0242ac190005
2025-09-11 15:16:40,566 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:16:40,566 - services.external_task_worker - INFO - Executing task d85783a6-8f43-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 15:16:40,566 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618200.3423448, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 15:16:40,570 - services.external_task_worker - INFO - Successfully completed task d85783a6-8f43-11f0-b401-0242ac190005
2025-09-11 15:16:40,575 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:16:40,575 - services.external_task_worker - INFO - Executing task d8760841-8f43-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 15:16:40,575 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618200.3423448, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618200.3423448, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618200.5664206}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:16:40,579 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 15:16:40,625 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 15:16:40,628 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 15:16:40,629 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 15:16:40,640 - services.rag_service - INFO - Processing RAG query: 'what is the required Coverage Area?' for user 7cad5fa0-49eb-4dc4-8c4d-b637900bd667
2025-09-11 15:16:40,644 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 15:16:40,644 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 15:16:40,645 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 15:16:40,645 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 15:16:41,323 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 15:16:41,349 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 15:16:41,359 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 15:16:41,360 - services.qdrant_service - INFO - Found 5 results in collection 'knowledge_chunks' with threshold 0.3
2025-09-11 15:16:41,360 - services.qdrant_service - INFO - Found 5 similar chunks for query: 'what is the required Coverage Area?...'
2025-09-11 15:16:41,436 - services.external_task_worker - INFO - Successfully completed task d8760841-8f43-11f0-b401-0242ac190005
2025-09-11 15:16:41,442 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:16:41,442 - services.external_task_worker - INFO - Executing task d8fa0565-8f43-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 15:16:41,442 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618200.3423448, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618200.3423448, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618200.5664206}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:16:41,449 - services.external_task_worker - INFO - Successfully completed task d8fa0565-8f43-11f0-b401-0242ac190005
2025-09-11 15:16:41,455 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:16:41,455 - services.external_task_worker - INFO - Executing task d8fc014c-8f43-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 15:16:41,455 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618200.3423448, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618200.3423448, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618200.5664206}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:16:41,461 - services.external_task_worker - INFO - Successfully completed task d8fc014c-8f43-11f0-b401-0242ac190005
2025-09-11 15:16:41,467 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:16:41,467 - services.external_task_worker - INFO - Executing task d8fdd621-8f43-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 15:16:41,467 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618200.3423448, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618200.3423448, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618200.5664206}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:16:41,472 - services.external_task_worker - INFO - Successfully completed task d8fdd621-8f43-11f0-b401-0242ac190005
2025-09-11 15:16:41,477 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:16:41,477 - services.external_task_worker - INFO - Executing task d8ffa9f4-8f43-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 15:16:41,477 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618200.3423448, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618200.3423448, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618200.5664206}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:16:41,485 - services.external_task_worker - INFO - Successfully completed task d8ffa9f4-8f43-11f0-b401-0242ac190005
2025-09-11 15:16:41,490 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:16:41,490 - services.external_task_worker - INFO - Executing task d9017ec5-8f43-11f0-b401-0242ac190005 for topic process-response
2025-09-11 15:16:41,490 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618200.3423448, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618200.3423448, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618200.5664206}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:16:41,497 - services.external_task_worker - INFO - Successfully completed task d9017ec5-8f43-11f0-b401-0242ac190005
2025-09-11 15:16:41,502 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:16:41,503 - services.external_task_worker - INFO - Executing task d90353a0-8f43-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 15:16:41,503 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618200.3423448, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618200.3423448, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618200.5664206}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:16:41,514 - services.external_task_worker - INFO - Successfully completed task d90353a0-8f43-11f0-b401-0242ac190005
2025-09-11 15:16:42,525 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:16:42,525 - services.external_task_worker - INFO - Executing task d99cd49a-8f43-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 15:16:42,525 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618202.481155, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 15:16:42,531 - services.external_task_worker - INFO - Successfully completed task d99cd49a-8f43-11f0-b401-0242ac190005
2025-09-11 15:16:42,536 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:16:42,536 - services.external_task_worker - INFO - Executing task d9a14185-8f43-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 15:16:42,536 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618202.481155, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618202.481155, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618202.5254307}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:16:42,539 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 15:16:42,597 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 15:16:42,602 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 15:16:42,603 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 15:16:42,615 - services.rag_service - INFO - Processing RAG query: 'what is the required coverage area?' for user 33ea8707-3cdc-4aed-904d-7e8f2ad922cf
2025-09-11 15:16:42,619 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 15:16:42,619 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 15:16:42,620 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 15:16:42,620 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 15:16:43,333 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 15:16:43,349 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 15:16:43,356 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 15:16:43,357 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.5
2025-09-11 15:16:43,357 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'what is the required coverage area?...'
2025-09-11 15:16:46,231 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-11 15:16:46,261 - services.rag_service - INFO - Successfully generated RAG response with 1 chunks
2025-09-11 15:16:46,272 - services.external_task_worker - INFO - Successfully completed task d9a14185-8f43-11f0-b401-0242ac190005
2025-09-11 15:16:46,280 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:16:46,280 - services.external_task_worker - INFO - Executing task dbdbef59-8f43-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 15:16:46,280 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618202.481155, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[{"chunk_id": null, "content": "Content from disaster_response_requirements", "similarity_score": 0.5798365, "source_document": "disaster_response_requirements", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "unknown"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618202.481155, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618202.5254307}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:16:46,288 - services.external_task_worker - INFO - Successfully completed task dbdbef59-8f43-11f0-b401-0242ac190005
2025-09-11 15:16:46,308 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:16:46,308 - services.external_task_worker - INFO - Executing task dbde3960-8f43-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 15:16:46,308 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618202.481155, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": null, "content": "Content from disaster_response_requirements", "similarity_score": 0.5798365, "source_document": "disaster_response_requirements", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "unknown"}]', 'retrieved_chunks': '[{"chunk_id": null, "content": "Content from disaster_response_requirements", "similarity_score": 0.5798365, "source_document": "disaster_response_requirements", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "unknown"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618202.481155, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618202.5254307}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:16:46,315 - services.external_task_worker - INFO - Successfully completed task dbde3960-8f43-11f0-b401-0242ac190005
2025-09-11 15:16:46,322 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:16:46,322 - services.external_task_worker - INFO - Executing task dbe25825-8f43-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 15:16:46,322 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618202.481155, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": null, "content": "Content from disaster_response_requirements", "similarity_score": 0.5798365, "source_document": "disaster_response_requirements", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "unknown"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618202.481155, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618202.5254307}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:16:46,328 - services.external_task_worker - INFO - Successfully completed task dbe25825-8f43-11f0-b401-0242ac190005
2025-09-11 15:16:46,335 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:16:46,335 - services.external_task_worker - INFO - Executing task dbe4a228-8f43-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 15:16:46,335 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: Content from disaster_response_requirements\n\nUser Question: what is the required coverage area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618202.481155, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": null, "content": "Content from disaster_response_requirements", "similarity_score": 0.5798365, "source_document": "disaster_response_requirements", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "unknown"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618202.481155, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618202.5254307}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:16:46,343 - services.external_task_worker - INFO - Successfully completed task dbe4a228-8f43-11f0-b401-0242ac190005
2025-09-11 15:16:46,348 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:16:46,348 - services.external_task_worker - INFO - Executing task dbe6c519-8f43-11f0-b401-0242ac190005 for topic process-response
2025-09-11 15:16:46,349 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: Content from disaster_response_requirements\n\nUser Question: what is the required coverage area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618202.481155, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": null, "content": "Content from disaster_response_requirements", "similarity_score": 0.5798365, "source_document": "disaster_response_requirements", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "unknown"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618202.481155, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618202.5254307}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: Content from disaster_response_requirements\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:16:46,357 - services.external_task_worker - INFO - Successfully completed task dbe6c519-8f43-11f0-b401-0242ac190005
2025-09-11 15:16:46,363 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:16:46,363 - services.external_task_worker - INFO - Executing task dbe899f4-8f43-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 15:16:46,363 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: Content from disaster_response_requirements\n\nUser Question: what is the required coverage area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618202.481155, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": null, "content": "Content from disaster_response_requirements", "similarity_score": 0.5798365, "source_document": "disaster_response_requirements", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "unknown"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: Content from disaster_response_requirements\n\nThis response is based on the relevant documentation found in your knowledge assets.\n\nSources:\n[1] disaster_response_requirements\n', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618202.481155, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618202.5254307}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: Content from disaster_response_requirements\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:16:46,376 - services.external_task_worker - INFO - Successfully completed task dbe899f4-8f43-11f0-b401-0242ac190005
2025-09-11 15:17:20,615 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:17:20,615 - services.external_task_worker - INFO - Executing task f04e27ce-8f43-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 15:17:20,615 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618240.5533254, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 15:17:20,620 - services.external_task_worker - INFO - Successfully completed task f04e27ce-8f43-11f0-b401-0242ac190005
2025-09-11 15:17:20,625 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:17:20,625 - services.external_task_worker - INFO - Executing task f05505b9-8f43-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 15:17:20,625 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618240.5533254, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618240.5533254, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618240.6153486}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:17:20,629 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 15:17:20,679 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 15:17:20,682 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 15:17:20,683 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 15:17:20,690 - services.rag_service - INFO - Processing RAG query: 'what is the required coverage area?' for user 33ea8707-3cdc-4aed-904d-7e8f2ad922cf
2025-09-11 15:17:20,693 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 15:17:20,693 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 15:17:20,694 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 15:17:20,694 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 15:17:21,326 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 15:17:21,336 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 15:17:21,346 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 15:17:21,346 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.5
2025-09-11 15:17:21,346 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'what is the required coverage area?...'
2025-09-11 15:17:24,158 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-11 15:17:24,180 - services.rag_service - INFO - Successfully generated RAG response with 1 chunks
2025-09-11 15:17:24,188 - services.external_task_worker - INFO - Successfully completed task f05505b9-8f43-11f0-b401-0242ac190005
2025-09-11 15:17:24,193 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:17:24,193 - services.external_task_worker - INFO - Executing task f27574cd-8f43-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 15:17:24,193 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618240.5533254, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[{"chunk_id": null, "content": "Content from disaster_response_requirements", "similarity_score": 0.5798365, "source_document": "disaster_response_requirements", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "unknown"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618240.5533254, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618240.6153486}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:17:24,198 - services.external_task_worker - INFO - Successfully completed task f27574cd-8f43-11f0-b401-0242ac190005
2025-09-11 15:17:24,203 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:17:24,203 - services.external_task_worker - INFO - Executing task f2772294-8f43-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 15:17:24,204 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618240.5533254, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": null, "content": "Content from disaster_response_requirements", "similarity_score": 0.5798365, "source_document": "disaster_response_requirements", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "unknown"}]', 'retrieved_chunks': '[{"chunk_id": null, "content": "Content from disaster_response_requirements", "similarity_score": 0.5798365, "source_document": "disaster_response_requirements", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "unknown"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618240.5533254, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618240.6153486}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:17:24,208 - services.external_task_worker - INFO - Successfully completed task f2772294-8f43-11f0-b401-0242ac190005
2025-09-11 15:17:24,213 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:17:24,213 - services.external_task_worker - INFO - Executing task f278a949-8f43-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 15:17:24,213 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618240.5533254, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": null, "content": "Content from disaster_response_requirements", "similarity_score": 0.5798365, "source_document": "disaster_response_requirements", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "unknown"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618240.5533254, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618240.6153486}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:17:24,218 - services.external_task_worker - INFO - Successfully completed task f278a949-8f43-11f0-b401-0242ac190005
2025-09-11 15:17:24,224 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:17:24,224 - services.external_task_worker - INFO - Executing task f27a2ffc-8f43-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 15:17:24,224 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: Content from disaster_response_requirements\n\nUser Question: what is the required coverage area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618240.5533254, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": null, "content": "Content from disaster_response_requirements", "similarity_score": 0.5798365, "source_document": "disaster_response_requirements", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "unknown"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618240.5533254, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618240.6153486}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:17:24,230 - services.external_task_worker - INFO - Successfully completed task f27a2ffc-8f43-11f0-b401-0242ac190005
2025-09-11 15:17:24,234 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:17:24,234 - services.external_task_worker - INFO - Executing task f27bddbd-8f43-11f0-b401-0242ac190005 for topic process-response
2025-09-11 15:17:24,234 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: Content from disaster_response_requirements\n\nUser Question: what is the required coverage area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618240.5533254, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": null, "content": "Content from disaster_response_requirements", "similarity_score": 0.5798365, "source_document": "disaster_response_requirements", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "unknown"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618240.5533254, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618240.6153486}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: Content from disaster_response_requirements\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:17:24,240 - services.external_task_worker - INFO - Successfully completed task f27bddbd-8f43-11f0-b401-0242ac190005
2025-09-11 15:17:24,244 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:17:24,244 - services.external_task_worker - INFO - Executing task f27d6478-8f43-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 15:17:24,244 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: Content from disaster_response_requirements\n\nUser Question: what is the required coverage area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618240.5533254, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": null, "content": "Content from disaster_response_requirements", "similarity_score": 0.5798365, "source_document": "disaster_response_requirements", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "unknown"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: Content from disaster_response_requirements\n\nThis response is based on the relevant documentation found in your knowledge assets.\n\nSources:\n[1] disaster_response_requirements\n', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618240.5533254, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618240.6153486}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: Content from disaster_response_requirements\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:17:24,253 - services.external_task_worker - INFO - Successfully completed task f27d6478-8f43-11f0-b401-0242ac190005
2025-09-11 15:18:19,261 - __main__ - INFO - Received signal 15, shutting down worker...
2025-09-11 15:18:35,441 - services.external_task_worker - INFO - Starting external task worker: odras-worker-1757618315
2025-09-11 15:18:35,447 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:18:35,447 - services.external_task_worker - INFO - Executing task 191bde15-8f44-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 15:18:35,447 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618309.0086765, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 15:18:35,455 - services.external_task_worker - INFO - Successfully completed task 191bde15-8f44-11f0-b401-0242ac190005
2025-09-11 15:18:35,459 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:18:35,460 - services.external_task_worker - INFO - Executing task 1ceff0a0-8f44-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 15:18:35,460 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618309.0086765, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618309.0086765, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618315.4481764}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:18:35,471 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 15:18:35,532 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 15:18:35,535 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 15:18:35,536 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 15:18:35,549 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 15:18:35,549 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 15:18:35,551 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 15:18:35,551 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 15:18:36,719 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 15:18:36,739 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 15:18:36,751 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 15:18:36,753 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.5
2025-09-11 15:18:36,754 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'what is the required coverage area?...'
2025-09-11 15:18:36,776 - services.external_task_worker - INFO - Successfully completed task 1ceff0a0-8f44-11f0-b401-0242ac190005
2025-09-11 15:18:36,785 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:18:36,785 - services.external_task_worker - INFO - Executing task 1db98244-8f44-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 15:18:36,785 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618309.0086765, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[{"chunk_id": "unknown", "content": "", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618309.0086765, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618315.4481764}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:18:36,794 - services.external_task_worker - INFO - Successfully completed task 1db98244-8f44-11f0-b401-0242ac190005
2025-09-11 15:18:36,801 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:18:36,801 - services.external_task_worker - INFO - Executing task 1dbc196b-8f44-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 15:18:36,801 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618309.0086765, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "unknown", "content": "", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618309.0086765, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618315.4481764}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:18:36,808 - services.external_task_worker - INFO - Successfully completed task 1dbc196b-8f44-11f0-b401-0242ac190005
2025-09-11 15:18:36,813 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:18:36,813 - services.external_task_worker - INFO - Executing task 1dbe3c60-8f44-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 15:18:36,813 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618309.0086765, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618309.0086765, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618315.4481764}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:18:36,822 - services.external_task_worker - INFO - Successfully completed task 1dbe3c60-8f44-11f0-b401-0242ac190005
2025-09-11 15:18:36,829 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:18:36,829 - services.external_task_worker - INFO - Executing task 1dc05f53-8f44-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 15:18:36,829 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: \n\nUser Question: what is the required coverage area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618309.0086765, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618309.0086765, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618315.4481764}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:18:36,836 - services.external_task_worker - INFO - Successfully completed task 1dc05f53-8f44-11f0-b401-0242ac190005
2025-09-11 15:18:36,842 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:18:36,842 - services.external_task_worker - INFO - Executing task 1dc28244-8f44-11f0-b401-0242ac190005 for topic process-response
2025-09-11 15:18:36,842 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: \n\nUser Question: what is the required coverage area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618309.0086765, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618309.0086765, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618315.4481764}', 'llm_response': 'Based on the available context:\n\n[Context 1]:\n\nNote: Limited context available for this query.', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:18:36,850 - services.external_task_worker - INFO - Successfully completed task 1dc28244-8f44-11f0-b401-0242ac190005
2025-09-11 15:18:36,859 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:18:36,859 - services.external_task_worker - INFO - Executing task 1dc4a53f-8f44-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 15:18:36,859 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: \n\nUser Question: what is the required coverage area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618309.0086765, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the available context:\n\n[Context 1]:\n\nNote: Limited context available for this query.\n\nSources:\n[1] 854d299c-f18f-4dc7-a247-57e0f37c677b\n', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618309.0086765, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618315.4481764}', 'llm_response': 'Based on the available context:\n\n[Context 1]:\n\nNote: Limited context available for this query.', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:18:36,875 - services.external_task_worker - INFO - Successfully completed task 1dc4a53f-8f44-11f0-b401-0242ac190005
2025-09-11 15:18:50,978 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:18:50,978 - services.external_task_worker - INFO - Executing task 25fb9cb9-8f44-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 15:18:50,978 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618330.608007, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 15:18:50,985 - services.external_task_worker - INFO - Successfully completed task 25fb9cb9-8f44-11f0-b401-0242ac190005
2025-09-11 15:18:50,991 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:18:50,991 - services.external_task_worker - INFO - Executing task 2631a0f4-8f44-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 15:18:50,991 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618330.608007, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618330.608007, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618330.9787796}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:18:50,996 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 15:18:51,039 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 15:18:51,045 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 15:18:51,045 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 15:18:51,062 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 15:18:51,062 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 15:18:51,062 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 15:18:51,063 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 15:18:51,823 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 15:18:51,845 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 15:18:51,854 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 15:18:51,856 - services.qdrant_service - INFO - Found 6 results in collection 'knowledge_chunks' with threshold 0.3
2025-09-11 15:18:51,857 - services.qdrant_service - INFO - Found 6 similar chunks for query: 'navigation system...'
2025-09-11 15:18:51,905 - services.external_task_worker - INFO - Successfully completed task 2631a0f4-8f44-11f0-b401-0242ac190005
2025-09-11 15:18:51,911 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:18:51,911 - services.external_task_worker - INFO - Executing task 26bddb78-8f44-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 15:18:51,911 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618330.608007, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[{"chunk_id": "unknown", "content": "", "similarity_score": 0.4128619, "source_document": "3faedafc-5215-4036-b98c-dd2826f262bd", "asset_id": "3faedafc-5215-4036-b98c-dd2826f262bd", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "", "similarity_score": 0.4128619, "source_document": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "asset_id": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "", "similarity_score": 0.41286188, "source_document": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "asset_id": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618330.608007, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618330.9787796}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:18:51,919 - services.external_task_worker - INFO - Successfully completed task 26bddb78-8f44-11f0-b401-0242ac190005
2025-09-11 15:18:51,924 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:18:51,924 - services.external_task_worker - INFO - Executing task 26c0257f-8f44-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 15:18:51,924 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'context_quality_score': 0.4128618933333333, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618330.608007, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "", "similarity_score": 0.4128619, "source_document": "3faedafc-5215-4036-b98c-dd2826f262bd", "asset_id": "3faedafc-5215-4036-b98c-dd2826f262bd", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "", "similarity_score": 0.4128619, "source_document": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "asset_id": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "", "similarity_score": 0.41286188, "source_document": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "asset_id": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}]', 'retrieved_chunks': '[{"chunk_id": "unknown", "content": "", "similarity_score": 0.4128619, "source_document": "3faedafc-5215-4036-b98c-dd2826f262bd", "asset_id": "3faedafc-5215-4036-b98c-dd2826f262bd", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "", "similarity_score": 0.4128619, "source_document": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "asset_id": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "", "similarity_score": 0.41286188, "source_document": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "asset_id": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618330.608007, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618330.9787796}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:18:51,931 - services.external_task_worker - INFO - Successfully completed task 26c0257f-8f44-11f0-b401-0242ac190005
2025-09-11 15:18:51,939 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:18:51,939 - services.external_task_worker - INFO - Executing task 26c1d344-8f44-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 15:18:51,939 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'context_quality_score': 0.4128618933333333, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618330.608007, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "", "similarity_score": 0.4128619, "source_document": "3faedafc-5215-4036-b98c-dd2826f262bd", "asset_id": "3faedafc-5215-4036-b98c-dd2826f262bd", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "", "similarity_score": 0.4128619, "source_document": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "asset_id": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "", "similarity_score": 0.41286188, "source_document": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "asset_id": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618330.608007, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618330.9787796}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:18:51,948 - services.external_task_worker - INFO - Successfully completed task 26c1d344-8f44-11f0-b401-0242ac190005
2025-09-11 15:18:51,954 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:18:51,954 - services.external_task_worker - INFO - Executing task 26c44457-8f44-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 15:18:51,954 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: \n[Context 2]: \n[Context 3]: \n\nUser Question: navigation system\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'navigation system', 'context_quality_score': 0.4128618933333333, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618330.608007, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "", "similarity_score": 0.4128619, "source_document": "3faedafc-5215-4036-b98c-dd2826f262bd", "asset_id": "3faedafc-5215-4036-b98c-dd2826f262bd", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "", "similarity_score": 0.4128619, "source_document": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "asset_id": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "", "similarity_score": 0.41286188, "source_document": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "asset_id": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618330.608007, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618330.9787796}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:18:51,961 - services.external_task_worker - INFO - Successfully completed task 26c44457-8f44-11f0-b401-0242ac190005
2025-09-11 15:18:51,969 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:18:51,969 - services.external_task_worker - INFO - Executing task 26c68e58-8f44-11f0-b401-0242ac190005 for topic process-response
2025-09-11 15:18:51,969 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: \n[Context 2]: \n[Context 3]: \n\nUser Question: navigation system\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'navigation system', 'context_quality_score': 0.4128618933333333, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618330.608007, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "", "similarity_score": 0.4128619, "source_document": "3faedafc-5215-4036-b98c-dd2826f262bd", "asset_id": "3faedafc-5215-4036-b98c-dd2826f262bd", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "", "similarity_score": 0.4128619, "source_document": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "asset_id": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "", "similarity_score": 0.41286188, "source_document": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "asset_id": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618330.608007, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618330.9787796}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]:\n[Context 2]:\n[Context 3]:\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:18:51,984 - services.external_task_worker - INFO - Successfully completed task 26c68e58-8f44-11f0-b401-0242ac190005
2025-09-11 15:18:51,990 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:18:51,990 - services.external_task_worker - INFO - Executing task 26c8b053-8f44-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 15:18:51,990 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: \n[Context 2]: \n[Context 3]: \n\nUser Question: navigation system\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'navigation system', 'context_quality_score': 0.4128618933333333, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618330.608007, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "", "similarity_score": 0.4128619, "source_document": "3faedafc-5215-4036-b98c-dd2826f262bd", "asset_id": "3faedafc-5215-4036-b98c-dd2826f262bd", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "", "similarity_score": 0.4128619, "source_document": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "asset_id": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "", "similarity_score": 0.41286188, "source_document": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "asset_id": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]:\n[Context 2]:\n[Context 3]:\n\nThis response is based on the relevant documentation found in your knowledge assets.\n\nSources:\n[1] 3faedafc-5215-4036-b98c-dd2826f262bd\n[2] 653f30f3-05d7-4cf0-b2c3-00890c31c137\n[3] 6e9ce167-6e63-46d0-9b6b-2858e75a9a26\n', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618330.608007, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618330.9787796}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]:\n[Context 2]:\n[Context 3]:\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:18:52,003 - services.external_task_worker - INFO - Successfully completed task 26c8b053-8f44-11f0-b401-0242ac190005
2025-09-11 15:19:31,394 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:19:31,395 - services.external_task_worker - INFO - Executing task 3dda254d-8f44-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 15:19:31,395 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618370.654549, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 15:19:31,401 - services.external_task_worker - INFO - Successfully completed task 3dda254d-8f44-11f0-b401-0242ac190005
2025-09-11 15:19:31,406 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:19:31,406 - services.external_task_worker - INFO - Executing task 3e489ea8-8f44-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 15:19:31,406 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618370.654549, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618370.654549, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618371.395334}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:19:31,410 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 15:19:31,456 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 15:19:31,459 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 15:19:31,460 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 15:19:31,471 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 15:19:31,471 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 15:19:31,472 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 15:19:31,472 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 15:19:32,227 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 15:19:32,257 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 15:19:32,267 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 15:19:32,268 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.5
2025-09-11 15:19:32,268 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'what is the required coverage area?...'
2025-09-11 15:19:32,292 - services.external_task_worker - INFO - Successfully completed task 3e489ea8-8f44-11f0-b401-0242ac190005
2025-09-11 15:19:32,298 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:19:32,298 - services.external_task_worker - INFO - Executing task 3ed0936c-8f44-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 15:19:32,298 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618370.654549, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[{"chunk_id": "unknown", "content": "", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618370.654549, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618371.395334}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:19:32,305 - services.external_task_worker - INFO - Successfully completed task 3ed0936c-8f44-11f0-b401-0242ac190005
2025-09-11 15:19:32,312 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:19:32,312 - services.external_task_worker - INFO - Executing task 3ed26843-8f44-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 15:19:32,312 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618370.654549, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "unknown", "content": "", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618370.654549, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618371.395334}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:19:32,322 - services.external_task_worker - INFO - Successfully completed task 3ed26843-8f44-11f0-b401-0242ac190005
2025-09-11 15:19:32,328 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:19:32,329 - services.external_task_worker - INFO - Executing task 3ed50068-8f44-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 15:19:32,329 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618370.654549, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618370.654549, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618371.395334}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:19:32,336 - services.external_task_worker - INFO - Successfully completed task 3ed50068-8f44-11f0-b401-0242ac190005
2025-09-11 15:19:32,342 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:19:32,342 - services.external_task_worker - INFO - Executing task 3ed7235b-8f44-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 15:19:32,342 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: \n\nUser Question: what is the required coverage area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618370.654549, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618370.654549, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618371.395334}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:19:32,348 - services.external_task_worker - INFO - Successfully completed task 3ed7235b-8f44-11f0-b401-0242ac190005
2025-09-11 15:19:32,355 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:19:32,356 - services.external_task_worker - INFO - Executing task 3ed91f3c-8f44-11f0-b401-0242ac190005 for topic process-response
2025-09-11 15:19:32,356 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: \n\nUser Question: what is the required coverage area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618370.654549, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618370.654549, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618371.395334}', 'llm_response': 'Based on the available context:\n\n[Context 1]:\n\nNote: Limited context available for this query.', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:19:32,362 - services.external_task_worker - INFO - Successfully completed task 3ed91f3c-8f44-11f0-b401-0242ac190005
2025-09-11 15:19:32,368 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:19:32,368 - services.external_task_worker - INFO - Executing task 3edb4237-8f44-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 15:19:32,368 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: \n\nUser Question: what is the required coverage area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618370.654549, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the available context:\n\n[Context 1]:\n\nNote: Limited context available for this query.\n\nSources:\n[1] 854d299c-f18f-4dc7-a247-57e0f37c677b\n', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618370.654549, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618371.395334}', 'llm_response': 'Based on the available context:\n\n[Context 1]:\n\nNote: Limited context available for this query.', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:19:42,379 - urllib3.connectionpool - WARNING - Retrying (Retry(total=2, connect=None, read=None, redirect=None, status=None)) after connection broken by 'ConnectTimeoutError(<urllib3.connection.HTTPConnection object at 0x7f1a087bb110>, 'Connection to localhost timed out. (connect timeout=10)')': /engine-rest/external-task/3edb4237-8f44-11f0-b401-0242ac190005/complete
2025-09-11 15:19:42,394 - services.external_task_worker - INFO - Successfully completed task 3edb4237-8f44-11f0-b401-0242ac190005
2025-09-11 15:19:59,505 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:19:59,506 - services.external_task_worker - INFO - Executing task 4e7a2141-8f44-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 15:19:59,506 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618398.546072, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 15:19:59,514 - services.external_task_worker - INFO - Successfully completed task 4e7a2141-8f44-11f0-b401-0242ac190005
2025-09-11 15:19:59,521 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:19:59,521 - services.external_task_worker - INFO - Executing task 4f0a536c-8f44-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 15:19:59,521 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618398.546072, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618398.546072, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618399.5063727}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:19:59,525 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 15:19:59,569 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 15:19:59,574 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 15:19:59,575 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 15:19:59,590 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 15:19:59,590 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 15:19:59,591 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 15:19:59,591 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 15:20:00,430 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 15:20:00,439 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 15:20:00,448 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 15:20:00,449 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.5
2025-09-11 15:20:00,450 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'what is the required coverage area?...'
2025-09-11 15:20:00,475 - services.external_task_worker - INFO - Successfully completed task 4f0a536c-8f44-11f0-b401-0242ac190005
2025-09-11 15:20:00,481 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:20:00,481 - services.external_task_worker - INFO - Executing task 4f9ccf80-8f44-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 15:20:00,481 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618398.546072, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[{"chunk_id": "unknown", "content": "", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618398.546072, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618399.5063727}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:20:00,488 - services.external_task_worker - INFO - Successfully completed task 4f9ccf80-8f44-11f0-b401-0242ac190005
2025-09-11 15:20:00,494 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:20:00,495 - services.external_task_worker - INFO - Executing task 4f9ef177-8f44-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 15:20:00,495 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618398.546072, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "unknown", "content": "", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618398.546072, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618399.5063727}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:20:00,501 - services.external_task_worker - INFO - Successfully completed task 4f9ef177-8f44-11f0-b401-0242ac190005
2025-09-11 15:20:00,508 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:20:00,508 - services.external_task_worker - INFO - Executing task 4fa0ed5c-8f44-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 15:20:00,508 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618398.546072, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618398.546072, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618399.5063727}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:20:00,515 - services.external_task_worker - INFO - Successfully completed task 4fa0ed5c-8f44-11f0-b401-0242ac190005
2025-09-11 15:20:00,522 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:20:00,522 - services.external_task_worker - INFO - Executing task 4fa3104f-8f44-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 15:20:00,522 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: \n\nUser Question: what is the required coverage area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618398.546072, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618398.546072, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618399.5063727}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:20:00,529 - services.external_task_worker - INFO - Successfully completed task 4fa3104f-8f44-11f0-b401-0242ac190005
2025-09-11 15:20:00,536 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:20:00,536 - services.external_task_worker - INFO - Executing task 4fa55a50-8f44-11f0-b401-0242ac190005 for topic process-response
2025-09-11 15:20:00,536 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: \n\nUser Question: what is the required coverage area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618398.546072, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618398.546072, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618399.5063727}', 'llm_response': 'Based on the available context:\n\n[Context 1]:\n\nNote: Limited context available for this query.', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:20:00,543 - services.external_task_worker - INFO - Successfully completed task 4fa55a50-8f44-11f0-b401-0242ac190005
2025-09-11 15:20:00,550 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:20:00,550 - services.external_task_worker - INFO - Executing task 4fa7563b-8f44-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 15:20:00,550 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: \n\nUser Question: what is the required coverage area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618398.546072, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the available context:\n\n[Context 1]:\n\nNote: Limited context available for this query.\n\nSources:\n[1] 854d299c-f18f-4dc7-a247-57e0f37c677b\n', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618398.546072, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618399.5063727}', 'llm_response': 'Based on the available context:\n\n[Context 1]:\n\nNote: Limited context available for this query.', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:20:00,562 - services.external_task_worker - INFO - Successfully completed task 4fa7563b-8f44-11f0-b401-0242ac190005
2025-09-11 15:20:03,589 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:20:03,589 - services.external_task_worker - INFO - Executing task 512284a5-8f44-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 15:20:03,589 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618403.0026073, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 15:20:03,594 - services.external_task_worker - INFO - Successfully completed task 512284a5-8f44-11f0-b401-0242ac190005
2025-09-11 15:20:03,599 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:20:03,599 - services.external_task_worker - INFO - Executing task 51790930-8f44-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 15:20:03,600 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618403.0026073, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618403.0026073, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618403.5893996}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:20:03,603 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 15:20:03,646 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 15:20:03,651 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 15:20:03,651 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 15:20:03,667 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 15:20:03,667 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 15:20:03,668 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 15:20:03,669 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 15:20:04,408 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 15:20:04,418 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 15:20:04,425 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 15:20:04,426 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.5
2025-09-11 15:20:04,426 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'what is the required coverage area?...'
2025-09-11 15:20:04,448 - services.external_task_worker - INFO - Successfully completed task 51790930-8f44-11f0-b401-0242ac190005
2025-09-11 15:20:04,454 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:20:04,455 - services.external_task_worker - INFO - Executing task 51fb3194-8f44-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 15:20:04,455 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618403.0026073, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[{"chunk_id": "unknown", "content": "", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618403.0026073, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618403.5893996}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:20:04,462 - services.external_task_worker - INFO - Successfully completed task 51fb3194-8f44-11f0-b401-0242ac190005
2025-09-11 15:20:04,469 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:20:04,469 - services.external_task_worker - INFO - Executing task 51fd548b-8f44-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 15:20:04,469 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618403.0026073, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "unknown", "content": "", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618403.0026073, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618403.5893996}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:20:04,476 - services.external_task_worker - INFO - Successfully completed task 51fd548b-8f44-11f0-b401-0242ac190005
2025-09-11 15:20:04,482 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:20:04,482 - services.external_task_worker - INFO - Executing task 51ff7780-8f44-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 15:20:04,482 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618403.0026073, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618403.0026073, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618403.5893996}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:20:04,488 - services.external_task_worker - INFO - Successfully completed task 51ff7780-8f44-11f0-b401-0242ac190005
2025-09-11 15:20:04,493 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:20:04,493 - services.external_task_worker - INFO - Executing task 52014c53-8f44-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 15:20:04,493 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: \n\nUser Question: what is the required coverage area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618403.0026073, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618403.0026073, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618403.5893996}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:20:04,499 - services.external_task_worker - INFO - Successfully completed task 52014c53-8f44-11f0-b401-0242ac190005
2025-09-11 15:20:04,503 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:20:04,503 - services.external_task_worker - INFO - Executing task 5202f914-8f44-11f0-b401-0242ac190005 for topic process-response
2025-09-11 15:20:04,503 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: \n\nUser Question: what is the required coverage area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618403.0026073, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618403.0026073, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618403.5893996}', 'llm_response': 'Based on the available context:\n\n[Context 1]:\n\nNote: Limited context available for this query.', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:20:04,508 - services.external_task_worker - INFO - Successfully completed task 5202f914-8f44-11f0-b401-0242ac190005
2025-09-11 15:20:04,513 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:20:04,514 - services.external_task_worker - INFO - Executing task 52047fcf-8f44-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 15:20:04,514 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: \n\nUser Question: what is the required coverage area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618403.0026073, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the available context:\n\n[Context 1]:\n\nNote: Limited context available for this query.\n\nSources:\n[1] 854d299c-f18f-4dc7-a247-57e0f37c677b\n', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618403.0026073, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618403.5893996}', 'llm_response': 'Based on the available context:\n\n[Context 1]:\n\nNote: Limited context available for this query.', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:20:04,526 - services.external_task_worker - INFO - Successfully completed task 52047fcf-8f44-11f0-b401-0242ac190005
2025-09-11 15:21:12,961 - __main__ - INFO - Received signal 15, shutting down worker...
2025-09-11 15:21:29,378 - services.external_task_worker - INFO - Starting external task worker: odras-worker-1757618489
2025-09-11 15:21:41,453 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:21:41,453 - services.external_task_worker - INFO - Executing task 8bc2e8c9-8f44-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 15:21:41,453 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618501.3600945, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 15:21:41,461 - services.external_task_worker - INFO - Successfully completed task 8bc2e8c9-8f44-11f0-b401-0242ac190005
2025-09-11 15:21:41,468 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:21:41,468 - services.external_task_worker - INFO - Executing task 8bce0c74-8f44-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 15:21:41,468 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618501.3600945, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618501.3600945, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618501.4541774}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:21:41,481 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 15:21:41,552 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 15:21:41,557 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 15:21:41,558 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 15:21:41,578 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 15:21:41,578 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 15:21:41,580 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 15:21:41,580 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 15:21:42,783 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 15:21:42,807 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 15:21:42,817 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 15:21:42,820 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.5
2025-09-11 15:21:42,820 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'what is the required coverage area?...'
2025-09-11 15:21:42,843 - services.external_task_worker - INFO - Successfully completed task 8bce0c74-8f44-11f0-b401-0242ac190005
2025-09-11 15:21:42,849 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:21:42,849 - services.external_task_worker - INFO - Executing task 8ca0ece8-8f44-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 15:21:42,849 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618501.3600945, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618501.3600945, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618501.4541774}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:21:42,857 - services.external_task_worker - INFO - Successfully completed task 8ca0ece8-8f44-11f0-b401-0242ac190005
2025-09-11 15:21:42,863 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:21:42,864 - services.external_task_worker - INFO - Executing task 8ca336ef-8f44-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 15:21:42,864 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618501.3600945, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618501.3600945, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618501.4541774}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:21:42,873 - services.external_task_worker - INFO - Successfully completed task 8ca336ef-8f44-11f0-b401-0242ac190005
2025-09-11 15:21:42,881 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:21:42,881 - services.external_task_worker - INFO - Executing task 8ca580f4-8f44-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 15:21:42,881 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618501.3600945, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618501.3600945, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618501.4541774}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:21:42,889 - services.external_task_worker - INFO - Successfully completed task 8ca580f4-8f44-11f0-b401-0242ac190005
2025-09-11 15:21:42,896 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:21:42,896 - services.external_task_worker - INFO - Executing task 8ca7f207-8f44-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 15:21:42,896 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### Coverage Area\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes\n\nUser Question: what is the required coverage area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618501.3600945, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618501.3600945, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618501.4541774}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:21:42,913 - services.external_task_worker - INFO - Successfully completed task 8ca7f207-8f44-11f0-b401-0242ac190005
2025-09-11 15:21:42,927 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:21:42,927 - services.external_task_worker - INFO - Executing task 8caa3c08-8f44-11f0-b401-0242ac190005 for topic process-response
2025-09-11 15:21:42,927 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### Coverage Area\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes\n\nUser Question: what is the required coverage area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618501.3600945, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618501.3600945, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618501.4541774}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### Coverage Area\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:21:42,950 - services.external_task_worker - INFO - Successfully completed task 8caa3c08-8f44-11f0-b401-0242ac190005
2025-09-11 15:21:42,956 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:21:42,956 - services.external_task_worker - INFO - Executing task 8caef713-8f44-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 15:21:42,956 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### Coverage Area\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes\n\nUser Question: what is the required coverage area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618501.3600945, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### Coverage Area\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes\n\nThis response is based on the relevant documentation found in your knowledge assets.\n\nSources:\n[1] 854d299c-f18f-4dc7-a247-57e0f37c677b\n', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618501.3600945, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618501.4541774}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### Coverage Area\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:21:42,969 - services.external_task_worker - INFO - Successfully completed task 8caef713-8f44-11f0-b401-0242ac190005
2025-09-11 15:21:46,612 - __main__ - INFO - Received signal 15, shutting down worker...
2025-09-11 15:22:03,151 - services.external_task_worker - INFO - Starting external task worker: odras-worker-1757618523
2025-09-11 15:22:14,253 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:22:14,253 - services.external_task_worker - INFO - Executing task 9eee4a8d-8f44-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 15:22:14,253 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618533.522984, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 15:22:14,258 - services.external_task_worker - INFO - Successfully completed task 9eee4a8d-8f44-11f0-b401-0242ac190005
2025-09-11 15:22:14,262 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:22:14,262 - services.external_task_worker - INFO - Executing task 9f5ac818-8f44-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 15:22:14,263 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618533.522984, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618533.522984, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618534.2541575}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:22:14,274 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 15:22:14,336 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 15:22:14,339 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 15:22:14,340 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 15:22:14,352 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 15:22:14,353 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 15:22:14,354 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 15:22:14,354 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 15:22:15,489 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 15:22:15,510 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 15:22:15,519 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 15:22:15,521 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.5
2025-09-11 15:22:15,522 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'what is the required coverage area?...'
2025-09-11 15:22:15,544 - services.external_task_worker - INFO - Successfully completed task 9f5ac818-8f44-11f0-b401-0242ac190005
2025-09-11 15:22:15,549 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:22:15,549 - services.external_task_worker - INFO - Executing task a01eda7c-8f44-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 15:22:15,549 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618533.522984, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618533.522984, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618534.2541575}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:22:15,558 - services.external_task_worker - INFO - Successfully completed task a01eda7c-8f44-11f0-b401-0242ac190005
2025-09-11 15:22:15,564 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:22:15,564 - services.external_task_worker - INFO - Executing task a020d663-8f44-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 15:22:15,564 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618533.522984, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618533.522984, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618534.2541575}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:22:15,571 - services.external_task_worker - INFO - Successfully completed task a020d663-8f44-11f0-b401-0242ac190005
2025-09-11 15:22:15,577 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:22:15,577 - services.external_task_worker - INFO - Executing task a022f958-8f44-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 15:22:15,577 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618533.522984, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618533.522984, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618534.2541575}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:22:15,585 - services.external_task_worker - INFO - Successfully completed task a022f958-8f44-11f0-b401-0242ac190005
2025-09-11 15:22:15,591 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:22:15,591 - services.external_task_worker - INFO - Executing task a024ce2b-8f44-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 15:22:15,591 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### Coverage Area\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes\n\nUser Question: what is the required coverage area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618533.522984, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618533.522984, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618534.2541575}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:22:15,598 - services.external_task_worker - INFO - Successfully completed task a024ce2b-8f44-11f0-b401-0242ac190005
2025-09-11 15:22:15,603 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:22:15,603 - services.external_task_worker - INFO - Executing task a027182c-8f44-11f0-b401-0242ac190005 for topic process-response
2025-09-11 15:22:15,603 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### Coverage Area\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes\n\nUser Question: what is the required coverage area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618533.522984, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618533.522984, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618534.2541575}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### Coverage Area\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:22:15,609 - services.external_task_worker - INFO - Successfully completed task a027182c-8f44-11f0-b401-0242ac190005
2025-09-11 15:22:15,616 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:22:15,616 - services.external_task_worker - INFO - Executing task a028c5f7-8f44-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 15:22:15,616 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### Coverage Area\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes\n\nUser Question: what is the required coverage area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618533.522984, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### Coverage Area\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes\n\nThis response is based on the relevant documentation found in your knowledge assets.\n\nSources:\n[1] 854d299c-f18f-4dc7-a247-57e0f37c677b\n', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618533.522984, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618534.2541575}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### Coverage Area\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:22:15,628 - services.external_task_worker - INFO - Successfully completed task a028c5f7-8f44-11f0-b401-0242ac190005
2025-09-11 15:22:17,654 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:22:17,654 - services.external_task_worker - INFO - Executing task a0f082e1-8f44-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 15:22:17,654 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618536.8938086, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 15:22:17,685 - services.external_task_worker - INFO - Successfully completed task a0f082e1-8f44-11f0-b401-0242ac190005
2025-09-11 15:22:17,690 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:22:17,691 - services.external_task_worker - INFO - Executing task a163b72c-8f44-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 15:22:17,691 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618536.8938086, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618536.8938086, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618537.6544771}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:22:17,695 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 15:22:17,740 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 15:22:17,746 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 15:22:17,746 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 15:22:17,764 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 15:22:17,764 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 15:22:17,765 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 15:22:17,765 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 15:22:18,513 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 15:22:18,526 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 15:22:18,534 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 15:22:18,534 - services.qdrant_service - INFO - Found 6 results in collection 'knowledge_chunks' with threshold 0.3
2025-09-11 15:22:18,534 - services.qdrant_service - INFO - Found 6 similar chunks for query: 'navigation system...'
2025-09-11 15:22:18,580 - services.external_task_worker - INFO - Successfully completed task a163b72c-8f44-11f0-b401-0242ac190005
2025-09-11 15:22:18,587 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:22:18,587 - services.external_task_worker - INFO - Executing task a1ee1cf0-8f44-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 15:22:18,587 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618536.8938086, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[{"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.4128619, "source_document": "3faedafc-5215-4036-b98c-dd2826f262bd", "asset_id": "3faedafc-5215-4036-b98c-dd2826f262bd", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.4128619, "source_document": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "asset_id": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.41286188, "source_document": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "asset_id": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618536.8938086, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618537.6544771}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:22:18,594 - services.external_task_worker - INFO - Successfully completed task a1ee1cf0-8f44-11f0-b401-0242ac190005
2025-09-11 15:22:18,599 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:22:18,600 - services.external_task_worker - INFO - Executing task a1f03fe7-8f44-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 15:22:18,600 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'context_quality_score': 0.4128618933333333, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618536.8938086, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.4128619, "source_document": "3faedafc-5215-4036-b98c-dd2826f262bd", "asset_id": "3faedafc-5215-4036-b98c-dd2826f262bd", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.4128619, "source_document": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "asset_id": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.41286188, "source_document": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "asset_id": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}]', 'retrieved_chunks': '[{"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.4128619, "source_document": "3faedafc-5215-4036-b98c-dd2826f262bd", "asset_id": "3faedafc-5215-4036-b98c-dd2826f262bd", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.4128619, "source_document": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "asset_id": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.41286188, "source_document": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "asset_id": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618536.8938086, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618537.6544771}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:22:18,605 - services.external_task_worker - INFO - Successfully completed task a1f03fe7-8f44-11f0-b401-0242ac190005
2025-09-11 15:22:18,611 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:22:18,611 - services.external_task_worker - INFO - Executing task a1f213bc-8f44-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 15:22:18,611 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'context_quality_score': 0.4128618933333333, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618536.8938086, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.4128619, "source_document": "3faedafc-5215-4036-b98c-dd2826f262bd", "asset_id": "3faedafc-5215-4036-b98c-dd2826f262bd", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.4128619, "source_document": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "asset_id": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.41286188, "source_document": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "asset_id": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618536.8938086, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618537.6544771}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:22:18,618 - services.external_task_worker - INFO - Successfully completed task a1f213bc-8f44-11f0-b401-0242ac190005
2025-09-11 15:22:18,626 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:22:18,626 - services.external_task_worker - INFO - Executing task a1f3c17f-8f44-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 15:22:18,626 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: 2. Route Planning\n   - The system shall calculate optimal routes considering traffic conditions\n   - Support for multiple waypoints (minimum 10 waypoints per route)\n   - Real-time route recalculation when deviations occur\n[Context 2]: 2. Route Planning\n   - The system shall calculate optimal routes considering traffic conditions\n   - Support for multiple waypoints (minimum 10 waypoints per route)\n   - Real-time route recalculation when deviations occur\n[Context 3]: 2. Route Planning\n   - The system shall calculate optimal routes considering traffic conditions\n   - Support for multiple waypoints (minimum 10 waypoints per route)\n   - Real-time route recalculation when deviations occur\n\nUser Question: navigation system\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'navigation system', 'context_quality_score': 0.4128618933333333, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618536.8938086, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.4128619, "source_document": "3faedafc-5215-4036-b98c-dd2826f262bd", "asset_id": "3faedafc-5215-4036-b98c-dd2826f262bd", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.4128619, "source_document": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "asset_id": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.41286188, "source_document": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "asset_id": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618536.8938086, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618537.6544771}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:22:18,633 - services.external_task_worker - INFO - Successfully completed task a1f3c17f-8f44-11f0-b401-0242ac190005
2025-09-11 15:22:18,638 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:22:18,638 - services.external_task_worker - INFO - Executing task a1f63290-8f44-11f0-b401-0242ac190005 for topic process-response
2025-09-11 15:22:18,638 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: 2. Route Planning\n   - The system shall calculate optimal routes considering traffic conditions\n   - Support for multiple waypoints (minimum 10 waypoints per route)\n   - Real-time route recalculation when deviations occur\n[Context 2]: 2. Route Planning\n   - The system shall calculate optimal routes considering traffic conditions\n   - Support for multiple waypoints (minimum 10 waypoints per route)\n   - Real-time route recalculation when deviations occur\n[Context 3]: 2. Route Planning\n   - The system shall calculate optimal routes considering traffic conditions\n   - Support for multiple waypoints (minimum 10 waypoints per route)\n   - Real-time route recalculation when deviations occur\n\nUser Question: navigation system\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'navigation system', 'context_quality_score': 0.4128618933333333, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618536.8938086, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.4128619, "source_document": "3faedafc-5215-4036-b98c-dd2826f262bd", "asset_id": "3faedafc-5215-4036-b98c-dd2826f262bd", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.4128619, "source_document": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "asset_id": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.41286188, "source_document": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "asset_id": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618536.8938086, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618537.6544771}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: 2. Route Planning\n- The system shall calculate optimal routes considering traffic conditions\n- Support for multiple waypoints (minimum 10 waypoints per route)\n- Real-time route recalculation when deviations occur\n[Context 2]: 2. Route Planning\n- The system shall calculate optimal routes considering traffic conditions\n- Support for multiple waypoints (minimum 10 waypoints per route)\n- Real-time route recalculation when deviations occur\n[Context 3]: 2. Route Planning\n- The system shall calculate optimal routes considering traffic conditions\n- Support for multiple waypoints (minimum 10 waypoints per route)\n- Real-time route recalculation when deviations occur\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:22:18,645 - services.external_task_worker - INFO - Successfully completed task a1f63290-8f44-11f0-b401-0242ac190005
2025-09-11 15:22:18,651 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:22:18,651 - services.external_task_worker - INFO - Executing task a1f8076b-8f44-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 15:22:18,651 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: 2. Route Planning\n   - The system shall calculate optimal routes considering traffic conditions\n   - Support for multiple waypoints (minimum 10 waypoints per route)\n   - Real-time route recalculation when deviations occur\n[Context 2]: 2. Route Planning\n   - The system shall calculate optimal routes considering traffic conditions\n   - Support for multiple waypoints (minimum 10 waypoints per route)\n   - Real-time route recalculation when deviations occur\n[Context 3]: 2. Route Planning\n   - The system shall calculate optimal routes considering traffic conditions\n   - Support for multiple waypoints (minimum 10 waypoints per route)\n   - Real-time route recalculation when deviations occur\n\nUser Question: navigation system\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'navigation system', 'context_quality_score': 0.4128618933333333, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618536.8938086, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.4128619, "source_document": "3faedafc-5215-4036-b98c-dd2826f262bd", "asset_id": "3faedafc-5215-4036-b98c-dd2826f262bd", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.4128619, "source_document": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "asset_id": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.41286188, "source_document": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "asset_id": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: 2. Route Planning\n- The system shall calculate optimal routes considering traffic conditions\n- Support for multiple waypoints (minimum 10 waypoints per route)\n- Real-time route recalculation when deviations occur\n[Context 2]: 2. Route Planning\n- The system shall calculate optimal routes considering traffic conditions\n- Support for multiple waypoints (minimum 10 waypoints per route)\n- Real-time route recalculation when deviations occur\n[Context 3]: 2. Route Planning\n- The system shall calculate optimal routes considering traffic conditions\n- Support for multiple waypoints (minimum 10 waypoints per route)\n- Real-time route recalculation when deviations occur\n\nThis response is based on the relevant documentation found in your knowledge assets.\n\nSources:\n[1] 3faedafc-5215-4036-b98c-dd2826f262bd\n[2] 653f30f3-05d7-4cf0-b2c3-00890c31c137\n[3] 6e9ce167-6e63-46d0-9b6b-2858e75a9a26\n', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618536.8938086, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618537.6544771}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: 2. Route Planning\n- The system shall calculate optimal routes considering traffic conditions\n- Support for multiple waypoints (minimum 10 waypoints per route)\n- Real-time route recalculation when deviations occur\n[Context 2]: 2. Route Planning\n- The system shall calculate optimal routes considering traffic conditions\n- Support for multiple waypoints (minimum 10 waypoints per route)\n- Real-time route recalculation when deviations occur\n[Context 3]: 2. Route Planning\n- The system shall calculate optimal routes considering traffic conditions\n- Support for multiple waypoints (minimum 10 waypoints per route)\n- Real-time route recalculation when deviations occur\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:22:18,664 - services.external_task_worker - INFO - Successfully completed task a1f8076b-8f44-11f0-b401-0242ac190005
2025-09-11 15:22:44,479 - __main__ - INFO - Received signal 15, shutting down worker...
2025-09-11 15:23:00,688 - services.external_task_worker - INFO - Starting external task worker: odras-worker-1757618580
2025-09-11 15:23:20,859 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:23:20,860 - services.external_task_worker - INFO - Executing task c68b47b5-8f44-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 15:23:20,860 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618599.9841924, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 15:23:20,865 - services.external_task_worker - INFO - Successfully completed task c68b47b5-8f44-11f0-b401-0242ac190005
2025-09-11 15:23:20,869 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:23:20,869 - services.external_task_worker - INFO - Executing task c70e3370-8f44-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 15:23:20,869 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618599.9841924, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618599.9841924, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618600.8604121}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:23:20,880 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 15:23:20,943 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 15:23:20,946 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 15:23:20,947 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 15:23:20,959 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 15:23:20,959 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 15:23:20,961 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 15:23:20,961 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 15:23:22,116 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 15:23:22,132 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 15:23:22,140 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 15:23:22,142 - services.qdrant_service - INFO - Found 6 results in collection 'knowledge_chunks' with threshold 0.3
2025-09-11 15:23:22,142 - services.qdrant_service - INFO - Found 6 similar chunks for query: 'navigation system...'
2025-09-11 15:23:22,188 - services.external_task_worker - INFO - Successfully completed task c70e3370-8f44-11f0-b401-0242ac190005
2025-09-11 15:23:22,195 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:23:22,195 - services.external_task_worker - INFO - Executing task c7d7ec24-8f44-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 15:23:22,195 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618599.9841924, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[{"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.4128619, "source_document": "3faedafc-5215-4036-b98c-dd2826f262bd", "asset_id": "3faedafc-5215-4036-b98c-dd2826f262bd", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.4128619, "source_document": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "asset_id": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.41286188, "source_document": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "asset_id": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618599.9841924, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618600.8604121}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:23:22,202 - services.external_task_worker - INFO - Successfully completed task c7d7ec24-8f44-11f0-b401-0242ac190005
2025-09-11 15:23:22,208 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:23:22,208 - services.external_task_worker - INFO - Executing task c7da0f1b-8f44-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 15:23:22,208 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'context_quality_score': 0.4128618933333333, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618599.9841924, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.4128619, "source_document": "3faedafc-5215-4036-b98c-dd2826f262bd", "asset_id": "3faedafc-5215-4036-b98c-dd2826f262bd", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.4128619, "source_document": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "asset_id": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.41286188, "source_document": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "asset_id": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}]', 'retrieved_chunks': '[{"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.4128619, "source_document": "3faedafc-5215-4036-b98c-dd2826f262bd", "asset_id": "3faedafc-5215-4036-b98c-dd2826f262bd", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.4128619, "source_document": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "asset_id": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.41286188, "source_document": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "asset_id": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618599.9841924, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618600.8604121}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:23:22,215 - services.external_task_worker - INFO - Successfully completed task c7da0f1b-8f44-11f0-b401-0242ac190005
2025-09-11 15:23:22,223 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:23:22,223 - services.external_task_worker - INFO - Executing task c7dc0b00-8f44-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 15:23:22,223 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'context_quality_score': 0.4128618933333333, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618599.9841924, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.4128619, "source_document": "3faedafc-5215-4036-b98c-dd2826f262bd", "asset_id": "3faedafc-5215-4036-b98c-dd2826f262bd", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.4128619, "source_document": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "asset_id": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.41286188, "source_document": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "asset_id": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618599.9841924, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618600.8604121}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:23:22,230 - services.external_task_worker - INFO - Successfully completed task c7dc0b00-8f44-11f0-b401-0242ac190005
2025-09-11 15:23:22,236 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:23:22,236 - services.external_task_worker - INFO - Executing task c7de5503-8f44-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 15:23:22,236 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: 2. Route Planning\n   - The system shall calculate optimal routes considering traffic conditions\n   - Support for multiple waypoints (minimum 10 waypoints per route)\n   - Real-time route recalculation when deviations occur\n[Context 2]: 2. Route Planning\n   - The system shall calculate optimal routes considering traffic conditions\n   - Support for multiple waypoints (minimum 10 waypoints per route)\n   - Real-time route recalculation when deviations occur\n[Context 3]: 2. Route Planning\n   - The system shall calculate optimal routes considering traffic conditions\n   - Support for multiple waypoints (minimum 10 waypoints per route)\n   - Real-time route recalculation when deviations occur\n\nUser Question: navigation system\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'navigation system', 'context_quality_score': 0.4128618933333333, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618599.9841924, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.4128619, "source_document": "3faedafc-5215-4036-b98c-dd2826f262bd", "asset_id": "3faedafc-5215-4036-b98c-dd2826f262bd", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.4128619, "source_document": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "asset_id": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.41286188, "source_document": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "asset_id": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618599.9841924, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618600.8604121}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:23:22,243 - services.external_task_worker - INFO - Successfully completed task c7de5503-8f44-11f0-b401-0242ac190005
2025-09-11 15:23:22,250 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:23:22,251 - services.external_task_worker - INFO - Executing task c7e050e4-8f44-11f0-b401-0242ac190005 for topic process-response
2025-09-11 15:23:22,251 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: 2. Route Planning\n   - The system shall calculate optimal routes considering traffic conditions\n   - Support for multiple waypoints (minimum 10 waypoints per route)\n   - Real-time route recalculation when deviations occur\n[Context 2]: 2. Route Planning\n   - The system shall calculate optimal routes considering traffic conditions\n   - Support for multiple waypoints (minimum 10 waypoints per route)\n   - Real-time route recalculation when deviations occur\n[Context 3]: 2. Route Planning\n   - The system shall calculate optimal routes considering traffic conditions\n   - Support for multiple waypoints (minimum 10 waypoints per route)\n   - Real-time route recalculation when deviations occur\n\nUser Question: navigation system\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'navigation system', 'context_quality_score': 0.4128618933333333, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618599.9841924, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.4128619, "source_document": "3faedafc-5215-4036-b98c-dd2826f262bd", "asset_id": "3faedafc-5215-4036-b98c-dd2826f262bd", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.4128619, "source_document": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "asset_id": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.41286188, "source_document": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "asset_id": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618599.9841924, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618600.8604121}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: 2. Route Planning\n- The system shall calculate optimal routes considering traffic conditions\n- Support for multiple waypoints (minimum 10 waypoints per route)\n- Real-time route recalculation when deviations occur\n[Context 2]: 2. Route Planning\n- The system shall calculate optimal routes considering traffic conditions\n- Support for multiple waypoints (minimum 10 waypoints per route)\n- Real-time route recalculation when deviations occur\n[Context 3]: 2. Route Planning\n- The system shall calculate optimal routes considering traffic conditions\n- Support for multiple waypoints (minimum 10 waypoints per route)\n- Real-time route recalculation when deviations occur\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:23:22,259 - services.external_task_worker - INFO - Successfully completed task c7e050e4-8f44-11f0-b401-0242ac190005
2025-09-11 15:23:22,264 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:23:22,264 - services.external_task_worker - INFO - Executing task c7e2c1ff-8f44-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 15:23:22,264 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: 2. Route Planning\n   - The system shall calculate optimal routes considering traffic conditions\n   - Support for multiple waypoints (minimum 10 waypoints per route)\n   - Real-time route recalculation when deviations occur\n[Context 2]: 2. Route Planning\n   - The system shall calculate optimal routes considering traffic conditions\n   - Support for multiple waypoints (minimum 10 waypoints per route)\n   - Real-time route recalculation when deviations occur\n[Context 3]: 2. Route Planning\n   - The system shall calculate optimal routes considering traffic conditions\n   - Support for multiple waypoints (minimum 10 waypoints per route)\n   - Real-time route recalculation when deviations occur\n\nUser Question: navigation system\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'navigation system', 'context_quality_score': 0.4128618933333333, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618599.9841924, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.4128619, "source_document": "3faedafc-5215-4036-b98c-dd2826f262bd", "asset_id": "3faedafc-5215-4036-b98c-dd2826f262bd", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.4128619, "source_document": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "asset_id": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.41286188, "source_document": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "asset_id": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: 2. Route Planning\n- The system shall calculate optimal routes considering traffic conditions\n- Support for multiple waypoints (minimum 10 waypoints per route)\n- Real-time route recalculation when deviations occur\n[Context 2]: 2. Route Planning\n- The system shall calculate optimal routes considering traffic conditions\n- Support for multiple waypoints (minimum 10 waypoints per route)\n- Real-time route recalculation when deviations occur\n[Context 3]: 2. Route Planning\n- The system shall calculate optimal routes considering traffic conditions\n- Support for multiple waypoints (minimum 10 waypoints per route)\n- Real-time route recalculation when deviations occur\n\nThis response is based on the relevant documentation found in your knowledge assets.\n\nSources:\n[1] 3faedafc-5215-4036-b98c-dd2826f262bd\n[2] 653f30f3-05d7-4cf0-b2c3-00890c31c137\n[3] 6e9ce167-6e63-46d0-9b6b-2858e75a9a26\n', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618599.9841924, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618600.8604121}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: 2. Route Planning\n- The system shall calculate optimal routes considering traffic conditions\n- Support for multiple waypoints (minimum 10 waypoints per route)\n- Real-time route recalculation when deviations occur\n[Context 2]: 2. Route Planning\n- The system shall calculate optimal routes considering traffic conditions\n- Support for multiple waypoints (minimum 10 waypoints per route)\n- Real-time route recalculation when deviations occur\n[Context 3]: 2. Route Planning\n- The system shall calculate optimal routes considering traffic conditions\n- Support for multiple waypoints (minimum 10 waypoints per route)\n- Real-time route recalculation when deviations occur\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:23:22,274 - services.external_task_worker - INFO - Successfully completed task c7e2c1ff-8f44-11f0-b401-0242ac190005
2025-09-11 15:23:23,288 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:23:23,288 - services.external_task_worker - INFO - Executing task c8736859-8f44-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 15:23:23,288 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618603.185454, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 15:23:23,294 - services.external_task_worker - INFO - Successfully completed task c8736859-8f44-11f0-b401-0242ac190005
2025-09-11 15:23:23,299 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:23:23,299 - services.external_task_worker - INFO - Executing task c880d5f4-8f44-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 15:23:23,299 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618603.185454, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618603.185454, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618603.2885911}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:23:23,303 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 15:23:23,349 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 15:23:23,354 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 15:23:23,354 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 15:23:23,369 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 15:23:23,369 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 15:23:23,370 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 15:23:23,370 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 15:23:24,153 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 15:23:24,169 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 15:23:24,192 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 15:23:24,193 - services.qdrant_service - INFO - Found 5 results in collection 'knowledge_chunks' with threshold 0.3
2025-09-11 15:23:24,193 - services.qdrant_service - INFO - Found 5 similar chunks for query: 'what is the required Coverage Area?...'
2025-09-11 15:23:24,265 - services.external_task_worker - INFO - Successfully completed task c880d5f4-8f44-11f0-b401-0242ac190005
2025-09-11 15:23:24,270 - services.external_task_worker - INFO - Received 2 tasks
2025-09-11 15:23:24,270 - services.external_task_worker - INFO - Executing task c8c83f3e-8f44-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 15:23:24,270 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618603.7389314, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 15:23:24,275 - services.external_task_worker - INFO - Successfully completed task c8c83f3e-8f44-11f0-b401-0242ac190005
2025-09-11 15:23:24,275 - services.external_task_worker - INFO - Executing task c914d8b2-8f44-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 15:23:24,275 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618603.185454, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618603.185454, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618603.2885911}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:23:24,280 - services.external_task_worker - INFO - Successfully completed task c914d8b2-8f44-11f0-b401-0242ac190005
2025-09-11 15:23:24,287 - services.external_task_worker - INFO - Received 2 tasks
2025-09-11 15:23:24,287 - services.external_task_worker - INFO - Executing task c916867d-8f44-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 15:23:24,288 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618603.7389314, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618603.7389314, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618604.270909}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:23:24,291 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 15:23:24,343 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 15:23:24,348 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 15:23:24,348 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 15:23:24,364 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 15:23:24,364 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 15:23:24,365 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 15:23:24,365 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 15:23:25,144 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 15:23:25,169 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 15:23:25,175 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 15:23:25,177 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.5
2025-09-11 15:23:25,177 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'what is the required coverage area?...'
2025-09-11 15:23:25,200 - services.external_task_worker - INFO - Successfully completed task c916867d-8f44-11f0-b401-0242ac190005
2025-09-11 15:23:25,200 - services.external_task_worker - INFO - Executing task c91749e4-8f44-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 15:23:25,200 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618603.185454, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618603.185454, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618603.2885911}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:23:25,206 - services.external_task_worker - INFO - Successfully completed task c91749e4-8f44-11f0-b401-0242ac190005
2025-09-11 15:23:25,213 - services.external_task_worker - INFO - Received 2 tasks
2025-09-11 15:23:25,213 - services.external_task_worker - INFO - Executing task c9a38468-8f44-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 15:23:25,213 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618603.7389314, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618603.7389314, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618604.270909}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:23:25,222 - services.external_task_worker - INFO - Successfully completed task c9a38468-8f44-11f0-b401-0242ac190005
2025-09-11 15:23:25,222 - services.external_task_worker - INFO - Executing task c9a46edd-8f44-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 15:23:25,222 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618603.185454, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618603.185454, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618603.2885911}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:23:25,229 - services.external_task_worker - INFO - Successfully completed task c9a46edd-8f44-11f0-b401-0242ac190005
2025-09-11 15:23:25,235 - services.external_task_worker - INFO - Received 2 tasks
2025-09-11 15:23:25,235 - services.external_task_worker - INFO - Executing task c9a691d4-8f44-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 15:23:25,235 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618603.7389314, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618603.7389314, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618604.270909}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:23:25,242 - services.external_task_worker - INFO - Successfully completed task c9a691d4-8f44-11f0-b401-0242ac190005
2025-09-11 15:23:25,242 - services.external_task_worker - INFO - Executing task c9a7f177-8f44-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 15:23:25,242 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618603.185454, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618603.185454, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618603.2885911}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:23:25,249 - services.external_task_worker - INFO - Successfully completed task c9a7f177-8f44-11f0-b401-0242ac190005
2025-09-11 15:23:25,257 - services.external_task_worker - INFO - Received 2 tasks
2025-09-11 15:23:25,257 - services.external_task_worker - INFO - Executing task c9a9ed5c-8f44-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 15:23:25,257 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618603.7389314, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618603.7389314, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618604.270909}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:23:25,264 - services.external_task_worker - INFO - Successfully completed task c9a9ed5c-8f44-11f0-b401-0242ac190005
2025-09-11 15:23:25,264 - services.external_task_worker - INFO - Executing task c9aafedd-8f44-11f0-b401-0242ac190005 for topic process-response
2025-09-11 15:23:25,264 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618603.185454, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618603.185454, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618603.2885911}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:23:25,270 - services.external_task_worker - INFO - Successfully completed task c9aafedd-8f44-11f0-b401-0242ac190005
2025-09-11 15:23:25,276 - services.external_task_worker - INFO - Received 2 tasks
2025-09-11 15:23:25,276 - services.external_task_worker - INFO - Executing task c9ad47e0-8f44-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 15:23:25,276 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### Coverage Area\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes\n\nUser Question: what is the required coverage area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618603.7389314, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618603.7389314, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618604.270909}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:23:25,284 - services.external_task_worker - INFO - Successfully completed task c9ad47e0-8f44-11f0-b401-0242ac190005
2025-09-11 15:23:25,284 - services.external_task_worker - INFO - Executing task c9ae325b-8f44-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 15:23:25,285 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n\nUser Question: what is the required Coverage Area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618603.185454, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618603.185454, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618603.2885911}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:23:25,296 - services.external_task_worker - INFO - Successfully completed task c9ae325b-8f44-11f0-b401-0242ac190005
2025-09-11 15:23:25,301 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:23:25,302 - services.external_task_worker - INFO - Executing task c9b02e3c-8f44-11f0-b401-0242ac190005 for topic process-response
2025-09-11 15:23:25,302 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### Coverage Area\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes\n\nUser Question: what is the required coverage area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618603.7389314, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618603.7389314, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618604.270909}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### Coverage Area\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:23:25,307 - services.external_task_worker - INFO - Successfully completed task c9b02e3c-8f44-11f0-b401-0242ac190005
2025-09-11 15:23:25,312 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:23:25,312 - services.external_task_worker - INFO - Executing task c9b3fef7-8f44-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 15:23:25,312 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### Coverage Area\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes\n\nUser Question: what is the required coverage area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618603.7389314, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### Coverage Area\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes\n\nThis response is based on the relevant documentation found in your knowledge assets.\n\nSources:\n[1] 854d299c-f18f-4dc7-a247-57e0f37c677b\n', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618603.7389314, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618604.270909}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### Coverage Area\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:23:25,324 - services.external_task_worker - INFO - Successfully completed task c9b3fef7-8f44-11f0-b401-0242ac190005
2025-09-11 15:24:59,953 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:24:59,953 - services.external_task_worker - INFO - Executing task 01b24161-8f45-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 15:24:59,953 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618699.223631, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 15:24:59,959 - services.external_task_worker - INFO - Successfully completed task 01b24161-8f45-11f0-b401-0242ac190005
2025-09-11 15:24:59,964 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:24:59,964 - services.external_task_worker - INFO - Executing task 021e97dc-8f45-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 15:24:59,964 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618699.223631, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618699.223631, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618699.9534302}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:24:59,967 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 15:25:00,020 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 15:25:00,024 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 15:25:00,024 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 15:25:00,042 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 15:25:00,043 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 15:25:00,043 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 15:25:00,043 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 15:25:00,810 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 15:25:00,824 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 15:25:00,833 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 15:25:00,834 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.5
2025-09-11 15:25:00,835 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'what is the required coverage area?...'
2025-09-11 15:25:00,855 - services.external_task_worker - INFO - Successfully completed task 021e97dc-8f45-11f0-b401-0242ac190005
2025-09-11 15:25:00,860 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:25:00,860 - services.external_task_worker - INFO - Executing task 02a74ff0-8f45-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 15:25:00,860 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618699.223631, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618699.223631, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618699.9534302}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:25:00,868 - services.external_task_worker - INFO - Successfully completed task 02a74ff0-8f45-11f0-b401-0242ac190005
2025-09-11 15:25:00,875 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:25:00,875 - services.external_task_worker - INFO - Executing task 02a924c7-8f45-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 15:25:00,875 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618699.223631, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618699.223631, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618699.9534302}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:25:00,883 - services.external_task_worker - INFO - Successfully completed task 02a924c7-8f45-11f0-b401-0242ac190005
2025-09-11 15:25:00,889 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:25:00,889 - services.external_task_worker - INFO - Executing task 02ab47bc-8f45-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 15:25:00,889 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618699.223631, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618699.223631, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618699.9534302}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:25:00,895 - services.external_task_worker - INFO - Successfully completed task 02ab47bc-8f45-11f0-b401-0242ac190005
2025-09-11 15:25:00,899 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:25:00,899 - services.external_task_worker - INFO - Executing task 02ad6aaf-8f45-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 15:25:00,899 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### Coverage Area\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes\n\nUser Question: what is the required coverage area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618699.223631, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618699.223631, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618699.9534302}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:25:00,904 - services.external_task_worker - INFO - Successfully completed task 02ad6aaf-8f45-11f0-b401-0242ac190005
2025-09-11 15:25:00,908 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:25:00,908 - services.external_task_worker - INFO - Executing task 02aef160-8f45-11f0-b401-0242ac190005 for topic process-response
2025-09-11 15:25:00,908 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### Coverage Area\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes\n\nUser Question: what is the required coverage area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618699.223631, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618699.223631, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618699.9534302}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### Coverage Area\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:25:00,913 - services.external_task_worker - INFO - Successfully completed task 02aef160-8f45-11f0-b401-0242ac190005
2025-09-11 15:25:00,917 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:25:00,917 - services.external_task_worker - INFO - Executing task 02b028fb-8f45-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 15:25:00,917 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### Coverage Area\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes\n\nUser Question: what is the required coverage area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618699.223631, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### Coverage Area\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes\n\nThis response is based on the relevant documentation found in your knowledge assets.\n\nSources:\n[1] 854d299c-f18f-4dc7-a247-57e0f37c677b\n', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618699.223631, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618699.9534302}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### Coverage Area\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:25:00,926 - services.external_task_worker - INFO - Successfully completed task 02b028fb-8f45-11f0-b401-0242ac190005
2025-09-11 15:25:02,658 - __main__ - INFO - Received signal 15, shutting down worker...
2025-09-11 15:25:18,825 - services.external_task_worker - INFO - Starting external task worker: odras-worker-1757618718
2025-09-11 15:25:29,903 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:25:29,904 - services.external_task_worker - INFO - Executing task 1378e205-8f45-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 15:25:29,904 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618729.0474124, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 15:25:29,924 - services.external_task_worker - INFO - Successfully completed task 1378e205-8f45-11f0-b401-0242ac190005
2025-09-11 15:25:29,931 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:25:29,931 - services.external_task_worker - INFO - Executing task 13f90ea0-8f45-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 15:25:29,931 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618729.0474124, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618729.0474124, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618729.9048014}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:25:29,943 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 15:25:30,003 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 15:25:30,006 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 15:25:30,007 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 15:25:30,020 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 15:25:30,020 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 15:25:30,022 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 15:25:30,022 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 15:25:31,311 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 15:25:31,337 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 15:25:31,346 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 15:25:31,348 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.5
2025-09-11 15:25:31,348 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'what is the required coverage area?...'
2025-09-11 15:25:31,371 - services.external_task_worker - INFO - Successfully completed task 13f90ea0-8f45-11f0-b401-0242ac190005
2025-09-11 15:25:31,378 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:25:31,378 - services.external_task_worker - INFO - Executing task 14d787d4-8f45-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 15:25:31,378 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618729.0474124, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618729.0474124, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618729.9048014}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:25:31,384 - services.external_task_worker - INFO - Successfully completed task 14d787d4-8f45-11f0-b401-0242ac190005
2025-09-11 15:25:31,390 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:25:31,390 - services.external_task_worker - INFO - Executing task 14d9d1db-8f45-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 15:25:31,390 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618729.0474124, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618729.0474124, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618729.9048014}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:25:31,395 - services.external_task_worker - INFO - Successfully completed task 14d9d1db-8f45-11f0-b401-0242ac190005
2025-09-11 15:25:31,401 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:25:31,401 - services.external_task_worker - INFO - Executing task 14db5890-8f45-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 15:25:31,401 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618729.0474124, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618729.0474124, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618729.9048014}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:25:31,406 - services.external_task_worker - INFO - Successfully completed task 14db5890-8f45-11f0-b401-0242ac190005
2025-09-11 15:25:31,412 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:25:31,412 - services.external_task_worker - INFO - Executing task 14dd0653-8f45-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 15:25:31,412 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a knowledgeable assistant helping users understand information from their knowledge base. \n\nBased on the following information:\n\n### Coverage Area\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes\n\nPlease answer this question: what is the required coverage area?\n\nProvide a clear, well-structured response using the information above. If the provided information doesn't fully answer the question, acknowledge what you can determine and what might be missing.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618729.0474124, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618729.0474124, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618729.9048014}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:25:31,418 - services.external_task_worker - INFO - Successfully completed task 14dd0653-8f45-11f0-b401-0242ac190005
2025-09-11 15:25:31,424 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:25:31,424 - services.external_task_worker - INFO - Executing task 14dedb24-8f45-11f0-b401-0242ac190005 for topic process-response
2025-09-11 15:25:31,424 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a knowledgeable assistant helping users understand information from their knowledge base. \n\nBased on the following information:\n\n### Coverage Area\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes\n\nPlease answer this question: what is the required coverage area?\n\nProvide a clear, well-structured response using the information above. If the provided information doesn't fully answer the question, acknowledge what you can determine and what might be missing.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618729.0474124, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618729.0474124, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618729.9048014}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:25:31,431 - services.external_task_worker - INFO - Successfully completed task 14dedb24-8f45-11f0-b401-0242ac190005
2025-09-11 15:25:31,437 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:25:31,437 - services.external_task_worker - INFO - Executing task 14e0afff-8f45-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 15:25:31,437 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a knowledgeable assistant helping users understand information from their knowledge base. \n\nBased on the following information:\n\n### Coverage Area\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes\n\nPlease answer this question: what is the required coverage area?\n\nProvide a clear, well-structured response using the information above. If the provided information doesn't fully answer the question, acknowledge what you can determine and what might be missing.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618729.0474124, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618729.0474124, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618729.9048014}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:25:31,451 - services.external_task_worker - INFO - Successfully completed task 14e0afff-8f45-11f0-b401-0242ac190005
2025-09-11 15:25:35,486 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:25:35,486 - services.external_task_worker - INFO - Executing task 17025799-8f45-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 15:25:35,486 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618734.9822502, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 15:25:35,491 - services.external_task_worker - INFO - Successfully completed task 17025799-8f45-11f0-b401-0242ac190005
2025-09-11 15:25:35,496 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:25:35,497 - services.external_task_worker - INFO - Executing task 174c8014-8f45-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 15:25:35,497 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618734.9822502, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618734.9822502, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618735.4870508}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:25:35,501 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 15:25:35,543 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 15:25:35,546 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 15:25:35,547 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 15:25:35,558 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 15:25:35,558 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 15:25:35,559 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 15:25:35,559 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 15:25:36,330 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 15:25:36,350 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 15:25:36,358 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 15:25:36,359 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.5
2025-09-11 15:25:36,359 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'what is the required coverage area?...'
2025-09-11 15:25:36,382 - services.external_task_worker - INFO - Successfully completed task 174c8014-8f45-11f0-b401-0242ac190005
2025-09-11 15:25:36,390 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:25:36,390 - services.external_task_worker - INFO - Executing task 17d44cc8-8f45-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 15:25:36,390 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618734.9822502, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618734.9822502, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618735.4870508}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:25:36,399 - services.external_task_worker - INFO - Successfully completed task 17d44cc8-8f45-11f0-b401-0242ac190005
2025-09-11 15:25:36,405 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:25:36,406 - services.external_task_worker - INFO - Executing task 17d6bddf-8f45-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 15:25:36,406 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618734.9822502, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618734.9822502, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618735.4870508}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:25:36,413 - services.external_task_worker - INFO - Successfully completed task 17d6bddf-8f45-11f0-b401-0242ac190005
2025-09-11 15:25:36,419 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:25:36,419 - services.external_task_worker - INFO - Executing task 17d8e0d4-8f45-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 15:25:36,419 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618734.9822502, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618734.9822502, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618735.4870508}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:25:36,426 - services.external_task_worker - INFO - Successfully completed task 17d8e0d4-8f45-11f0-b401-0242ac190005
2025-09-11 15:25:36,433 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:25:36,433 - services.external_task_worker - INFO - Executing task 17db03c7-8f45-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 15:25:36,433 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a knowledgeable assistant helping users understand information from their knowledge base. \n\nBased on the following information:\n\n### Coverage Area\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes\n\nPlease answer this question: what is the required coverage area?\n\nProvide a clear, well-structured response using the information above. If the provided information doesn't fully answer the question, acknowledge what you can determine and what might be missing.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618734.9822502, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618734.9822502, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618735.4870508}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:25:36,439 - services.external_task_worker - INFO - Successfully completed task 17db03c7-8f45-11f0-b401-0242ac190005
2025-09-11 15:25:36,445 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:25:36,445 - services.external_task_worker - INFO - Executing task 17dcffa8-8f45-11f0-b401-0242ac190005 for topic process-response
2025-09-11 15:25:36,445 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a knowledgeable assistant helping users understand information from their knowledge base. \n\nBased on the following information:\n\n### Coverage Area\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes\n\nPlease answer this question: what is the required coverage area?\n\nProvide a clear, well-structured response using the information above. If the provided information doesn't fully answer the question, acknowledge what you can determine and what might be missing.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618734.9822502, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618734.9822502, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618735.4870508}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:25:36,453 - services.external_task_worker - INFO - Successfully completed task 17dcffa8-8f45-11f0-b401-0242ac190005
2025-09-11 15:25:36,459 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:25:36,459 - services.external_task_worker - INFO - Executing task 17ded483-8f45-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 15:25:36,459 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a knowledgeable assistant helping users understand information from their knowledge base. \n\nBased on the following information:\n\n### Coverage Area\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes\n\nPlease answer this question: what is the required coverage area?\n\nProvide a clear, well-structured response using the information above. If the provided information doesn't fully answer the question, acknowledge what you can determine and what might be missing.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618734.9822502, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618734.9822502, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618735.4870508}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:25:36,470 - services.external_task_worker - INFO - Successfully completed task 17ded483-8f45-11f0-b401-0242ac190005
2025-09-11 15:25:39,500 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:25:39,501 - services.external_task_worker - INFO - Executing task 19857fbd-8f45-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 15:25:39,501 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618739.1980207, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 15:25:39,506 - services.external_task_worker - INFO - Successfully completed task 19857fbd-8f45-11f0-b401-0242ac190005
2025-09-11 15:25:39,513 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:25:39,513 - services.external_task_worker - INFO - Executing task 19b0fca8-8f45-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 15:25:39,513 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618739.1980207, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618739.1980207, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618739.501162}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:25:39,517 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 15:25:39,565 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 15:25:39,571 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 15:25:39,571 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 15:25:39,587 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 15:25:39,587 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 15:25:39,588 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 15:25:39,588 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 15:25:40,268 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 15:25:40,277 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 15:25:40,285 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 15:25:40,287 - services.qdrant_service - INFO - Found 5 results in collection 'knowledge_chunks' with threshold 0.3
2025-09-11 15:25:40,287 - services.qdrant_service - INFO - Found 5 similar chunks for query: 'what is the required Coverage Area?...'
2025-09-11 15:25:40,369 - services.external_task_worker - INFO - Successfully completed task 19b0fca8-8f45-11f0-b401-0242ac190005
2025-09-11 15:25:40,377 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:25:40,377 - services.external_task_worker - INFO - Executing task 1a345d8c-8f45-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 15:25:40,377 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618739.1980207, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618739.1980207, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618739.501162}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:25:40,384 - services.external_task_worker - INFO - Successfully completed task 1a345d8c-8f45-11f0-b401-0242ac190005
2025-09-11 15:25:40,390 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:25:40,390 - services.external_task_worker - INFO - Executing task 1a36f5b3-8f45-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 15:25:40,390 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618739.1980207, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618739.1980207, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618739.501162}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:25:40,399 - services.external_task_worker - INFO - Successfully completed task 1a36f5b3-8f45-11f0-b401-0242ac190005
2025-09-11 15:25:40,404 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:25:40,404 - services.external_task_worker - INFO - Executing task 1a38f198-8f45-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 15:25:40,404 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618739.1980207, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618739.1980207, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618739.501162}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:25:40,412 - services.external_task_worker - INFO - Successfully completed task 1a38f198-8f45-11f0-b401-0242ac190005
2025-09-11 15:25:40,417 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:25:40,417 - services.external_task_worker - INFO - Executing task 1a3b148b-8f45-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 15:25:40,417 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a knowledgeable assistant helping users understand information from their knowledge base. \n\nBased on the following information:\n\nPlease answer this question: what is the required Coverage Area?\n\nProvide a clear, well-structured response using the information above. If the provided information doesn't fully answer the question, acknowledge what you can determine and what might be missing.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618739.1980207, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618739.1980207, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618739.501162}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:25:40,424 - services.external_task_worker - INFO - Successfully completed task 1a3b148b-8f45-11f0-b401-0242ac190005
2025-09-11 15:25:40,429 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:25:40,429 - services.external_task_worker - INFO - Executing task 1a3d0f6c-8f45-11f0-b401-0242ac190005 for topic process-response
2025-09-11 15:25:40,430 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a knowledgeable assistant helping users understand information from their knowledge base. \n\nBased on the following information:\n\nPlease answer this question: what is the required Coverage Area?\n\nProvide a clear, well-structured response using the information above. If the provided information doesn't fully answer the question, acknowledge what you can determine and what might be missing.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618739.1980207, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618739.1980207, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618739.501162}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:25:40,435 - services.external_task_worker - INFO - Successfully completed task 1a3d0f6c-8f45-11f0-b401-0242ac190005
2025-09-11 15:25:40,439 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:25:40,439 - services.external_task_worker - INFO - Executing task 1a3ebd37-8f45-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 15:25:40,439 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a knowledgeable assistant helping users understand information from their knowledge base. \n\nBased on the following information:\n\nPlease answer this question: what is the required Coverage Area?\n\nProvide a clear, well-structured response using the information above. If the provided information doesn't fully answer the question, acknowledge what you can determine and what might be missing.", 'user_query': 'what is the required Coverage Area?', 'context_quality_score': 0.0, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618739.1980207, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "what is the required Coverage Area?", "cleaned_query": "what is the required Coverage Area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618739.1980207, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618739.501162}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:25:40,448 - services.external_task_worker - INFO - Successfully completed task 1a3ebd37-8f45-11f0-b401-0242ac190005
2025-09-11 15:25:41,457 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:25:41,457 - services.external_task_worker - INFO - Executing task 1ad298e1-8f45-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 15:25:41,457 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system route planning', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618741.3732073, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 15:25:41,464 - services.external_task_worker - INFO - Successfully completed task 1ad298e1-8f45-11f0-b401-0242ac190005
2025-09-11 15:25:41,468 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:25:41,469 - services.external_task_worker - INFO - Executing task 1adbc0bc-8f45-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 15:25:41,469 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system route planning', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618741.3732073, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "navigation system route planning", "cleaned_query": "navigation system route planning", "key_terms": ["navigation", "system", "route", "planning"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 4, "char_count": 32, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618741.3732073, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618741.4574466}', 'search_parameters': '{"primary_terms": ["navigation", "system", "route", "planning"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:25:41,473 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 15:25:41,524 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 15:25:41,529 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 15:25:41,530 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 15:25:41,544 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 15:25:41,544 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 15:25:41,545 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 15:25:41,545 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 15:25:42,372 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 15:25:42,380 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 15:25:42,386 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 15:25:42,388 - services.qdrant_service - INFO - Found 6 results in collection 'knowledge_chunks' with threshold 0.3
2025-09-11 15:25:42,388 - services.qdrant_service - INFO - Found 6 similar chunks for query: 'navigation system route planning...'
2025-09-11 15:25:42,435 - services.external_task_worker - INFO - Successfully completed task 1adbc0bc-8f45-11f0-b401-0242ac190005
2025-09-11 15:25:42,440 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:25:42,440 - services.external_task_worker - INFO - Executing task 1b6fea80-8f45-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 15:25:42,441 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system route planning', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618741.3732073, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[{"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.63688016, "source_document": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "asset_id": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.63688016, "source_document": "3faedafc-5215-4036-b98c-dd2826f262bd", "asset_id": "3faedafc-5215-4036-b98c-dd2826f262bd", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.63688004, "source_document": "770f2296-4e54-451a-84e1-be2673c130be", "asset_id": "770f2296-4e54-451a-84e1-be2673c130be", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}]', 'processed_query': '{"original_query": "navigation system route planning", "cleaned_query": "navigation system route planning", "key_terms": ["navigation", "system", "route", "planning"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 4, "char_count": 32, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618741.3732073, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618741.4574466}', 'search_parameters': '{"primary_terms": ["navigation", "system", "route", "planning"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:25:42,447 - services.external_task_worker - INFO - Successfully completed task 1b6fea80-8f45-11f0-b401-0242ac190005
2025-09-11 15:25:42,452 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:25:42,453 - services.external_task_worker - INFO - Executing task 1b71bf57-8f45-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 15:25:42,453 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system route planning', 'context_quality_score': 0.6368801199999999, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618741.3732073, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.63688016, "source_document": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "asset_id": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.63688016, "source_document": "3faedafc-5215-4036-b98c-dd2826f262bd", "asset_id": "3faedafc-5215-4036-b98c-dd2826f262bd", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.63688004, "source_document": "770f2296-4e54-451a-84e1-be2673c130be", "asset_id": "770f2296-4e54-451a-84e1-be2673c130be", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}]', 'retrieved_chunks': '[{"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.63688016, "source_document": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "asset_id": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.63688016, "source_document": "3faedafc-5215-4036-b98c-dd2826f262bd", "asset_id": "3faedafc-5215-4036-b98c-dd2826f262bd", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.63688004, "source_document": "770f2296-4e54-451a-84e1-be2673c130be", "asset_id": "770f2296-4e54-451a-84e1-be2673c130be", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}]', 'processed_query': '{"original_query": "navigation system route planning", "cleaned_query": "navigation system route planning", "key_terms": ["navigation", "system", "route", "planning"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 4, "char_count": 32, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618741.3732073, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618741.4574466}', 'search_parameters': '{"primary_terms": ["navigation", "system", "route", "planning"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:25:42,459 - services.external_task_worker - INFO - Successfully completed task 1b71bf57-8f45-11f0-b401-0242ac190005
2025-09-11 15:25:42,464 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:25:42,464 - services.external_task_worker - INFO - Executing task 1b73942c-8f45-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 15:25:42,464 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system route planning', 'context_quality_score': 0.6368801199999999, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618741.3732073, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.63688016, "source_document": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "asset_id": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.63688016, "source_document": "3faedafc-5215-4036-b98c-dd2826f262bd", "asset_id": "3faedafc-5215-4036-b98c-dd2826f262bd", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.63688004, "source_document": "770f2296-4e54-451a-84e1-be2673c130be", "asset_id": "770f2296-4e54-451a-84e1-be2673c130be", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "navigation system route planning", "cleaned_query": "navigation system route planning", "key_terms": ["navigation", "system", "route", "planning"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 4, "char_count": 32, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618741.3732073, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618741.4574466}', 'search_parameters': '{"primary_terms": ["navigation", "system", "route", "planning"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:25:42,470 - services.external_task_worker - INFO - Successfully completed task 1b73942c-8f45-11f0-b401-0242ac190005
2025-09-11 15:25:42,475 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:25:42,476 - services.external_task_worker - INFO - Executing task 1b7568ff-8f45-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 15:25:42,476 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a knowledgeable assistant helping users understand information from their knowledge base. \n\nBased on the following information:\n\n2. Route Planning\n   - The system shall calculate optimal routes considering traffic conditions\n   - Support for multiple waypoints (minimum 10 waypoints per route)\n   - Real-time route recalculation when deviations occur\n\n2. Route Planning\n   - The system shall calculate optimal routes considering traffic conditions\n   - Support for multiple waypoints (minimum 10 waypoints per route)\n   - Real-time route recalculation when deviations occur\n\n2. Route Planning\n   - The system shall calculate optimal routes considering traffic conditions\n   - Support for multiple waypoints (minimum 10 waypoints per route)\n   - Real-time route recalculation when deviations occur\n\nPlease answer this question: navigation system route planning\n\nProvide a clear, well-structured response using the information above. If the provided information doesn't fully answer the question, acknowledge what you can determine and what might be missing.", 'user_query': 'navigation system route planning', 'context_quality_score': 0.6368801199999999, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618741.3732073, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.63688016, "source_document": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "asset_id": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.63688016, "source_document": "3faedafc-5215-4036-b98c-dd2826f262bd", "asset_id": "3faedafc-5215-4036-b98c-dd2826f262bd", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.63688004, "source_document": "770f2296-4e54-451a-84e1-be2673c130be", "asset_id": "770f2296-4e54-451a-84e1-be2673c130be", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "navigation system route planning", "cleaned_query": "navigation system route planning", "key_terms": ["navigation", "system", "route", "planning"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 4, "char_count": 32, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618741.3732073, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618741.4574466}', 'search_parameters': '{"primary_terms": ["navigation", "system", "route", "planning"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:25:42,482 - services.external_task_worker - INFO - Successfully completed task 1b7568ff-8f45-11f0-b401-0242ac190005
2025-09-11 15:25:42,488 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:25:42,488 - services.external_task_worker - INFO - Executing task 1b7716c0-8f45-11f0-b401-0242ac190005 for topic process-response
2025-09-11 15:25:42,488 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a knowledgeable assistant helping users understand information from their knowledge base. \n\nBased on the following information:\n\n2. Route Planning\n   - The system shall calculate optimal routes considering traffic conditions\n   - Support for multiple waypoints (minimum 10 waypoints per route)\n   - Real-time route recalculation when deviations occur\n\n2. Route Planning\n   - The system shall calculate optimal routes considering traffic conditions\n   - Support for multiple waypoints (minimum 10 waypoints per route)\n   - Real-time route recalculation when deviations occur\n\n2. Route Planning\n   - The system shall calculate optimal routes considering traffic conditions\n   - Support for multiple waypoints (minimum 10 waypoints per route)\n   - Real-time route recalculation when deviations occur\n\nPlease answer this question: navigation system route planning\n\nProvide a clear, well-structured response using the information above. If the provided information doesn't fully answer the question, acknowledge what you can determine and what might be missing.", 'user_query': 'navigation system route planning', 'context_quality_score': 0.6368801199999999, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618741.3732073, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.63688016, "source_document": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "asset_id": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.63688016, "source_document": "3faedafc-5215-4036-b98c-dd2826f262bd", "asset_id": "3faedafc-5215-4036-b98c-dd2826f262bd", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.63688004, "source_document": "770f2296-4e54-451a-84e1-be2673c130be", "asset_id": "770f2296-4e54-451a-84e1-be2673c130be", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "navigation system route planning", "cleaned_query": "navigation system route planning", "key_terms": ["navigation", "system", "route", "planning"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 4, "char_count": 32, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618741.3732073, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618741.4574466}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["navigation", "system", "route", "planning"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:25:42,495 - services.external_task_worker - INFO - Successfully completed task 1b7716c0-8f45-11f0-b401-0242ac190005
2025-09-11 15:25:42,501 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:25:42,501 - services.external_task_worker - INFO - Executing task 1b7912ab-8f45-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 15:25:42,501 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a knowledgeable assistant helping users understand information from their knowledge base. \n\nBased on the following information:\n\n2. Route Planning\n   - The system shall calculate optimal routes considering traffic conditions\n   - Support for multiple waypoints (minimum 10 waypoints per route)\n   - Real-time route recalculation when deviations occur\n\n2. Route Planning\n   - The system shall calculate optimal routes considering traffic conditions\n   - Support for multiple waypoints (minimum 10 waypoints per route)\n   - Real-time route recalculation when deviations occur\n\n2. Route Planning\n   - The system shall calculate optimal routes considering traffic conditions\n   - Support for multiple waypoints (minimum 10 waypoints per route)\n   - Real-time route recalculation when deviations occur\n\nPlease answer this question: navigation system route planning\n\nProvide a clear, well-structured response using the information above. If the provided information doesn't fully answer the question, acknowledge what you can determine and what might be missing.", 'user_query': 'navigation system route planning', 'context_quality_score': 0.6368801199999999, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618741.3732073, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.63688016, "source_document": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "asset_id": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.63688016, "source_document": "3faedafc-5215-4036-b98c-dd2826f262bd", "asset_id": "3faedafc-5215-4036-b98c-dd2826f262bd", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.63688004, "source_document": "770f2296-4e54-451a-84e1-be2673c130be", "asset_id": "770f2296-4e54-451a-84e1-be2673c130be", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "navigation system route planning", "cleaned_query": "navigation system route planning", "key_terms": ["navigation", "system", "route", "planning"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 4, "char_count": 32, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618741.3732073, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618741.4574466}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["navigation", "system", "route", "planning"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:25:42,511 - services.external_task_worker - INFO - Successfully completed task 1b7912ab-8f45-11f0-b401-0242ac190005
2025-09-11 15:25:53,584 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:25:53,584 - services.external_task_worker - INFO - Executing task 21ed99a5-8f45-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 15:25:53,584 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618753.2995846, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 15:25:53,592 - services.external_task_worker - INFO - Successfully completed task 21ed99a5-8f45-11f0-b401-0242ac190005
2025-09-11 15:25:53,604 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:25:53,604 - services.external_task_worker - INFO - Executing task 22160850-8f45-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 15:25:53,604 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618753.2995846, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618753.2995846, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618753.5848901}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:25:53,608 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 15:25:53,675 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 15:25:53,681 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 15:25:53,682 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 15:25:53,709 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 15:25:53,710 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 15:25:53,711 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 15:25:53,711 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 15:25:54,412 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 15:25:54,434 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 15:25:54,445 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 15:25:54,446 - services.qdrant_service - INFO - Found 6 results in collection 'knowledge_chunks' with threshold 0.3
2025-09-11 15:25:54,446 - services.qdrant_service - INFO - Found 6 similar chunks for query: 'navigation system...'
2025-09-11 15:25:54,496 - services.external_task_worker - INFO - Successfully completed task 22160850-8f45-11f0-b401-0242ac190005
2025-09-11 15:25:54,503 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:25:54,503 - services.external_task_worker - INFO - Executing task 22a01ff4-8f45-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 15:25:54,504 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618753.2995846, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[{"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.4128619, "source_document": "3faedafc-5215-4036-b98c-dd2826f262bd", "asset_id": "3faedafc-5215-4036-b98c-dd2826f262bd", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.4128619, "source_document": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "asset_id": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.41286188, "source_document": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "asset_id": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618753.2995846, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618753.5848901}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:25:54,510 - services.external_task_worker - INFO - Successfully completed task 22a01ff4-8f45-11f0-b401-0242ac190005
2025-09-11 15:25:54,519 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:25:54,519 - services.external_task_worker - INFO - Executing task 22a269fb-8f45-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 15:25:54,519 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'context_quality_score': 0.4128618933333333, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618753.2995846, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.4128619, "source_document": "3faedafc-5215-4036-b98c-dd2826f262bd", "asset_id": "3faedafc-5215-4036-b98c-dd2826f262bd", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.4128619, "source_document": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "asset_id": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.41286188, "source_document": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "asset_id": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}]', 'retrieved_chunks': '[{"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.4128619, "source_document": "3faedafc-5215-4036-b98c-dd2826f262bd", "asset_id": "3faedafc-5215-4036-b98c-dd2826f262bd", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.4128619, "source_document": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "asset_id": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.41286188, "source_document": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "asset_id": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618753.2995846, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618753.5848901}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:25:54,526 - services.external_task_worker - INFO - Successfully completed task 22a269fb-8f45-11f0-b401-0242ac190005
2025-09-11 15:25:54,532 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:25:54,532 - services.external_task_worker - INFO - Executing task 22a4db10-8f45-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 15:25:54,532 - services.external_task_worker - INFO - Task variables: {'user_query': 'navigation system', 'context_quality_score': 0.4128618933333333, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618753.2995846, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.4128619, "source_document": "3faedafc-5215-4036-b98c-dd2826f262bd", "asset_id": "3faedafc-5215-4036-b98c-dd2826f262bd", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.4128619, "source_document": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "asset_id": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.41286188, "source_document": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "asset_id": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618753.2995846, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618753.5848901}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:25:54,539 - services.external_task_worker - INFO - Successfully completed task 22a4db10-8f45-11f0-b401-0242ac190005
2025-09-11 15:25:54,544 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:25:54,544 - services.external_task_worker - INFO - Executing task 22a6d6f3-8f45-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 15:25:54,545 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a knowledgeable assistant helping users understand information from their knowledge base. \n\nBased on the following information:\n\n2. Route Planning\n   - The system shall calculate optimal routes considering traffic conditions\n   - Support for multiple waypoints (minimum 10 waypoints per route)\n   - Real-time route recalculation when deviations occur\n\n2. Route Planning\n   - The system shall calculate optimal routes considering traffic conditions\n   - Support for multiple waypoints (minimum 10 waypoints per route)\n   - Real-time route recalculation when deviations occur\n\n2. Route Planning\n   - The system shall calculate optimal routes considering traffic conditions\n   - Support for multiple waypoints (minimum 10 waypoints per route)\n   - Real-time route recalculation when deviations occur\n\nPlease answer this question: navigation system\n\nProvide a clear, well-structured response using the information above. If the provided information doesn't fully answer the question, acknowledge what you can determine and what might be missing.", 'user_query': 'navigation system', 'context_quality_score': 0.4128618933333333, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618753.2995846, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.4128619, "source_document": "3faedafc-5215-4036-b98c-dd2826f262bd", "asset_id": "3faedafc-5215-4036-b98c-dd2826f262bd", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.4128619, "source_document": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "asset_id": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.41286188, "source_document": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "asset_id": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618753.2995846, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618753.5848901}', 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:25:54,552 - services.external_task_worker - INFO - Successfully completed task 22a6d6f3-8f45-11f0-b401-0242ac190005
2025-09-11 15:25:54,558 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:25:54,558 - services.external_task_worker - INFO - Executing task 22a8abc4-8f45-11f0-b401-0242ac190005 for topic process-response
2025-09-11 15:25:54,558 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a knowledgeable assistant helping users understand information from their knowledge base. \n\nBased on the following information:\n\n2. Route Planning\n   - The system shall calculate optimal routes considering traffic conditions\n   - Support for multiple waypoints (minimum 10 waypoints per route)\n   - Real-time route recalculation when deviations occur\n\n2. Route Planning\n   - The system shall calculate optimal routes considering traffic conditions\n   - Support for multiple waypoints (minimum 10 waypoints per route)\n   - Real-time route recalculation when deviations occur\n\n2. Route Planning\n   - The system shall calculate optimal routes considering traffic conditions\n   - Support for multiple waypoints (minimum 10 waypoints per route)\n   - Real-time route recalculation when deviations occur\n\nPlease answer this question: navigation system\n\nProvide a clear, well-structured response using the information above. If the provided information doesn't fully answer the question, acknowledge what you can determine and what might be missing.", 'user_query': 'navigation system', 'context_quality_score': 0.4128618933333333, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618753.2995846, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.4128619, "source_document": "3faedafc-5215-4036-b98c-dd2826f262bd", "asset_id": "3faedafc-5215-4036-b98c-dd2826f262bd", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.4128619, "source_document": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "asset_id": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.41286188, "source_document": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "asset_id": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618753.2995846, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618753.5848901}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:25:54,565 - services.external_task_worker - INFO - Successfully completed task 22a8abc4-8f45-11f0-b401-0242ac190005
2025-09-11 15:25:54,571 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:25:54,571 - services.external_task_worker - INFO - Executing task 22aacebf-8f45-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 15:25:54,571 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a knowledgeable assistant helping users understand information from their knowledge base. \n\nBased on the following information:\n\n2. Route Planning\n   - The system shall calculate optimal routes considering traffic conditions\n   - Support for multiple waypoints (minimum 10 waypoints per route)\n   - Real-time route recalculation when deviations occur\n\n2. Route Planning\n   - The system shall calculate optimal routes considering traffic conditions\n   - Support for multiple waypoints (minimum 10 waypoints per route)\n   - Real-time route recalculation when deviations occur\n\n2. Route Planning\n   - The system shall calculate optimal routes considering traffic conditions\n   - Support for multiple waypoints (minimum 10 waypoints per route)\n   - Real-time route recalculation when deviations occur\n\nPlease answer this question: navigation system\n\nProvide a clear, well-structured response using the information above. If the provided information doesn't fully answer the question, acknowledge what you can determine and what might be missing.", 'user_query': 'navigation system', 'context_quality_score': 0.4128618933333333, 'query_metadata': '{"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618753.2995846, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.4128619, "source_document": "3faedafc-5215-4036-b98c-dd2826f262bd", "asset_id": "3faedafc-5215-4036-b98c-dd2826f262bd", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.4128619, "source_document": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "asset_id": "653f30f3-05d7-4cf0-b2c3-00890c31c137", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}, {"chunk_id": "unknown", "content": "2. Route Planning\\n   - The system shall calculate optimal routes considering traffic conditions\\n   - Support for multiple waypoints (minimum 10 waypoints per route)\\n   - Real-time route recalculation when deviations occur", "similarity_score": 0.41286188, "source_document": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "asset_id": "6e9ce167-6e63-46d0-9b6b-2858e75a9a26", "project_id": "74db2e90-ab48-43b0-8d34-58311d7cc5d6"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "navigation system", "cleaned_query": "navigation system", "key_terms": ["navigation", "system"], "question_intent": [], "query_type": "informational", "domain_terms": ["system"], "word_count": 2, "char_count": 17, "query_metadata": {"user_id": "7cad5fa0-49eb-4dc4-8c4d-b637900bd667", "username": "api_user", "max_results": 3, "similarity_threshold": 0.3, "timestamp": 1757618753.2995846, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618753.5848901}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["navigation", "system"], "secondary_terms": [], "search_boost_terms": ["system"], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:25:54,584 - services.external_task_worker - INFO - Successfully completed task 22aacebf-8f45-11f0-b401-0242ac190005
2025-09-11 15:25:58,621 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:25:58,622 - services.external_task_worker - INFO - Executing task 24f7cc19-8f45-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 15:25:58,622 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618758.3948073, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 15:25:58,629 - services.external_task_worker - INFO - Successfully completed task 24f7cc19-8f45-11f0-b401-0242ac190005
2025-09-11 15:25:58,636 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:25:58,636 - services.external_task_worker - INFO - Executing task 2516ecf4-8f45-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 15:25:58,636 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618758.3948073, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618758.3948073, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618758.6223867}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:25:58,641 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 15:25:58,705 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 15:25:58,709 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 15:25:58,709 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 15:25:58,727 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 15:25:58,727 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 15:25:58,728 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 15:25:58,728 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 15:25:59,464 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 15:25:59,475 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 15:25:59,485 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 15:25:59,486 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.5
2025-09-11 15:25:59,486 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'what is the required coverage area?...'
2025-09-11 15:25:59,511 - services.external_task_worker - INFO - Successfully completed task 2516ecf4-8f45-11f0-b401-0242ac190005
2025-09-11 15:25:59,517 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:25:59,517 - services.external_task_worker - INFO - Executing task 259da938-8f45-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 15:25:59,518 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618758.3948073, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618758.3948073, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618758.6223867}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:25:59,526 - services.external_task_worker - INFO - Successfully completed task 259da938-8f45-11f0-b401-0242ac190005
2025-09-11 15:25:59,533 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:25:59,533 - services.external_task_worker - INFO - Executing task 259fa51f-8f45-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 15:25:59,533 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618758.3948073, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618758.3948073, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618758.6223867}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:25:59,540 - services.external_task_worker - INFO - Successfully completed task 259fa51f-8f45-11f0-b401-0242ac190005
2025-09-11 15:25:59,547 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:25:59,547 - services.external_task_worker - INFO - Executing task 25a1ee24-8f45-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 15:25:59,547 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618758.3948073, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618758.3948073, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618758.6223867}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:25:59,556 - services.external_task_worker - INFO - Successfully completed task 25a1ee24-8f45-11f0-b401-0242ac190005
2025-09-11 15:25:59,561 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:25:59,562 - services.external_task_worker - INFO - Executing task 25a43827-8f45-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 15:25:59,562 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a knowledgeable assistant helping users understand information from their knowledge base. \n\nBased on the following information:\n\n### Coverage Area\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes\n\nPlease answer this question: what is the required coverage area?\n\nProvide a clear, well-structured response using the information above. If the provided information doesn't fully answer the question, acknowledge what you can determine and what might be missing.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618758.3948073, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618758.3948073, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618758.6223867}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:25:59,569 - services.external_task_worker - INFO - Successfully completed task 25a43827-8f45-11f0-b401-0242ac190005
2025-09-11 15:25:59,575 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:25:59,575 - services.external_task_worker - INFO - Executing task 25a65b18-8f45-11f0-b401-0242ac190005 for topic process-response
2025-09-11 15:25:59,575 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a knowledgeable assistant helping users understand information from their knowledge base. \n\nBased on the following information:\n\n### Coverage Area\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes\n\nPlease answer this question: what is the required coverage area?\n\nProvide a clear, well-structured response using the information above. If the provided information doesn't fully answer the question, acknowledge what you can determine and what might be missing.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618758.3948073, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618758.3948073, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618758.6223867}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:25:59,583 - services.external_task_worker - INFO - Successfully completed task 25a65b18-8f45-11f0-b401-0242ac190005
2025-09-11 15:25:59,590 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:25:59,590 - services.external_task_worker - INFO - Executing task 25a82ff3-8f45-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 15:25:59,590 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a knowledgeable assistant helping users understand information from their knowledge base. \n\nBased on the following information:\n\n### Coverage Area\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes\n\nPlease answer this question: what is the required coverage area?\n\nProvide a clear, well-structured response using the information above. If the provided information doesn't fully answer the question, acknowledge what you can determine and what might be missing.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618758.3948073, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618758.3948073, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618758.6223867}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:25:59,603 - services.external_task_worker - INFO - Successfully completed task 25a82ff3-8f45-11f0-b401-0242ac190005
2025-09-11 15:26:10,677 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:26:10,677 - services.external_task_worker - INFO - Executing task 2bbb841d-8f45-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 15:26:10,677 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618769.751638, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 15:26:10,686 - services.external_task_worker - INFO - Successfully completed task 2bbb841d-8f45-11f0-b401-0242ac190005
2025-09-11 15:26:10,692 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:26:10,692 - services.external_task_worker - INFO - Executing task 2c468628-8f45-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 15:26:10,692 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618769.751638, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618769.751638, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618770.6780424}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:26:10,696 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 15:26:10,741 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 15:26:10,747 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 15:26:10,747 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 15:26:10,766 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 15:26:10,766 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 15:26:10,767 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 15:26:10,767 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 15:26:11,450 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 15:26:11,459 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 15:26:11,467 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 15:26:11,467 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.5
2025-09-11 15:26:11,467 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'what is the required coverage area?...'
2025-09-11 15:26:11,489 - services.external_task_worker - INFO - Successfully completed task 2c468628-8f45-11f0-b401-0242ac190005
2025-09-11 15:26:11,495 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:26:11,495 - services.external_task_worker - INFO - Executing task 2cc1347c-8f45-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 15:26:11,495 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618769.751638, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618769.751638, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618770.6780424}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:26:11,502 - services.external_task_worker - INFO - Successfully completed task 2cc1347c-8f45-11f0-b401-0242ac190005
2025-09-11 15:26:11,510 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:26:11,510 - services.external_task_worker - INFO - Executing task 2cc33063-8f45-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 15:26:11,510 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618769.751638, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618769.751638, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618770.6780424}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:26:11,516 - services.external_task_worker - INFO - Successfully completed task 2cc33063-8f45-11f0-b401-0242ac190005
2025-09-11 15:26:11,522 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:26:11,523 - services.external_task_worker - INFO - Executing task 2cc57a68-8f45-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 15:26:11,523 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618769.751638, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618769.751638, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618770.6780424}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:26:11,530 - services.external_task_worker - INFO - Successfully completed task 2cc57a68-8f45-11f0-b401-0242ac190005
2025-09-11 15:26:11,536 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:26:11,536 - services.external_task_worker - INFO - Executing task 2cc7764b-8f45-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 15:26:11,536 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a knowledgeable assistant helping users understand information from their knowledge base. \n\nBased on the following information:\n\n### Coverage Area\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes\n\nPlease answer this question: what is the required coverage area?\n\nProvide a clear, well-structured response using the information above. If the provided information doesn't fully answer the question, acknowledge what you can determine and what might be missing.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618769.751638, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618769.751638, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618770.6780424}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:26:11,542 - services.external_task_worker - INFO - Successfully completed task 2cc7764b-8f45-11f0-b401-0242ac190005
2025-09-11 15:26:11,547 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:26:11,547 - services.external_task_worker - INFO - Executing task 2cc94b1c-8f45-11f0-b401-0242ac190005 for topic process-response
2025-09-11 15:26:11,547 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a knowledgeable assistant helping users understand information from their knowledge base. \n\nBased on the following information:\n\n### Coverage Area\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes\n\nPlease answer this question: what is the required coverage area?\n\nProvide a clear, well-structured response using the information above. If the provided information doesn't fully answer the question, acknowledge what you can determine and what might be missing.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618769.751638, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618769.751638, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618770.6780424}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:26:11,553 - services.external_task_worker - INFO - Successfully completed task 2cc94b1c-8f45-11f0-b401-0242ac190005
2025-09-11 15:26:11,558 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:26:11,558 - services.external_task_worker - INFO - Executing task 2ccaf8e7-8f45-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 15:26:11,558 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a knowledgeable assistant helping users understand information from their knowledge base. \n\nBased on the following information:\n\n### Coverage Area\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes\n\nPlease answer this question: what is the required coverage area?\n\nProvide a clear, well-structured response using the information above. If the provided information doesn't fully answer the question, acknowledge what you can determine and what might be missing.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618769.751638, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618769.751638, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618770.6780424}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:26:11,570 - services.external_task_worker - INFO - Successfully completed task 2ccaf8e7-8f45-11f0-b401-0242ac190005
2025-09-11 15:26:43,778 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:26:43,779 - services.external_task_worker - INFO - Executing task 3fe7da21-8f45-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 15:26:43,779 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618803.5949473, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 15:26:43,785 - services.external_task_worker - INFO - Successfully completed task 3fe7da21-8f45-11f0-b401-0242ac190005
2025-09-11 15:26:43,790 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:26:43,790 - services.external_task_worker - INFO - Executing task 40012e9c-8f45-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 15:26:43,790 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618803.5949473, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618803.5949473, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618803.7792602}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:26:43,794 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 15:26:43,834 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 15:26:43,839 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 15:26:43,839 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 15:26:43,854 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 15:26:43,854 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 15:26:43,854 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 15:26:43,855 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 15:26:44,634 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 15:26:44,640 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 15:26:44,649 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 15:26:44,649 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.5
2025-09-11 15:26:44,649 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'what is the required coverage area?...'
2025-09-11 15:26:44,672 - services.external_task_worker - INFO - Successfully completed task 40012e9c-8f45-11f0-b401-0242ac190005
2025-09-11 15:26:44,679 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:26:44,679 - services.external_task_worker - INFO - Executing task 40888720-8f45-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 15:26:44,679 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618803.5949473, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618803.5949473, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618803.7792602}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:26:44,685 - services.external_task_worker - INFO - Successfully completed task 40888720-8f45-11f0-b401-0242ac190005
2025-09-11 15:26:44,690 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:26:44,690 - services.external_task_worker - INFO - Executing task 408a8307-8f45-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 15:26:44,690 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618803.5949473, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618803.5949473, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618803.7792602}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:26:44,696 - services.external_task_worker - INFO - Successfully completed task 408a8307-8f45-11f0-b401-0242ac190005
2025-09-11 15:26:44,701 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:26:44,701 - services.external_task_worker - INFO - Executing task 408c30cc-8f45-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 15:26:44,701 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618803.5949473, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618803.5949473, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618803.7792602}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:26:44,707 - services.external_task_worker - INFO - Successfully completed task 408c30cc-8f45-11f0-b401-0242ac190005
2025-09-11 15:26:44,713 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:26:44,713 - services.external_task_worker - INFO - Executing task 408dde8f-8f45-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 15:26:44,713 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a knowledgeable assistant helping users understand information from their knowledge base. \n\nBased on the following information:\n\n### Coverage Area\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes\n\nPlease answer this question: what is the required coverage area?\n\nProvide a clear, well-structured response using the information above. If the provided information doesn't fully answer the question, acknowledge what you can determine and what might be missing.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618803.5949473, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618803.5949473, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618803.7792602}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:26:44,727 - services.external_task_worker - INFO - Successfully completed task 408dde8f-8f45-11f0-b401-0242ac190005
2025-09-11 15:26:44,732 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:26:44,732 - services.external_task_worker - INFO - Executing task 40900180-8f45-11f0-b401-0242ac190005 for topic process-response
2025-09-11 15:26:44,732 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a knowledgeable assistant helping users understand information from their knowledge base. \n\nBased on the following information:\n\n### Coverage Area\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes\n\nPlease answer this question: what is the required coverage area?\n\nProvide a clear, well-structured response using the information above. If the provided information doesn't fully answer the question, acknowledge what you can determine and what might be missing.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618803.5949473, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618803.5949473, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618803.7792602}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:26:44,740 - services.external_task_worker - INFO - Successfully completed task 40900180-8f45-11f0-b401-0242ac190005
2025-09-11 15:26:44,746 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:26:44,746 - services.external_task_worker - INFO - Executing task 4092c0bb-8f45-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 15:26:44,746 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a knowledgeable assistant helping users understand information from their knowledge base. \n\nBased on the following information:\n\n### Coverage Area\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes\n\nPlease answer this question: what is the required coverage area?\n\nProvide a clear, well-structured response using the information above. If the provided information doesn't fully answer the question, acknowledge what you can determine and what might be missing.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618803.5949473, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618803.5949473, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618803.7792602}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:26:44,758 - services.external_task_worker - INFO - Successfully completed task 4092c0bb-8f45-11f0-b401-0242ac190005
2025-09-11 15:26:47,785 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:26:47,786 - services.external_task_worker - INFO - Executing task 41fcd825-8f45-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 15:26:47,786 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618807.0897331, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 15:26:47,793 - services.external_task_worker - INFO - Successfully completed task 41fcd825-8f45-11f0-b401-0242ac190005
2025-09-11 15:26:47,798 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:26:47,798 - services.external_task_worker - INFO - Executing task 42649ac0-8f45-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 15:26:47,798 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618807.0897331, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618807.0897331, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618807.7862518}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:26:47,802 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 15:26:47,848 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 15:26:47,853 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 15:26:47,853 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 15:26:47,870 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 15:26:47,871 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 15:26:47,871 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 15:26:47,871 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 15:26:48,639 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 15:26:48,653 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 15:26:48,662 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 15:26:48,663 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.5
2025-09-11 15:26:48,663 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'what is the required coverage area?...'
2025-09-11 15:26:48,691 - services.external_task_worker - INFO - Successfully completed task 42649ac0-8f45-11f0-b401-0242ac190005
2025-09-11 15:26:48,699 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:26:48,700 - services.external_task_worker - INFO - Executing task 42ed9ff4-8f45-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 15:26:48,700 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618807.0897331, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618807.0897331, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618807.7862518}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:26:48,708 - services.external_task_worker - INFO - Successfully completed task 42ed9ff4-8f45-11f0-b401-0242ac190005
2025-09-11 15:26:48,717 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:26:48,718 - services.external_task_worker - INFO - Executing task 42f0381b-8f45-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 15:26:48,718 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618807.0897331, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618807.0897331, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618807.7862518}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:26:48,727 - services.external_task_worker - INFO - Successfully completed task 42f0381b-8f45-11f0-b401-0242ac190005
2025-09-11 15:26:48,736 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:26:48,736 - services.external_task_worker - INFO - Executing task 42f31e60-8f45-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 15:26:48,736 - services.external_task_worker - INFO - Task variables: {'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618807.0897331, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618807.0897331, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618807.7862518}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:26:48,746 - services.external_task_worker - INFO - Successfully completed task 42f31e60-8f45-11f0-b401-0242ac190005
2025-09-11 15:26:48,755 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:26:48,756 - services.external_task_worker - INFO - Executing task 42f5dd93-8f45-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 15:26:48,756 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a knowledgeable assistant helping users understand information from their knowledge base. \n\nBased on the following information:\n\n### Coverage Area\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes\n\nPlease answer this question: what is the required coverage area?\n\nProvide a clear, well-structured response using the information above. If the provided information doesn't fully answer the question, acknowledge what you can determine and what might be missing.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618807.0897331, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618807.0897331, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618807.7862518}', 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:26:48,768 - services.external_task_worker - INFO - Successfully completed task 42f5dd93-8f45-11f0-b401-0242ac190005
2025-09-11 15:26:48,776 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:26:48,776 - services.external_task_worker - INFO - Executing task 42f93904-8f45-11f0-b401-0242ac190005 for topic process-response
2025-09-11 15:26:48,776 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a knowledgeable assistant helping users understand information from their knowledge base. \n\nBased on the following information:\n\n### Coverage Area\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes\n\nPlease answer this question: what is the required coverage area?\n\nProvide a clear, well-structured response using the information above. If the provided information doesn't fully answer the question, acknowledge what you can determine and what might be missing.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618807.0897331, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618807.0897331, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618807.7862518}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:26:48,787 - services.external_task_worker - INFO - Successfully completed task 42f93904-8f45-11f0-b401-0242ac190005
2025-09-11 15:26:48,796 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:26:48,796 - services.external_task_worker - INFO - Executing task 42fc465f-8f45-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 15:26:48,796 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a knowledgeable assistant helping users understand information from their knowledge base. \n\nBased on the following information:\n\n### Coverage Area\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes\n\nPlease answer this question: what is the required coverage area?\n\nProvide a clear, well-structured response using the information above. If the provided information doesn't fully answer the question, acknowledge what you can determine and what might be missing.", 'user_query': 'what is the required coverage area?', 'context_quality_score': 0.5798365, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618807.0897331, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5798365, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "what is the required coverage area?", "cleaned_query": "what is the required coverage area?", "key_terms": ["what", "required", "coverage", "area"], "question_intent": ["what"], "query_type": "definition", "domain_terms": [], "word_count": 6, "char_count": 35, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618807.0897331, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618807.7862518}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["what", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:26:48,811 - services.external_task_worker - INFO - Successfully completed task 42fc465f-8f45-11f0-b401-0242ac190005
2025-09-11 15:27:20,012 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:27:20,012 - services.external_task_worker - INFO - Executing task 55143bb9-8f45-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 15:27:20,012 - services.external_task_worker - INFO - Task variables: {'user_query': 'can you  tell me the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618839.1168396, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 15:27:20,018 - services.external_task_worker - INFO - Successfully completed task 55143bb9-8f45-11f0-b401-0242ac190005
2025-09-11 15:27:20,023 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:27:20,023 - services.external_task_worker - INFO - Executing task 5599e694-8f45-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 15:27:20,023 - services.external_task_worker - INFO - Task variables: {'user_query': 'can you  tell me the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618839.1168396, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "can you  tell me the required coverage area?", "cleaned_query": "can you  tell me the required coverage area?", "key_terms": ["you", "tell", "required", "coverage", "area"], "question_intent": [], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 44, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618839.1168396, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618840.012551}', 'search_parameters': '{"primary_terms": ["you", "tell", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:27:20,026 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 15:27:20,070 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 15:27:20,075 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 15:27:20,075 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 15:27:20,089 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 15:27:20,089 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 15:27:20,090 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 15:27:20,090 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 15:27:20,874 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 15:27:20,886 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 15:27:20,896 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 15:27:20,897 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.5
2025-09-11 15:27:20,897 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'can you  tell me the required coverage area?...'
2025-09-11 15:27:20,924 - services.external_task_worker - INFO - Successfully completed task 5599e694-8f45-11f0-b401-0242ac190005
2025-09-11 15:27:20,930 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:27:20,930 - services.external_task_worker - INFO - Executing task 5623fe38-8f45-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 15:27:20,930 - services.external_task_worker - INFO - Task variables: {'user_query': 'can you  tell me the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618839.1168396, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5904514, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'processed_query': '{"original_query": "can you  tell me the required coverage area?", "cleaned_query": "can you  tell me the required coverage area?", "key_terms": ["you", "tell", "required", "coverage", "area"], "question_intent": [], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 44, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618839.1168396, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618840.012551}', 'search_parameters': '{"primary_terms": ["you", "tell", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:27:20,937 - services.external_task_worker - INFO - Successfully completed task 5623fe38-8f45-11f0-b401-0242ac190005
2025-09-11 15:27:20,943 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:27:20,943 - services.external_task_worker - INFO - Executing task 5626212f-8f45-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 15:27:20,943 - services.external_task_worker - INFO - Task variables: {'user_query': 'can you  tell me the required coverage area?', 'context_quality_score': 0.5904514, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618839.1168396, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5904514, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5904514, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'processed_query': '{"original_query": "can you  tell me the required coverage area?", "cleaned_query": "can you  tell me the required coverage area?", "key_terms": ["you", "tell", "required", "coverage", "area"], "question_intent": [], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 44, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618839.1168396, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618840.012551}', 'search_parameters': '{"primary_terms": ["you", "tell", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:27:20,949 - services.external_task_worker - INFO - Successfully completed task 5626212f-8f45-11f0-b401-0242ac190005
2025-09-11 15:27:20,953 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:27:20,953 - services.external_task_worker - INFO - Executing task 5627f604-8f45-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 15:27:20,953 - services.external_task_worker - INFO - Task variables: {'user_query': 'can you  tell me the required coverage area?', 'context_quality_score': 0.5904514, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618839.1168396, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5904514, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "can you  tell me the required coverage area?", "cleaned_query": "can you  tell me the required coverage area?", "key_terms": ["you", "tell", "required", "coverage", "area"], "question_intent": [], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 44, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618839.1168396, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618840.012551}', 'search_parameters': '{"primary_terms": ["you", "tell", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:27:20,959 - services.external_task_worker - INFO - Successfully completed task 5627f604-8f45-11f0-b401-0242ac190005
2025-09-11 15:27:20,964 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:27:20,964 - services.external_task_worker - INFO - Executing task 56297cb7-8f45-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 15:27:20,964 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a knowledgeable assistant helping users understand information from their knowledge base. \n\nBased on the following information:\n\n### Coverage Area\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes\n\nPlease answer this question: can you  tell me the required coverage area?\n\nProvide a clear, well-structured response using the information above. If the provided information doesn't fully answer the question, acknowledge what you can determine and what might be missing.", 'user_query': 'can you  tell me the required coverage area?', 'context_quality_score': 0.5904514, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618839.1168396, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5904514, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "can you  tell me the required coverage area?", "cleaned_query": "can you  tell me the required coverage area?", "key_terms": ["you", "tell", "required", "coverage", "area"], "question_intent": [], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 44, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618839.1168396, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618840.012551}', 'search_parameters': '{"primary_terms": ["you", "tell", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:27:20,970 - services.external_task_worker - INFO - Successfully completed task 56297cb7-8f45-11f0-b401-0242ac190005
2025-09-11 15:27:20,975 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:27:20,975 - services.external_task_worker - INFO - Executing task 562b2a78-8f45-11f0-b401-0242ac190005 for topic process-response
2025-09-11 15:27:20,975 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a knowledgeable assistant helping users understand information from their knowledge base. \n\nBased on the following information:\n\n### Coverage Area\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes\n\nPlease answer this question: can you  tell me the required coverage area?\n\nProvide a clear, well-structured response using the information above. If the provided information doesn't fully answer the question, acknowledge what you can determine and what might be missing.", 'user_query': 'can you  tell me the required coverage area?', 'context_quality_score': 0.5904514, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618839.1168396, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5904514, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "can you  tell me the required coverage area?", "cleaned_query": "can you  tell me the required coverage area?", "key_terms": ["you", "tell", "required", "coverage", "area"], "question_intent": [], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 44, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618839.1168396, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618840.012551}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["you", "tell", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:27:20,982 - services.external_task_worker - INFO - Successfully completed task 562b2a78-8f45-11f0-b401-0242ac190005
2025-09-11 15:27:20,988 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:27:20,988 - services.external_task_worker - INFO - Executing task 562cfe53-8f45-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 15:27:20,988 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a knowledgeable assistant helping users understand information from their knowledge base. \n\nBased on the following information:\n\n### Coverage Area\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes\n\nPlease answer this question: can you  tell me the required coverage area?\n\nProvide a clear, well-structured response using the information above. If the provided information doesn't fully answer the question, acknowledge what you can determine and what might be missing.", 'user_query': 'can you  tell me the required coverage area?', 'context_quality_score': 0.5904514, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618839.1168396, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5904514, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "can you  tell me the required coverage area?", "cleaned_query": "can you  tell me the required coverage area?", "key_terms": ["you", "tell", "required", "coverage", "area"], "question_intent": [], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 44, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618839.1168396, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618840.012551}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["you", "tell", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:27:20,999 - services.external_task_worker - INFO - Successfully completed task 562cfe53-8f45-11f0-b401-0242ac190005
2025-09-11 15:27:54,238 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:27:54,238 - services.external_task_worker - INFO - Executing task 69875ebd-8f45-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 15:27:54,238 - services.external_task_worker - INFO - Task variables: {'user_query': 'can you  tell me the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618873.423055, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 15:27:54,247 - services.external_task_worker - INFO - Successfully completed task 69875ebd-8f45-11f0-b401-0242ac190005
2025-09-11 15:27:54,252 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:27:54,253 - services.external_task_worker - INFO - Executing task 6a00ad88-8f45-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 15:27:54,253 - services.external_task_worker - INFO - Task variables: {'user_query': 'can you  tell me the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618873.423055, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "can you  tell me the required coverage area?", "cleaned_query": "can you  tell me the required coverage area?", "key_terms": ["you", "tell", "required", "coverage", "area"], "question_intent": [], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 44, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618873.423055, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618874.2388928}', 'search_parameters': '{"primary_terms": ["you", "tell", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:27:54,258 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 15:27:54,301 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 15:27:54,305 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 15:27:54,306 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 15:27:54,318 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 15:27:54,318 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 15:27:54,318 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 15:27:54,318 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 15:27:55,059 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 15:27:55,072 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 15:27:55,081 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 15:27:55,082 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.5
2025-09-11 15:27:55,082 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'can you  tell me the required coverage area?...'
2025-09-11 15:27:55,108 - services.external_task_worker - INFO - Successfully completed task 6a00ad88-8f45-11f0-b401-0242ac190005
2025-09-11 15:27:55,114 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:27:55,115 - services.external_task_worker - INFO - Executing task 6a84357c-8f45-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 15:27:55,115 - services.external_task_worker - INFO - Task variables: {'user_query': 'can you  tell me the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618873.423055, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5904514, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'processed_query': '{"original_query": "can you  tell me the required coverage area?", "cleaned_query": "can you  tell me the required coverage area?", "key_terms": ["you", "tell", "required", "coverage", "area"], "question_intent": [], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 44, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618873.423055, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618874.2388928}', 'search_parameters': '{"primary_terms": ["you", "tell", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:27:55,121 - services.external_task_worker - INFO - Successfully completed task 6a84357c-8f45-11f0-b401-0242ac190005
2025-09-11 15:27:55,127 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:27:55,127 - services.external_task_worker - INFO - Executing task 6a863163-8f45-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 15:27:55,127 - services.external_task_worker - INFO - Task variables: {'user_query': 'can you  tell me the required coverage area?', 'context_quality_score': 0.5904514, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618873.423055, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5904514, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5904514, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'processed_query': '{"original_query": "can you  tell me the required coverage area?", "cleaned_query": "can you  tell me the required coverage area?", "key_terms": ["you", "tell", "required", "coverage", "area"], "question_intent": [], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 44, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618873.423055, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618874.2388928}', 'search_parameters': '{"primary_terms": ["you", "tell", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:27:55,134 - services.external_task_worker - INFO - Successfully completed task 6a863163-8f45-11f0-b401-0242ac190005
2025-09-11 15:27:55,140 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:27:55,141 - services.external_task_worker - INFO - Executing task 6a882d48-8f45-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 15:27:55,141 - services.external_task_worker - INFO - Task variables: {'user_query': 'can you  tell me the required coverage area?', 'context_quality_score': 0.5904514, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618873.423055, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5904514, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "can you  tell me the required coverage area?", "cleaned_query": "can you  tell me the required coverage area?", "key_terms": ["you", "tell", "required", "coverage", "area"], "question_intent": [], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 44, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618873.423055, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618874.2388928}', 'search_parameters': '{"primary_terms": ["you", "tell", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:27:55,149 - services.external_task_worker - INFO - Successfully completed task 6a882d48-8f45-11f0-b401-0242ac190005
2025-09-11 15:27:55,155 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:27:55,155 - services.external_task_worker - INFO - Executing task 6a8a292b-8f45-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 15:27:55,155 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a knowledgeable assistant helping users understand information from their knowledge base. \n\nBased on the following information:\n\n### Coverage Area\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes\n\nPlease answer this question: can you  tell me the required coverage area?\n\nProvide a clear, well-structured response using the information above. If the provided information doesn't fully answer the question, acknowledge what you can determine and what might be missing.", 'user_query': 'can you  tell me the required coverage area?', 'context_quality_score': 0.5904514, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618873.423055, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5904514, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "can you  tell me the required coverage area?", "cleaned_query": "can you  tell me the required coverage area?", "key_terms": ["you", "tell", "required", "coverage", "area"], "question_intent": [], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 44, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618873.423055, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618874.2388928}', 'search_parameters': '{"primary_terms": ["you", "tell", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:27:55,164 - services.external_task_worker - INFO - Successfully completed task 6a8a292b-8f45-11f0-b401-0242ac190005
2025-09-11 15:27:55,170 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:27:55,171 - services.external_task_worker - INFO - Executing task 6a8c732c-8f45-11f0-b401-0242ac190005 for topic process-response
2025-09-11 15:27:55,171 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a knowledgeable assistant helping users understand information from their knowledge base. \n\nBased on the following information:\n\n### Coverage Area\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes\n\nPlease answer this question: can you  tell me the required coverage area?\n\nProvide a clear, well-structured response using the information above. If the provided information doesn't fully answer the question, acknowledge what you can determine and what might be missing.", 'user_query': 'can you  tell me the required coverage area?', 'context_quality_score': 0.5904514, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618873.423055, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5904514, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "can you  tell me the required coverage area?", "cleaned_query": "can you  tell me the required coverage area?", "key_terms": ["you", "tell", "required", "coverage", "area"], "question_intent": [], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 44, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618873.423055, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618874.2388928}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["you", "tell", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:27:55,178 - services.external_task_worker - INFO - Successfully completed task 6a8c732c-8f45-11f0-b401-0242ac190005
2025-09-11 15:27:55,184 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:27:55,184 - services.external_task_worker - INFO - Executing task 6a8ebd37-8f45-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 15:27:55,184 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a knowledgeable assistant helping users understand information from their knowledge base. \n\nBased on the following information:\n\n### Coverage Area\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes\n\nPlease answer this question: can you  tell me the required coverage area?\n\nProvide a clear, well-structured response using the information above. If the provided information doesn't fully answer the question, acknowledge what you can determine and what might be missing.", 'user_query': 'can you  tell me the required coverage area?', 'context_quality_score': 0.5904514, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618873.423055, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5904514, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "can you  tell me the required coverage area?", "cleaned_query": "can you  tell me the required coverage area?", "key_terms": ["you", "tell", "required", "coverage", "area"], "question_intent": [], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 44, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618873.423055, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618874.2388928}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["you", "tell", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:27:55,198 - services.external_task_worker - INFO - Successfully completed task 6a8ebd37-8f45-11f0-b401-0242ac190005
2025-09-11 15:28:08,326 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:28:08,326 - services.external_task_worker - INFO - Executing task 71dadf81-8f45-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 15:28:08,327 - services.external_task_worker - INFO - Task variables: {'user_query': 'can you  tell me the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618887.393425, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 15:28:08,345 - services.external_task_worker - INFO - Successfully completed task 71dadf81-8f45-11f0-b401-0242ac190005
2025-09-11 15:28:08,376 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:28:08,376 - services.external_task_worker - INFO - Executing task 72667ccc-8f45-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 15:28:08,376 - services.external_task_worker - INFO - Task variables: {'user_query': 'can you  tell me the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618887.393425, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "can you  tell me the required coverage area?", "cleaned_query": "can you  tell me the required coverage area?", "key_terms": ["you", "tell", "required", "coverage", "area"], "question_intent": [], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 44, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618887.393425, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618888.3272085}', 'search_parameters': '{"primary_terms": ["you", "tell", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:28:08,383 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 15:28:08,439 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 15:28:08,451 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 15:28:08,452 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 15:28:08,476 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 15:28:08,477 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 15:28:08,477 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 15:28:08,477 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 15:28:09,225 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 15:28:09,235 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 15:28:09,244 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 15:28:09,245 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.5
2025-09-11 15:28:09,245 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'can you  tell me the required coverage area?...'
2025-09-11 15:28:09,265 - services.external_task_worker - INFO - Successfully completed task 72667ccc-8f45-11f0-b401-0242ac190005
2025-09-11 15:28:09,270 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:28:09,270 - services.external_task_worker - INFO - Executing task 72f46500-8f45-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 15:28:09,270 - services.external_task_worker - INFO - Task variables: {'user_query': 'can you  tell me the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618887.393425, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5904514, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'processed_query': '{"original_query": "can you  tell me the required coverage area?", "cleaned_query": "can you  tell me the required coverage area?", "key_terms": ["you", "tell", "required", "coverage", "area"], "question_intent": [], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 44, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618887.393425, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618888.3272085}', 'search_parameters': '{"primary_terms": ["you", "tell", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:28:09,276 - services.external_task_worker - INFO - Successfully completed task 72f46500-8f45-11f0-b401-0242ac190005
2025-09-11 15:28:09,281 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:28:09,281 - services.external_task_worker - INFO - Executing task 72f612c7-8f45-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 15:28:09,281 - services.external_task_worker - INFO - Task variables: {'user_query': 'can you  tell me the required coverage area?', 'context_quality_score': 0.5904514, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618887.393425, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5904514, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5904514, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'processed_query': '{"original_query": "can you  tell me the required coverage area?", "cleaned_query": "can you  tell me the required coverage area?", "key_terms": ["you", "tell", "required", "coverage", "area"], "question_intent": [], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 44, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618887.393425, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618888.3272085}', 'search_parameters': '{"primary_terms": ["you", "tell", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:28:09,287 - services.external_task_worker - INFO - Successfully completed task 72f612c7-8f45-11f0-b401-0242ac190005
2025-09-11 15:28:09,292 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:28:09,292 - services.external_task_worker - INFO - Executing task 72f7c08c-8f45-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 15:28:09,292 - services.external_task_worker - INFO - Task variables: {'user_query': 'can you  tell me the required coverage area?', 'context_quality_score': 0.5904514, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618887.393425, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5904514, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "can you  tell me the required coverage area?", "cleaned_query": "can you  tell me the required coverage area?", "key_terms": ["you", "tell", "required", "coverage", "area"], "question_intent": [], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 44, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618887.393425, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618888.3272085}', 'search_parameters': '{"primary_terms": ["you", "tell", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:28:09,299 - services.external_task_worker - INFO - Successfully completed task 72f7c08c-8f45-11f0-b401-0242ac190005
2025-09-11 15:28:09,304 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:28:09,304 - services.external_task_worker - INFO - Executing task 72f9955f-8f45-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 15:28:09,304 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a knowledgeable assistant helping users understand information from their knowledge base. \n\nBased on the following information:\n\n### Coverage Area\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes\n\nPlease answer this question: can you  tell me the required coverage area?\n\nProvide a clear, well-structured response using the information above. If the provided information doesn't fully answer the question, acknowledge what you can determine and what might be missing.", 'user_query': 'can you  tell me the required coverage area?', 'context_quality_score': 0.5904514, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618887.393425, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5904514, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "can you  tell me the required coverage area?", "cleaned_query": "can you  tell me the required coverage area?", "key_terms": ["you", "tell", "required", "coverage", "area"], "question_intent": [], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 44, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618887.393425, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618888.3272085}', 'search_parameters': '{"primary_terms": ["you", "tell", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:28:09,310 - services.external_task_worker - INFO - Successfully completed task 72f9955f-8f45-11f0-b401-0242ac190005
2025-09-11 15:28:09,316 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:28:09,316 - services.external_task_worker - INFO - Executing task 72fb4320-8f45-11f0-b401-0242ac190005 for topic process-response
2025-09-11 15:28:09,316 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a knowledgeable assistant helping users understand information from their knowledge base. \n\nBased on the following information:\n\n### Coverage Area\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes\n\nPlease answer this question: can you  tell me the required coverage area?\n\nProvide a clear, well-structured response using the information above. If the provided information doesn't fully answer the question, acknowledge what you can determine and what might be missing.", 'user_query': 'can you  tell me the required coverage area?', 'context_quality_score': 0.5904514, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618887.393425, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5904514, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "can you  tell me the required coverage area?", "cleaned_query": "can you  tell me the required coverage area?", "key_terms": ["you", "tell", "required", "coverage", "area"], "question_intent": [], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 44, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618887.393425, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618888.3272085}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["you", "tell", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:28:09,322 - services.external_task_worker - INFO - Successfully completed task 72fb4320-8f45-11f0-b401-0242ac190005
2025-09-11 15:28:09,326 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:28:09,326 - services.external_task_worker - INFO - Executing task 72fd17fb-8f45-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 15:28:09,326 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a knowledgeable assistant helping users understand information from their knowledge base. \n\nBased on the following information:\n\n### Coverage Area\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes\n\nPlease answer this question: can you  tell me the required coverage area?\n\nProvide a clear, well-structured response using the information above. If the provided information doesn't fully answer the question, acknowledge what you can determine and what might be missing.", 'user_query': 'can you  tell me the required coverage area?', 'context_quality_score': 0.5904514, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618887.393425, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5904514, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'processed_query': '{"original_query": "can you  tell me the required coverage area?", "cleaned_query": "can you  tell me the required coverage area?", "key_terms": ["you", "tell", "required", "coverage", "area"], "question_intent": [], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 44, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618887.393425, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618888.3272085}', 'llm_response': "I couldn't find relevant information in the knowledge base to answer your question. You may want to try rephrasing your question or adding more relevant documentation to your knowledge assets.", 'search_parameters': '{"primary_terms": ["you", "tell", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:28:09,336 - services.external_task_worker - INFO - Successfully completed task 72fd17fb-8f45-11f0-b401-0242ac190005
2025-09-11 15:28:23,756 - __main__ - INFO - Received signal 15, shutting down worker...
2025-09-11 15:28:40,534 - services.external_task_worker - INFO - Starting external task worker: odras-worker-1757618920
2025-09-11 15:28:49,609 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:28:49,609 - services.external_task_worker - INFO - Executing task 8aa26885-8f45-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 15:28:49,609 - services.external_task_worker - INFO - Task variables: {'user_query': 'can you  tell me the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618928.970066, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 15:28:49,619 - services.external_task_worker - INFO - Successfully completed task 8aa26885-8f45-11f0-b401-0242ac190005
2025-09-11 15:28:49,626 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:28:49,626 - services.external_task_worker - INFO - Executing task 8b019fa0-8f45-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 15:28:49,626 - services.external_task_worker - INFO - Task variables: {'user_query': 'can you  tell me the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618928.970066, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "can you  tell me the required coverage area?", "cleaned_query": "can you  tell me the required coverage area?", "key_terms": ["you", "tell", "required", "coverage", "area"], "question_intent": [], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 44, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618928.970066, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618929.610246}', 'search_parameters': '{"primary_terms": ["you", "tell", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:28:49,638 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 15:28:49,702 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 15:28:49,717 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 15:28:49,719 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 15:28:49,763 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 15:28:49,763 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 15:28:49,765 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 15:28:49,765 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 15:28:50,863 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 15:28:50,889 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 15:28:50,896 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 15:28:50,898 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.5
2025-09-11 15:28:50,898 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'can you  tell me the required coverage area?...'
2025-09-11 15:28:50,920 - services.external_task_worker - INFO - Successfully completed task 8b019fa0-8f45-11f0-b401-0242ac190005
2025-09-11 15:28:50,926 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:28:50,926 - services.external_task_worker - INFO - Executing task 8bc87224-8f45-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 15:28:50,926 - services.external_task_worker - INFO - Task variables: {'user_query': 'can you  tell me the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618928.970066, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5904514, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'processed_query': '{"original_query": "can you  tell me the required coverage area?", "cleaned_query": "can you  tell me the required coverage area?", "key_terms": ["you", "tell", "required", "coverage", "area"], "question_intent": [], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 44, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618928.970066, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618929.610246}', 'search_parameters': '{"primary_terms": ["you", "tell", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:28:50,932 - services.external_task_worker - INFO - Successfully completed task 8bc87224-8f45-11f0-b401-0242ac190005
2025-09-11 15:28:50,940 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:28:50,940 - services.external_task_worker - INFO - Executing task 8bca46fb-8f45-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 15:28:50,940 - services.external_task_worker - INFO - Task variables: {'user_query': 'can you  tell me the required coverage area?', 'context_quality_score': 0.5904514, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618928.970066, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5904514, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5904514, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'processed_query': '{"original_query": "can you  tell me the required coverage area?", "cleaned_query": "can you  tell me the required coverage area?", "key_terms": ["you", "tell", "required", "coverage", "area"], "question_intent": [], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 44, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618928.970066, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618929.610246}', 'search_parameters': '{"primary_terms": ["you", "tell", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:28:50,946 - services.external_task_worker - INFO - Successfully completed task 8bca46fb-8f45-11f0-b401-0242ac190005
2025-09-11 15:28:50,952 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:28:50,952 - services.external_task_worker - INFO - Executing task 8bcc69f0-8f45-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 15:28:50,952 - services.external_task_worker - INFO - Task variables: {'user_query': 'can you  tell me the required coverage area?', 'context_quality_score': 0.5904514, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618928.970066, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5904514, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "can you  tell me the required coverage area?", "cleaned_query": "can you  tell me the required coverage area?", "key_terms": ["you", "tell", "required", "coverage", "area"], "question_intent": [], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 44, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618928.970066, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618929.610246}', 'search_parameters': '{"primary_terms": ["you", "tell", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:28:50,959 - services.external_task_worker - INFO - Successfully completed task 8bcc69f0-8f45-11f0-b401-0242ac190005
2025-09-11 15:28:50,965 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:28:50,965 - services.external_task_worker - INFO - Executing task 8bce64d3-8f45-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 15:28:50,965 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### Coverage Area\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes\n\nUser Question: can you  tell me the required coverage area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'can you  tell me the required coverage area?', 'context_quality_score': 0.5904514, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618928.970066, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5904514, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "can you  tell me the required coverage area?", "cleaned_query": "can you  tell me the required coverage area?", "key_terms": ["you", "tell", "required", "coverage", "area"], "question_intent": [], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 44, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618928.970066, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618929.610246}', 'search_parameters': '{"primary_terms": ["you", "tell", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:28:50,972 - services.external_task_worker - INFO - Successfully completed task 8bce64d3-8f45-11f0-b401-0242ac190005
2025-09-11 15:28:50,979 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:28:50,979 - services.external_task_worker - INFO - Executing task 8bd060b4-8f45-11f0-b401-0242ac190005 for topic process-response
2025-09-11 15:28:50,979 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### Coverage Area\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes\n\nUser Question: can you  tell me the required coverage area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'can you  tell me the required coverage area?', 'context_quality_score': 0.5904514, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618928.970066, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5904514, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "can you  tell me the required coverage area?", "cleaned_query": "can you  tell me the required coverage area?", "key_terms": ["you", "tell", "required", "coverage", "area"], "question_intent": [], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 44, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618928.970066, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618929.610246}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### Coverage Area\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["you", "tell", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:28:50,992 - services.external_task_worker - INFO - Successfully completed task 8bd060b4-8f45-11f0-b401-0242ac190005
2025-09-11 15:28:50,998 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:28:50,998 - services.external_task_worker - INFO - Executing task 8bd283af-8f45-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 15:28:50,998 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### Coverage Area\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes\n\nUser Question: can you  tell me the required coverage area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'can you  tell me the required coverage area?', 'context_quality_score': 0.5904514, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618928.970066, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5904514, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### Coverage Area\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes\n\nThis response is based on the relevant documentation found in your knowledge assets.\n\nSources:\n[1] 854d299c-f18f-4dc7-a247-57e0f37c677b\n', 'processed_query': '{"original_query": "can you  tell me the required coverage area?", "cleaned_query": "can you  tell me the required coverage area?", "key_terms": ["you", "tell", "required", "coverage", "area"], "question_intent": [], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 44, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618928.970066, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618929.610246}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### Coverage Area\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["you", "tell", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:28:51,012 - services.external_task_worker - INFO - Successfully completed task 8bd283af-8f45-11f0-b401-0242ac190005
2025-09-11 15:29:16,399 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:29:16,399 - services.external_task_worker - INFO - Executing task 9a60b609-8f45-11f0-b401-0242ac190005 for topic process-user-query
2025-09-11 15:29:16,399 - services.external_task_worker - INFO - Task variables: {'user_query': 'can you  tell me the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618955.374959, "project_id": null, "response_style": "comprehensive", "include_metadata": true}'}
2025-09-11 15:29:16,404 - services.external_task_worker - INFO - Successfully completed task 9a60b609-8f45-11f0-b401-0242ac190005
2025-09-11 15:29:16,408 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:29:16,408 - services.external_task_worker - INFO - Executing task 9af92594-8f45-11f0-b401-0242ac190005 for topic retrieve-context
2025-09-11 15:29:16,409 - services.external_task_worker - INFO - Task variables: {'user_query': 'can you  tell me the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618955.374959, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'processed_query': '{"original_query": "can you  tell me the required coverage area?", "cleaned_query": "can you  tell me the required coverage area?", "key_terms": ["you", "tell", "required", "coverage", "area"], "question_intent": [], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 44, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618955.374959, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618956.399358}', 'search_parameters': '{"primary_terms": ["you", "tell", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:29:16,412 - services.qdrant_service - INFO - Connecting to Qdrant at http://localhost:6333
2025-09-11 15:29:16,452 - httpx - INFO - HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
2025-09-11 15:29:16,455 - httpx - INFO - HTTP Request: GET http://localhost:6333/collections "HTTP/1.1 200 OK"
2025-09-11 15:29:16,455 - services.qdrant_service - INFO - Qdrant connection established successfully
2025-09-11 15:29:16,468 - services.embedding_service - INFO - Embedding service initialized
2025-09-11 15:29:16,468 - services.embedding_service - INFO - Loading SentenceTransformer model: all-MiniLM-L6-v2
2025-09-11 15:29:16,469 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-09-11 15:29:16,469 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-09-11 15:29:17,194 - services.embedding_service - INFO - Successfully loaded model: all-MiniLM-L6-v2
2025-09-11 15:29:17,205 - services.embedding_service - INFO - Generated 1 embeddings using model 'all-MiniLM-L6-v2'
2025-09-11 15:29:17,217 - httpx - INFO - HTTP Request: POST http://localhost:6333/collections/knowledge_chunks/points/search "HTTP/1.1 200 OK"
2025-09-11 15:29:17,217 - services.qdrant_service - INFO - Found 1 results in collection 'knowledge_chunks' with threshold 0.5
2025-09-11 15:29:17,217 - services.qdrant_service - INFO - Found 1 similar chunks for query: 'can you  tell me the required coverage area?...'
2025-09-11 15:29:17,238 - services.external_task_worker - INFO - Successfully completed task 9af92594-8f45-11f0-b401-0242ac190005
2025-09-11 15:29:17,243 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:29:17,243 - services.external_task_worker - INFO - Executing task 9b7840b8-8f45-11f0-b401-0242ac190005 for topic rerank-context
2025-09-11 15:29:17,243 - services.external_task_worker - INFO - Task variables: {'user_query': 'can you  tell me the required coverage area?', 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618955.374959, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'retrieved_chunks': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5904514, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'processed_query': '{"original_query": "can you  tell me the required coverage area?", "cleaned_query": "can you  tell me the required coverage area?", "key_terms": ["you", "tell", "required", "coverage", "area"], "question_intent": [], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 44, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618955.374959, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618956.399358}', 'search_parameters': '{"primary_terms": ["you", "tell", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:29:17,249 - services.external_task_worker - INFO - Successfully completed task 9b7840b8-8f45-11f0-b401-0242ac190005
2025-09-11 15:29:17,254 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:29:17,255 - services.external_task_worker - INFO - Executing task 9b79ee7f-8f45-11f0-b401-0242ac190005 for topic fallback-search
2025-09-11 15:29:17,255 - services.external_task_worker - INFO - Task variables: {'user_query': 'can you  tell me the required coverage area?', 'context_quality_score': 0.5904514, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618955.374959, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5904514, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5904514, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'processed_query': '{"original_query": "can you  tell me the required coverage area?", "cleaned_query": "can you  tell me the required coverage area?", "key_terms": ["you", "tell", "required", "coverage", "area"], "question_intent": [], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 44, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618955.374959, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618956.399358}', 'search_parameters': '{"primary_terms": ["you", "tell", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:29:17,260 - services.external_task_worker - INFO - Successfully completed task 9b79ee7f-8f45-11f0-b401-0242ac190005
2025-09-11 15:29:17,267 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:29:17,267 - services.external_task_worker - INFO - Executing task 9b7bc354-8f45-11f0-b401-0242ac190005 for topic construct-prompt
2025-09-11 15:29:17,267 - services.external_task_worker - INFO - Task variables: {'user_query': 'can you  tell me the required coverage area?', 'context_quality_score': 0.5904514, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618955.374959, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5904514, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "can you  tell me the required coverage area?", "cleaned_query": "can you  tell me the required coverage area?", "key_terms": ["you", "tell", "required", "coverage", "area"], "question_intent": [], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 44, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618955.374959, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618956.399358}', 'search_parameters': '{"primary_terms": ["you", "tell", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:29:17,275 - services.external_task_worker - INFO - Successfully completed task 9b7bc354-8f45-11f0-b401-0242ac190005
2025-09-11 15:29:17,281 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:29:17,281 - services.external_task_worker - INFO - Executing task 9b7dbf37-8f45-11f0-b401-0242ac190005 for topic llm-generation
2025-09-11 15:29:17,281 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### Coverage Area\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes\n\nUser Question: can you  tell me the required coverage area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'can you  tell me the required coverage area?', 'context_quality_score': 0.5904514, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618955.374959, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5904514, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "can you  tell me the required coverage area?", "cleaned_query": "can you  tell me the required coverage area?", "key_terms": ["you", "tell", "required", "coverage", "area"], "question_intent": [], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 44, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618955.374959, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618956.399358}', 'search_parameters': '{"primary_terms": ["you", "tell", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:29:17,288 - services.external_task_worker - INFO - Successfully completed task 9b7dbf37-8f45-11f0-b401-0242ac190005
2025-09-11 15:29:17,292 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:29:17,292 - services.external_task_worker - INFO - Executing task 9b7fe228-8f45-11f0-b401-0242ac190005 for topic process-response
2025-09-11 15:29:17,293 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### Coverage Area\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes\n\nUser Question: can you  tell me the required coverage area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'can you  tell me the required coverage area?', 'context_quality_score': 0.5904514, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618955.374959, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5904514, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'processed_query': '{"original_query": "can you  tell me the required coverage area?", "cleaned_query": "can you  tell me the required coverage area?", "key_terms": ["you", "tell", "required", "coverage", "area"], "question_intent": [], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 44, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618955.374959, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618956.399358}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### Coverage Area\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["you", "tell", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:29:17,299 - services.external_task_worker - INFO - Successfully completed task 9b7fe228-8f45-11f0-b401-0242ac190005
2025-09-11 15:29:17,304 - services.external_task_worker - INFO - Received 1 tasks
2025-09-11 15:29:17,304 - services.external_task_worker - INFO - Executing task 9b818ff3-8f45-11f0-b401-0242ac190005 for topic log-interaction
2025-09-11 15:29:17,304 - services.external_task_worker - INFO - Task variables: {'augmented_prompt': "You are a helpful assistant answering questions based on provided context.\n\nContext:\n[Context 1]: ### Coverage Area\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes\n\nUser Question: can you  tell me the required coverage area?\n\nPlease provide a comprehensive answer based on the context provided. If the context doesn't contain enough information to fully answer the question, acknowledge this and provide what information you can.", 'user_query': 'can you  tell me the required coverage area?', 'context_quality_score': 0.5904514, 'query_metadata': '{"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618955.374959, "project_id": null, "response_style": "comprehensive", "include_metadata": true}', 'reranked_context': '[{"chunk_id": "unknown", "content": "### Coverage Area\\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes", "similarity_score": 0.5904514, "source_document": "854d299c-f18f-4dc7-a247-57e0f37c677b", "asset_id": "854d299c-f18f-4dc7-a247-57e0f37c677b", "project_id": "2d2d8374-ac12-4021-94c6-948f122acc65"}]', 'retrieved_chunks': '[{"chunk_id": "fallback_expanded_1", "content": "Expanded search result providing broader context for the user query.", "similarity_score": 0.65, "source_document": "expanded_search.txt"}]', 'final_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### Coverage Area\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes\n\nThis response is based on the relevant documentation found in your knowledge assets.\n\nSources:\n[1] 854d299c-f18f-4dc7-a247-57e0f37c677b\n', 'processed_query': '{"original_query": "can you  tell me the required coverage area?", "cleaned_query": "can you  tell me the required coverage area?", "key_terms": ["you", "tell", "required", "coverage", "area"], "question_intent": [], "query_type": "question", "domain_terms": [], "word_count": 8, "char_count": 44, "query_metadata": {"user_id": "33ea8707-3cdc-4aed-904d-7e8f2ad922cf", "username": "api_user", "max_results": 5, "similarity_threshold": 0.5, "timestamp": 1757618955.374959, "project_id": null, "response_style": "comprehensive", "include_metadata": true}, "processing_timestamp": 1757618956.399358}', 'llm_response': 'Based on the information retrieved from the knowledge base:\n\n[Context 1]: ### Coverage Area\n- **Area Size**: Ability to survey 5-10 square kilometers within 2 hours\n- **Grid Pattern**: Capability to fly in precise grid patterns for systematic coverage\n- **Repeat Coverage**: Ability to revisit the same area multiple times per day to track changes\n\nThis response is based on the relevant documentation found in your knowledge assets.', 'search_parameters': '{"primary_terms": ["you", "tell", "required", "coverage", "area"], "secondary_terms": [], "search_boost_terms": [], "semantic_search_weight": 0.7, "keyword_search_weight": 0.3, "min_similarity_threshold": 0.6, "max_results": 20, "rerank_top_k": 10}'}
2025-09-11 15:29:17,317 - services.external_task_worker - INFO - Successfully completed task 9b818ff3-8f45-11f0-b401-0242ac190005
