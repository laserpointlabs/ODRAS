[16:05:08] INFO: 🚀 Starting complete event capture pipeline test...
[16:05:08] INFO:    Test Session: test_1758225908
[16:05:08] INFO:    Log File: logs/event_capture_test_test_1758225908.log
[16:05:09] INFO: ✅ Authentication successful
[16:05:09] INFO: 🧪 TEST 1: Creating project and verifying project thread...
[16:05:09] INFO: ✅ Project created: c218f09f-7a59-40af-a07f-30b407498d46
[16:05:09] INFO:    Name: Event Pipeline Test test_1758225908
[16:05:11] INFO: 🔍 Querying Qdrant for project thread with project_id: c218f09f-7a59-40af-a07f-30b407498d46
[16:05:11] INFO: 🔍 Qdrant response status: 200
[16:05:11] INFO: 🔍 Found 1 project threads for project c218f09f-7a59-40af-a07f-30b407498d46
[16:05:11] INFO: 🔍 Using most recent project thread: 357421d2-5b93-4c77-989d-77bfa5dbc5e2
[16:05:11] INFO: 🔍 Last activity: 2025-09-18T16:05:09.685809
[16:05:11] INFO: ✅ Project thread created: 357421d2-5b93-4c77-989d-77bfa5dbc5e2
[16:05:11] INFO: 🔍 Verifying event: project_creation
[16:05:11] INFO: 🔍 Querying Qdrant for project thread with project_id: c218f09f-7a59-40af-a07f-30b407498d46
[16:05:11] INFO: 🔍 Qdrant response status: 200
[16:05:11] INFO: 🔍 Found 1 project threads for project c218f09f-7a59-40af-a07f-30b407498d46
[16:05:11] INFO: 🔍 Using most recent project thread: 357421d2-5b93-4c77-989d-77bfa5dbc5e2
[16:05:11] INFO: 🔍 Last activity: 2025-09-18T16:05:09.685809
[16:05:11] INFO: ✅ PASS: project_creation event found: project_created
[16:05:11] INFO: 🧪 TEST 2: Creating ontology and verifying capture...
[16:05:12] INFO: ✅ Ontology created successfully
[16:05:12] INFO:    Backup ID: 362b769b-bb6c-4a80-b04f-651751a63c52
[16:05:12] INFO:    Triples: 3
[16:05:14] INFO: 🔍 Verifying event: ontology_creation
[16:05:14] INFO: 🔍 Querying Qdrant for project thread with project_id: c218f09f-7a59-40af-a07f-30b407498d46
[16:05:14] INFO: 🔍 Qdrant response status: 200
[16:05:14] INFO: 🔍 Found 1 project threads for project c218f09f-7a59-40af-a07f-30b407498d46
[16:05:14] INFO: 🔍 Using most recent project thread: 357421d2-5b93-4c77-989d-77bfa5dbc5e2
[16:05:14] INFO: 🔍 Last activity: 2025-09-18T16:05:12.256220
[16:05:14] INFO: ✅ PASS: ontology_creation event found: Created new ontology: default
[16:05:14] INFO: 🧪 TEST 3: Performing semantic operations...
[16:05:14] INFO: ✅ Classes created: TestClass1, TestClass2
[16:05:16] INFO: ✅ Added: relationship 'relatedTo', data property 'testName', renamed TestClass1
[16:05:18] INFO: 🔍 Querying Qdrant for project thread with project_id: c218f09f-7a59-40af-a07f-30b407498d46
[16:05:18] INFO: 🔍 Qdrant response status: 200
[16:05:18] INFO: 🔍 Found 1 project threads for project c218f09f-7a59-40af-a07f-30b407498d46
[16:05:18] INFO: 🔍 Using most recent project thread: 357421d2-5b93-4c77-989d-77bfa5dbc5e2
[16:05:18] INFO: 🔍 Last activity: 2025-09-18T16:05:16.109482
[16:05:18] INFO: ✅ Captured 3 semantic ontology events
[16:05:18] INFO:    - Created new ontology: default
[16:05:18] INFO:    - Updated ontology with semantic changes
[16:05:18] INFO:    - Updated ontology with semantic changes
[16:05:18] INFO: 🧪 TEST 3.5: Uploading knowledge files...
[16:05:18] INFO: 📁 Uploading data/decision_matrix_template.md...
[16:05:18] INFO: ✅ Uploaded decision_matrix_template.md
[16:05:18] INFO:    File ID: 17410f97-cd85-444a-9908-67ab69d30c95
[16:05:18] INFO:    Knowledge Asset ID: cc863f37-94ca-11f0-ba07-0242ac140002
[16:05:18] INFO:    Message: File uploaded and BPMN knowledge processing started (workflow: cc863f37-94ca-11f0-ba07-0242ac140002)
[16:05:18] INFO:    Process Instance: cc863f37-94ca-11f0-ba07-0242ac140002
[16:05:19] INFO: 📁 Uploading data/disaster_response_requirements.md...
[16:05:20] INFO: ✅ Uploaded disaster_response_requirements.md
[16:05:20] INFO:    File ID: 939dfa5d-dc5f-41ff-acf6-1df8cc172248
[16:05:20] INFO:    Knowledge Asset ID: cd679e9b-94ca-11f0-ba07-0242ac140002
[16:05:20] INFO:    Message: File uploaded and BPMN knowledge processing started (workflow: cd679e9b-94ca-11f0-ba07-0242ac140002)
[16:05:20] INFO:    Process Instance: cd679e9b-94ca-11f0-ba07-0242ac140002
[16:05:21] INFO: 📁 Uploading data/uas_specifications.md...
[16:05:21] INFO: ✅ Uploaded uas_specifications.md
[16:05:21] INFO:    File ID: e3ade0f3-994c-4ad5-811d-d15d73b5c929
[16:05:21] INFO:    Knowledge Asset ID: ce5be9bf-94ca-11f0-ba07-0242ac140002
[16:05:21] INFO:    Message: File uploaded and BPMN knowledge processing started (workflow: ce5be9bf-94ca-11f0-ba07-0242ac140002)
[16:05:21] INFO:    Process Instance: ce5be9bf-94ca-11f0-ba07-0242ac140002
[16:05:22] INFO: ⏳ Monitoring Camunda knowledge processing workflows...
[16:05:22] INFO: 🧹 Cleaning up any hanging knowledge processes...
[16:05:22] INFO: ✅ Cleaned up 3 hanging processes
[16:05:25] INFO: ⏳ Waiting for knowledge processing to complete...
[16:05:25] INFO: ✅ Knowledge processing completed!
[16:05:26] WARNING: ⚠️  No knowledge assets created yet - may still be processing
[16:05:26] INFO: 🧪 TEST 5: Testing DAS integration with complete project context...
[16:05:26] INFO: 🤖 Asking DAS: What is this project name and id?
[16:05:26] INFO: ✅ DAS Response (high): I couldn't find any relevant information in the knowledge base to answer your question. You may want...
[16:05:27] INFO: 🤖 Asking DAS: What ontologies does this project have?
[16:05:28] INFO: ✅ DAS Response (high): I couldn't find any relevant information in the knowledge base to answer your question. You may want...
[16:05:29] INFO: 🤖 Asking DAS: Can you tell me what classes we have in our ontologies?
[16:05:30] INFO: ✅ DAS Response (low): I couldn't find any relevant information in the knowledge base to answer your question. You may want...
[16:05:31] INFO: 🤖 Asking DAS: What files are in this project?
[16:05:31] INFO: ✅ DAS Response (high): I couldn't find any relevant information in the knowledge base to answer your question. You may want...
[16:05:32] INFO: 🤖 Asking DAS: What are the specifications of the QuadCopter T4?
[16:05:33] INFO: ✅ DAS Response (low): I couldn't find any relevant information in the knowledge base to answer your question. You may want...
[16:05:34] INFO: 🤖 Asking DAS: Tell me about the TriVector VTOL platform
[16:05:34] INFO: ✅ DAS Response (low): I couldn't find any relevant information in the knowledge base to answer your question. You may want...
[16:05:35] INFO: 🤖 Asking DAS: What did I just ask?
[16:05:38] INFO: ✅ DAS Response (high): You just asked: "Tell me about the TriVector VTOL platform"...
[16:05:39] INFO: 🔍 Checking for DAS routing failures...
[16:05:39] INFO: ⚠️  Note: Check /tmp/odras_app.log for 'DAS routing FAILED' messages
[16:05:39] INFO: ⚠️  Routing failures indicate events are captured but not reaching project threads
[16:05:39] INFO: 📋 PROJECT THREAD SUMMARY (Real Qdrant Data):
[16:05:39] INFO: 🔍 Querying Qdrant for project thread with project_id: c218f09f-7a59-40af-a07f-30b407498d46
[16:05:39] INFO: 🔍 Qdrant response status: 200
[16:05:39] INFO: 🔍 Found 1 project threads for project c218f09f-7a59-40af-a07f-30b407498d46
[16:05:39] INFO: 🔍 Using most recent project thread: 357421d2-5b93-4c77-989d-77bfa5dbc5e2
[16:05:39] INFO: 🔍 Last activity: 2025-09-18T16:05:36.023681
[16:05:39] INFO:    Project ID: c218f09f-7a59-40af-a07f-30b407498d46
[16:05:39] INFO:    Thread ID: 357421d2-5b93-4c77-989d-77bfa5dbc5e2
[16:05:39] INFO:    Created: 2025-09-18T16:05:09.474230
[16:05:39] INFO:    Last Activity: 2025-09-18T16:05:36.023681
[16:05:39] INFO:    Total Events in Qdrant: 11
[16:05:39] INFO:    Event breakdown: {'das_command': 2, 'ontology_modified': 3, 'das_question': 6}
[16:05:39] INFO:    Event 1: [das_command] project_thread_created @ 2025-09-18T16:05:09.580294
[16:05:39] INFO:    Event 2: [das_command] project_created @ 2025-09-18T16:05:09.685809
[16:05:39] INFO:    Event 3: [ontology_modified] Created new ontology: default @ 2025-09-18T16:05:12.256220
[16:05:39] INFO:    Event 4: [ontology_modified] Updated ontology with semantic changes @ 2025-09-18T16:05:14.717878
[16:05:39] INFO:    Event 5: [ontology_modified] Updated ontology with semantic changes @ 2025-09-18T16:05:16.109482
[16:05:39] INFO:    Event 6: [das_question] unknown @ 2025-09-18T16:05:26.533629
[16:05:39] INFO:    Event 7: [das_question] unknown @ 2025-09-18T16:05:28.094940
[16:05:39] INFO:    Event 8: [das_question] unknown @ 2025-09-18T16:05:30.028428
[16:05:39] INFO:    Event 9: [das_question] unknown @ 2025-09-18T16:05:31.509405
[16:05:39] INFO:    Event 10: [das_question] unknown @ 2025-09-18T16:05:33.120762
[16:05:39] INFO:    Event 11: [das_question] unknown @ 2025-09-18T16:05:34.780872
[16:05:39] INFO:    Expected events found: ['project_thread_created', 'project_created', 'ontology', 'ontology', 'ontology']
[16:05:39] INFO: 🎉 ALL TESTS PASSED! Event capture pipeline is working correctly.
[16:05:39] INFO: 📊 FINAL RESULTS:
[16:05:39] INFO:    Project ID: c218f09f-7a59-40af-a07f-30b407498d46
[16:05:39] INFO:    Project Thread ID: 357421d2-5b93-4c77-989d-77bfa5dbc5e2
[16:05:39] INFO:    Log File: logs/event_capture_test_test_1758225908.log
