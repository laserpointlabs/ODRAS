[16:12:39] INFO: 🚀 Starting complete event capture pipeline test...
[16:12:39] INFO:    Test Session: test_1758226359
[16:12:39] INFO:    Log File: logs/event_capture_test_test_1758226359.log
[16:12:39] INFO: ✅ Authentication successful
[16:12:39] INFO: 🧪 TEST 1: Creating project and verifying project thread...
[16:12:40] INFO: ✅ Project created: 6041ade2-cfc3-4381-9d21-828396f807a5
[16:12:40] INFO:    Name: Event Pipeline Test test_1758226359
[16:12:42] INFO: 🔍 Querying Qdrant for project thread with project_id: 6041ade2-cfc3-4381-9d21-828396f807a5
[16:12:42] INFO: 🔍 Qdrant response status: 200
[16:12:42] INFO: 🔍 Found 1 project threads for project 6041ade2-cfc3-4381-9d21-828396f807a5
[16:12:42] INFO: 🔍 Using most recent project thread: 081d1273-99bd-478a-9313-d8198cc12329
[16:12:42] INFO: 🔍 Last activity: 2025-09-18T16:12:39.951611
[16:12:42] INFO: ✅ Project thread created: 081d1273-99bd-478a-9313-d8198cc12329
[16:12:42] INFO: 🔍 Verifying event: project_creation
[16:12:42] INFO: 🔍 Querying Qdrant for project thread with project_id: 6041ade2-cfc3-4381-9d21-828396f807a5
[16:12:42] INFO: 🔍 Qdrant response status: 200
[16:12:42] INFO: 🔍 Found 1 project threads for project 6041ade2-cfc3-4381-9d21-828396f807a5
[16:12:42] INFO: 🔍 Using most recent project thread: 081d1273-99bd-478a-9313-d8198cc12329
[16:12:42] INFO: 🔍 Last activity: 2025-09-18T16:12:39.951611
[16:12:42] INFO: ✅ PASS: project_creation event found: project_created
[16:12:42] INFO: 🧪 TEST 2: Creating ontology and verifying capture...
[16:12:42] INFO: ✅ Ontology created successfully
[16:12:42] INFO:    Backup ID: ae43ad8c-ddc6-4e38-8152-1c1669075234
[16:12:42] INFO:    Triples: 3
[16:12:44] INFO: 🔍 Verifying event: ontology_creation
[16:12:44] INFO: 🔍 Querying Qdrant for project thread with project_id: 6041ade2-cfc3-4381-9d21-828396f807a5
[16:12:44] INFO: 🔍 Qdrant response status: 200
[16:12:44] INFO: 🔍 Found 1 project threads for project 6041ade2-cfc3-4381-9d21-828396f807a5
[16:12:44] INFO: 🔍 Using most recent project thread: 081d1273-99bd-478a-9313-d8198cc12329
[16:12:44] INFO: 🔍 Last activity: 2025-09-18T16:12:42.452841
[16:12:44] INFO: ✅ PASS: ontology_creation event found: Created new ontology: default
[16:12:44] INFO: 🧪 TEST 3: Performing semantic operations...
[16:12:44] INFO: ✅ Classes created: TestClass1, TestClass2
[16:12:46] INFO: ✅ Added: relationship 'relatedTo', data property 'testName', renamed TestClass1
[16:12:48] INFO: 🔍 Querying Qdrant for project thread with project_id: 6041ade2-cfc3-4381-9d21-828396f807a5
[16:12:48] INFO: 🔍 Qdrant response status: 200
[16:12:48] INFO: 🔍 Found 1 project threads for project 6041ade2-cfc3-4381-9d21-828396f807a5
[16:12:48] INFO: 🔍 Using most recent project thread: 081d1273-99bd-478a-9313-d8198cc12329
[16:12:48] INFO: 🔍 Last activity: 2025-09-18T16:12:46.258939
[16:12:48] INFO: ✅ Captured 3 semantic ontology events
[16:12:48] INFO:    - Created new ontology: default
[16:12:48] INFO:    - Updated ontology with semantic changes
[16:12:48] INFO:    - Updated ontology with semantic changes
[16:12:48] INFO: 🧪 TEST 3.5: Uploading knowledge files...
[16:12:48] INFO: 📁 Uploading data/decision_matrix_template.md...
[16:12:48] INFO: ✅ Uploaded decision_matrix_template.md
[16:12:48] INFO:    File ID: 89ea1221-cdfe-4bb1-ba17-69f1512ea5d8
[16:12:48] INFO:    Knowledge Asset ID: d8d058b2-94cb-11f0-ba07-0242ac140002
[16:12:48] INFO:    Message: File uploaded and BPMN knowledge processing started (workflow: d8d058b2-94cb-11f0-ba07-0242ac140002)
[16:12:48] INFO:    Process Instance: d8d058b2-94cb-11f0-ba07-0242ac140002
[16:12:49] INFO: 📁 Uploading data/disaster_response_requirements.md...
[16:12:50] INFO: ✅ Uploaded disaster_response_requirements.md
[16:12:50] INFO:    File ID: 3633ce54-3ead-4f27-8d45-03d47ecbd1f6
[16:12:50] INFO:    Knowledge Asset ID: d9b38cd6-94cb-11f0-ba07-0242ac140002
[16:12:50] INFO:    Message: File uploaded and BPMN knowledge processing started (workflow: d9b38cd6-94cb-11f0-ba07-0242ac140002)
[16:12:50] INFO:    Process Instance: d9b38cd6-94cb-11f0-ba07-0242ac140002
[16:12:51] INFO: 📁 Uploading data/uas_specifications.md...
[16:12:51] INFO: ✅ Uploaded uas_specifications.md
[16:12:51] INFO:    File ID: 4f3156e6-5b90-41ca-9e0c-5c52083729b5
[16:12:51] INFO:    Knowledge Asset ID: daa9107a-94cb-11f0-ba07-0242ac140002
[16:12:51] INFO:    Message: File uploaded and BPMN knowledge processing started (workflow: daa9107a-94cb-11f0-ba07-0242ac140002)
[16:12:51] INFO:    Process Instance: daa9107a-94cb-11f0-ba07-0242ac140002
[16:12:52] INFO: ⏳ Monitoring Camunda knowledge processing workflows...
[16:12:52] INFO: 🔍 Checking for existing processes before starting monitoring...
[16:12:55] INFO: ⏳ Waiting for knowledge processing to complete...
[16:12:55] INFO: ⏳ 3 processes still active (elapsed: 0s)
[16:13:00] INFO: ⏳ 3 processes still active (elapsed: 5s)
[16:13:05] INFO: ⏳ 3 processes still active (elapsed: 10s)
[16:13:10] INFO: ⏳ 3 processes still active (elapsed: 15s)
[16:13:15] INFO: ⏳ 3 processes still active (elapsed: 20s)
[16:13:21] INFO: ⏳ 2 processes still active (elapsed: 25s)
[16:13:26] INFO: ⏳ 2 processes still active (elapsed: 30s)
[16:13:31] INFO: ⏳ 2 processes still active (elapsed: 35s)
[16:13:36] INFO: ⏳ 2 processes still active (elapsed: 40s)
[16:13:41] INFO: ⏳ 2 processes still active (elapsed: 45s)
[16:13:46] INFO: ⏳ 2 processes still active (elapsed: 50s)
[16:13:51] INFO: ⏳ 1 processes still active (elapsed: 55s)
[16:13:56] INFO: ⏳ 1 processes still active (elapsed: 60s)
[16:14:01] INFO: ⏳ 1 processes still active (elapsed: 65s)
[16:14:01] INFO: 🧹 Processes taking too long, cleaning up...
[16:14:03] INFO: 📋 decision_matrix_template.md: Asset unknown - Status: active
[16:14:03] INFO: 📋 disaster_response_requirements.md: Asset unknown - Status: active
[16:14:03] INFO: 📊 Knowledge assets: 2/3 created
[16:14:03] INFO: ⚠️  Search for 'QuadCopter T4' found 0 chunks
[16:14:03] INFO: ⚠️  Search for 'TriVector VTOL' found 0 chunks
[16:14:04] INFO: ⚠️  Search for 'disaster response' found 0 chunks
[16:14:04] WARNING: ⚠️  Knowledge assets created but not yet searchable - will test DAS with project thread context
[16:14:04] INFO: 🧪 TEST 5: Testing DAS integration with complete project context...
[16:14:04] INFO: 🤖 Asking DAS: What is this project name and id?
[16:14:05] INFO: ✅ DAS Response (high): I couldn't find any relevant information in the knowledge base to answer your question. You may want...
[16:14:06] INFO: 🤖 Asking DAS: What ontologies does this project have?
[16:14:06] INFO: ✅ DAS Response (high): I couldn't find any relevant information in the knowledge base to answer your question. You may want...
[16:14:07] INFO: 🤖 Asking DAS: Can you tell me what classes we have in our ontologies?
[16:14:08] INFO: ✅ DAS Response (low): I couldn't find any relevant information in the knowledge base to answer your question. You may want...
[16:14:09] INFO: 🤖 Asking DAS: What files are in this project?
[16:14:09] INFO: ✅ DAS Response (high): I couldn't find any relevant information in the knowledge base to answer your question. You may want...
[16:14:10] INFO: 🤖 Asking DAS: What are the specifications of the QuadCopter T4?
[16:14:11] INFO: ✅ DAS Response (low): I couldn't find any relevant information in the knowledge base to answer your question. You may want...
[16:14:12] INFO: 🤖 Asking DAS: Tell me about the TriVector VTOL platform
[16:14:12] INFO: ✅ DAS Response (low): I couldn't find any relevant information in the knowledge base to answer your question. You may want...
[16:14:13] INFO: 🤖 Asking DAS: What did I just ask?
[16:14:16] INFO: ✅ DAS Response (high): You just asked: "Tell me about the TriVector VTOL platform"...
[16:14:17] INFO: 🔍 Checking for DAS routing failures...
[16:14:17] INFO: ⚠️  Note: Check /tmp/odras_app.log for 'DAS routing FAILED' messages
[16:14:17] INFO: ⚠️  Routing failures indicate events are captured but not reaching project threads
[16:14:17] INFO: 📋 PROJECT THREAD SUMMARY (Real Qdrant Data):
[16:14:17] INFO: 🔍 Querying Qdrant for project thread with project_id: 6041ade2-cfc3-4381-9d21-828396f807a5
[16:14:17] INFO: 🔍 Qdrant response status: 200
[16:14:17] INFO: 🔍 Found 1 project threads for project 6041ade2-cfc3-4381-9d21-828396f807a5
[16:14:17] INFO: 🔍 Using most recent project thread: 081d1273-99bd-478a-9313-d8198cc12329
[16:14:17] INFO: 🔍 Last activity: 2025-09-18T16:14:13.928984
[16:14:17] INFO:    Project ID: 6041ade2-cfc3-4381-9d21-828396f807a5
[16:14:17] INFO:    Thread ID: 081d1273-99bd-478a-9313-d8198cc12329
[16:14:17] INFO:    Created: 2025-09-18T16:12:39.764564
[16:14:17] INFO:    Last Activity: 2025-09-18T16:14:13.928984
[16:14:17] INFO:    Total Events in Qdrant: 11
[16:14:17] INFO:    Event breakdown: {'das_command': 2, 'ontology_modified': 3, 'das_question': 6}
[16:14:17] INFO:    Event 1: [das_command] project_thread_created @ 2025-09-18T16:12:39.864947
[16:14:17] INFO:    Event 2: [das_command] project_created @ 2025-09-18T16:12:39.951611
[16:14:17] INFO:    Event 3: [ontology_modified] Created new ontology: default @ 2025-09-18T16:12:42.452841
[16:14:17] INFO:    Event 4: [ontology_modified] Updated ontology with semantic changes @ 2025-09-18T16:12:44.893365
[16:14:17] INFO:    Event 5: [ontology_modified] Updated ontology with semantic changes @ 2025-09-18T16:12:46.258939
[16:14:17] INFO:    Event 6: [das_question] unknown @ 2025-09-18T16:14:04.674798
[16:14:17] INFO:    Event 7: [das_question] unknown @ 2025-09-18T16:14:06.513585
[16:14:17] INFO:    Event 8: [das_question] unknown @ 2025-09-18T16:14:08.085320
[16:14:17] INFO:    Event 9: [das_question] unknown @ 2025-09-18T16:14:09.547787
[16:14:17] INFO:    Event 10: [das_question] unknown @ 2025-09-18T16:14:11.124590
[16:14:17] INFO:    Event 11: [das_question] unknown @ 2025-09-18T16:14:12.648694
[16:14:17] INFO:    Expected events found: ['project_thread_created', 'project_created', 'ontology', 'ontology', 'ontology']
[16:14:17] INFO: 🎉 ALL TESTS PASSED! Event capture pipeline is working correctly.
[16:14:17] INFO: 📊 FINAL RESULTS:
[16:14:17] INFO:    Project ID: 6041ade2-cfc3-4381-9d21-828396f807a5
[16:14:17] INFO:    Project Thread ID: 081d1273-99bd-478a-9313-d8198cc12329
[16:14:17] INFO:    Log File: logs/event_capture_test_test_1758226359.log
