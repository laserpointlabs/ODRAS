[15:27:14] INFO: 🚀 Starting complete event capture pipeline test...
[15:27:14] INFO:    Test Session: test_1758223634
[15:27:14] INFO:    Log File: logs/event_capture_test_test_1758223634.log
[15:27:14] INFO: ✅ Authentication successful
[15:27:14] INFO: 🧪 TEST 1: Creating project and verifying project thread...
[15:27:15] INFO: ✅ Project created: 97721d3d-a2d6-4e03-9146-4b49ec26c92c
[15:27:15] INFO:    Name: Event Pipeline Test test_1758223634
[15:27:17] INFO: 🔍 Querying Qdrant for project thread with project_id: 97721d3d-a2d6-4e03-9146-4b49ec26c92c
[15:27:17] INFO: 🔍 Qdrant response status: 200
[15:27:17] INFO: 🔍 Found 1 project threads for project 97721d3d-a2d6-4e03-9146-4b49ec26c92c
[15:27:17] INFO: 🔍 Using most recent project thread: afff55a0-aa14-4fb7-b5ad-53de48b90a88
[15:27:17] INFO: 🔍 Last activity: 2025-09-18T15:27:15.239159
[15:27:17] INFO: ✅ Project thread created: afff55a0-aa14-4fb7-b5ad-53de48b90a88
[15:27:17] INFO: 🔍 Verifying event: project_creation
[15:27:17] INFO: 🔍 Querying Qdrant for project thread with project_id: 97721d3d-a2d6-4e03-9146-4b49ec26c92c
[15:27:17] INFO: 🔍 Qdrant response status: 200
[15:27:17] INFO: 🔍 Found 1 project threads for project 97721d3d-a2d6-4e03-9146-4b49ec26c92c
[15:27:17] INFO: 🔍 Using most recent project thread: afff55a0-aa14-4fb7-b5ad-53de48b90a88
[15:27:17] INFO: 🔍 Last activity: 2025-09-18T15:27:15.239159
[15:27:17] INFO: ✅ PASS: project_creation event found: project_created
[15:27:17] INFO: 🧪 TEST 2: Creating ontology and verifying capture...
[15:27:17] INFO: ✅ Ontology created successfully
[15:27:17] INFO:    Backup ID: f2782d7c-6712-448d-8cc2-e8e592ed54cf
[15:27:17] INFO:    Triples: 3
[15:27:19] INFO: 🔍 Verifying event: ontology_creation
[15:27:19] INFO: 🔍 Querying Qdrant for project thread with project_id: 97721d3d-a2d6-4e03-9146-4b49ec26c92c
[15:27:19] INFO: 🔍 Qdrant response status: 200
[15:27:19] INFO: 🔍 Found 1 project threads for project 97721d3d-a2d6-4e03-9146-4b49ec26c92c
[15:27:19] INFO: 🔍 Using most recent project thread: afff55a0-aa14-4fb7-b5ad-53de48b90a88
[15:27:19] INFO: 🔍 Last activity: 2025-09-18T15:27:17.756228
[15:27:19] INFO: ✅ PASS: ontology_creation event found: Created new ontology: default
[15:27:19] INFO: 🧪 TEST 3: Performing semantic operations...
[15:27:20] INFO: ✅ Classes created: TestClass1, TestClass2
[15:27:21] INFO: ✅ Added: relationship 'relatedTo', data property 'testName', renamed TestClass1
[15:27:23] INFO: 🔍 Querying Qdrant for project thread with project_id: 97721d3d-a2d6-4e03-9146-4b49ec26c92c
[15:27:23] INFO: 🔍 Qdrant response status: 200
[15:27:23] INFO: 🔍 Found 1 project threads for project 97721d3d-a2d6-4e03-9146-4b49ec26c92c
[15:27:23] INFO: 🔍 Using most recent project thread: afff55a0-aa14-4fb7-b5ad-53de48b90a88
[15:27:23] INFO: 🔍 Last activity: 2025-09-18T15:27:21.654204
[15:27:23] INFO: ✅ Captured 3 semantic ontology events
[15:27:23] INFO:    - Created new ontology: default
[15:27:23] INFO:    - Updated ontology with semantic changes
[15:27:23] INFO:    - Updated ontology with semantic changes
[15:27:23] INFO: 🧪 TEST 3.5: Uploading knowledge files...
[15:27:23] INFO: 📁 Uploading data/decision_matrix_template.md...
[15:27:25] INFO: ✅ Uploaded decision_matrix_template.md - File ID: a0979b66-9843-4ed0-a399-99c96268867f
[15:27:27] INFO: 📁 Uploading data/disaster_response_requirements.md...
[15:27:28] INFO: ✅ Uploaded disaster_response_requirements.md - File ID: bbec2221-95a0-48d1-a307-29f449a6a2a9
[15:27:30] INFO: 📁 Uploading data/uas_specifications.md...
[15:27:30] INFO: ✅ Uploaded uas_specifications.md - File ID: 5777baf1-8a96-4781-ab4c-a3285e0f3402
[15:27:32] INFO: ⏳ Waiting for knowledge processing to complete...
[15:27:42] INFO: 🧪 TEST 5: Testing DAS integration with complete project context...
[15:27:42] INFO: 🤖 Asking DAS: What is this project name and id?
[15:27:43] INFO: ✅ DAS Response (high): I couldn't find any relevant information in the knowledge base to answer your question. You may want...
[15:27:44] INFO: 🤖 Asking DAS: What ontologies does this project have?
[15:27:44] INFO: ✅ DAS Response (high): I couldn't find any relevant information in the knowledge base to answer your question. You may want...
[15:27:45] INFO: 🤖 Asking DAS: Can you tell me what classes we have in our ontologies?
[15:27:46] INFO: ✅ DAS Response (low): I couldn't find any relevant information in the knowledge base to answer your question. You may want...
[15:27:47] INFO: 🤖 Asking DAS: What files are in this project?
[15:27:48] INFO: ✅ DAS Response (high): I couldn't find any relevant information in the knowledge base to answer your question. You may want...
[15:27:49] INFO: 🤖 Asking DAS: What are the specifications of the QuadCopter T4?
[15:27:50] INFO: ✅ DAS Response (low): I couldn't find any relevant information in the knowledge base to answer your question. You may want...
[15:27:51] INFO: 🤖 Asking DAS: Tell me about the TriVector VTOL platform
[15:27:51] INFO: ✅ DAS Response (low): I couldn't find any relevant information in the knowledge base to answer your question. You may want...
[15:27:52] INFO: 🤖 Asking DAS: What did I just ask?
[15:27:56] INFO: ✅ DAS Response (high): You just asked: "Tell me about the TriVector VTOL platform"...
[15:27:57] INFO: 🔍 Checking for DAS routing failures...
[15:27:57] INFO: ⚠️  Note: Check /tmp/odras_app.log for 'DAS routing FAILED' messages
[15:27:57] INFO: ⚠️  Routing failures indicate events are captured but not reaching project threads
[15:27:57] INFO: 📋 PROJECT THREAD SUMMARY (Real Qdrant Data):
[15:27:57] INFO: 🔍 Querying Qdrant for project thread with project_id: 97721d3d-a2d6-4e03-9146-4b49ec26c92c
[15:27:57] INFO: 🔍 Qdrant response status: 200
[15:27:57] INFO: 🔍 Found 1 project threads for project 97721d3d-a2d6-4e03-9146-4b49ec26c92c
[15:27:57] INFO: 🔍 Using most recent project thread: afff55a0-aa14-4fb7-b5ad-53de48b90a88
[15:27:57] INFO: 🔍 Last activity: 2025-09-18T15:27:52.788004
[15:27:57] INFO:    Project ID: 97721d3d-a2d6-4e03-9146-4b49ec26c92c
[15:27:57] INFO:    Thread ID: afff55a0-aa14-4fb7-b5ad-53de48b90a88
[15:27:57] INFO:    Created: 2025-09-18T15:27:15.019993
[15:27:57] INFO:    Last Activity: 2025-09-18T15:27:52.788004
[15:27:57] INFO:    Total Events in Qdrant: 11
[15:27:57] INFO:    Event breakdown: {'das_command': 2, 'ontology_modified': 3, 'das_question': 6}
[15:27:57] INFO:    Event 1: [das_command] project_thread_created @ 2025-09-18T15:27:15.129159
[15:27:57] INFO:    Event 2: [das_command] project_created @ 2025-09-18T15:27:15.239159
[15:27:57] INFO:    Event 3: [ontology_modified] Created new ontology: default @ 2025-09-18T15:27:17.756228
[15:27:57] INFO:    Event 4: [ontology_modified] Updated ontology with semantic changes @ 2025-09-18T15:27:20.221677
[15:27:57] INFO:    Event 5: [ontology_modified] Updated ontology with semantic changes @ 2025-09-18T15:27:21.654204
[15:27:57] INFO:    Event 6: [das_question] unknown @ 2025-09-18T15:27:43.307955
[15:27:57] INFO:    Event 7: [das_question] unknown @ 2025-09-18T15:27:44.850814
[15:27:57] INFO:    Event 8: [das_question] unknown @ 2025-09-18T15:27:46.753350
[15:27:57] INFO:    Event 9: [das_question] unknown @ 2025-09-18T15:27:48.282884
[15:27:57] INFO:    Event 10: [das_question] unknown @ 2025-09-18T15:27:49.933852
[15:27:57] INFO:    Event 11: [das_question] unknown @ 2025-09-18T15:27:51.554019
[15:27:57] INFO:    Expected events found: ['project_thread_created', 'project_created', 'ontology', 'ontology', 'ontology']
[15:27:57] INFO: 🎉 ALL TESTS PASSED! Event capture pipeline is working correctly.
[15:27:57] INFO: 📊 FINAL RESULTS:
[15:27:57] INFO:    Project ID: 97721d3d-a2d6-4e03-9146-4b49ec26c92c
[15:27:57] INFO:    Project Thread ID: afff55a0-aa14-4fb7-b5ad-53de48b90a88
[15:27:57] INFO:    Log File: logs/event_capture_test_test_1758223634.log
